var F4=Object.create;var rv=Object.defineProperty,T4=Object.defineProperties,M4=Object.getOwnPropertyDescriptor,A4=Object.getOwnPropertyDescriptors,N4=Object.getOwnPropertyNames,mD=Object.getOwnPropertySymbols,R4=Object.getPrototypeOf,yD=Object.prototype.hasOwnProperty,O4=Object.prototype.propertyIsEnumerable;var vD=(t,e,n)=>e in t?rv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q=(t,e)=>{for(var n in e||={})yD.call(e,n)&&vD(t,n,e[n]);if(mD)for(var n of mD(e))O4.call(e,n)&&vD(t,n,e[n]);return t},ve=(t,e)=>T4(t,A4(e));var E=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var P4=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of N4(e))!yD.call(t,i)&&i!==n&&rv(t,i,{get:()=>e[i],enumerable:!(r=M4(e,i))||r.enumerable});return t};var dn=(t,e,n)=>(n=t!=null?F4(R4(t)):{},P4(e||!t||!t.__esModule?rv(n,"default",{value:t,enumerable:!0}):n,t));var Zy=E((s_e,hF)=>{"use strict";var i9=typeof global=="object"&&global&&global.Object===Object&&global;hF.exports=i9});var Vi=E((a_e,pF)=>{"use strict";var o9=Zy(),s9=typeof self=="object"&&self&&self.Object===Object&&self,a9=o9||s9||Function("return this")();pF.exports=a9});var ba=E((u_e,gF)=>{"use strict";var u9=Vi(),c9=u9.Symbol;gF.exports=c9});var _F=E((c_e,yF)=>{"use strict";var mF=ba(),vF=Object.prototype,l9=vF.hasOwnProperty,d9=vF.toString,wl=mF?mF.toStringTag:void 0;function f9(t){var e=l9.call(t,wl),n=t[wl];try{t[wl]=void 0;var r=!0}catch{}var i=d9.call(t);return r&&(e?t[wl]=n:delete t[wl]),i}yF.exports=f9});var CF=E((l_e,wF)=>{"use strict";var h9=Object.prototype,p9=h9.toString;function g9(t){return p9.call(t)}wF.exports=g9});var xa=E((d_e,DF)=>{"use strict";var bF=ba(),m9=_F(),v9=CF(),y9="[object Null]",_9="[object Undefined]",xF=bF?bF.toStringTag:void 0;function w9(t){return t==null?t===void 0?_9:y9:xF&&xF in Object(t)?m9(t):v9(t)}DF.exports=w9});var Yy=E((f_e,EF)=>{"use strict";function C9(t,e){return function(n){return t(e(n))}}EF.exports=C9});var ap=E((h_e,IF)=>{"use strict";var b9=Yy(),x9=b9(Object.getPrototypeOf,Object);IF.exports=x9});var $o=E((p_e,SF)=>{"use strict";function D9(t){return t!=null&&typeof t=="object"}SF.exports=D9});var MF=E((g_e,TF)=>{"use strict";var E9=xa(),I9=ap(),S9=$o(),F9="[object Object]",T9=Function.prototype,M9=Object.prototype,FF=T9.toString,A9=M9.hasOwnProperty,N9=FF.call(Object);function R9(t){if(!S9(t)||E9(t)!=F9)return!1;var e=I9(t);if(e===null)return!0;var n=A9.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&FF.call(n)==N9}TF.exports=R9});var oo=E((m_e,AF)=>{"use strict";function O9(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}AF.exports=O9});var up=E((v_e,NF)=>{"use strict";var P9=xa(),k9=oo(),L9="[object AsyncFunction]",j9="[object Function]",V9="[object GeneratorFunction]",B9="[object Proxy]";function $9(t){if(!k9(t))return!1;var e=P9(t);return e==j9||e==V9||e==L9||e==B9}NF.exports=$9});var OF=E((y_e,RF)=>{"use strict";var U9=Vi(),q9=U9["__core-js_shared__"];RF.exports=q9});var LF=E((__e,kF)=>{"use strict";var Qy=OF(),PF=function(){var t=/[^.]+$/.exec(Qy&&Qy.keys&&Qy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function H9(t){return!!PF&&PF in t}kF.exports=H9});var Jy=E((w_e,jF)=>{"use strict";var z9=Function.prototype,G9=z9.toString;function W9(t){if(t!=null){try{return G9.call(t)}catch{}try{return t+""}catch{}}return""}jF.exports=W9});var BF=E((C_e,VF)=>{"use strict";var K9=up(),Z9=LF(),Y9=oo(),Q9=Jy(),J9=/[\\^$.*+?()[\]{}|]/g,X9=/^\[object .+?Constructor\]$/,eW=Function.prototype,tW=Object.prototype,nW=eW.toString,rW=tW.hasOwnProperty,iW=RegExp("^"+nW.call(rW).replace(J9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function oW(t){if(!Y9(t)||Z9(t))return!1;var e=K9(t)?iW:X9;return e.test(Q9(t))}VF.exports=oW});var UF=E((b_e,$F)=>{"use strict";function sW(t,e){return t?.[e]}$F.exports=sW});var Ds=E((x_e,qF)=>{"use strict";var aW=BF(),uW=UF();function cW(t,e){var n=uW(t,e);return aW(n)?n:void 0}qF.exports=cW});var Xy=E((D_e,HF)=>{"use strict";var lW=Ds(),dW=function(){try{var t=lW(Object,"defineProperty");return t({},"",{}),t}catch{}}();HF.exports=dW});var cp=E((E_e,GF)=>{"use strict";var zF=Xy();function fW(t,e,n){e=="__proto__"&&zF?zF(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}GF.exports=fW});var KF=E((I_e,WF)=>{"use strict";function hW(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),c=a.length;c--;){var l=a[t?c:++i];if(n(o[l],l,o)===!1)break}return e}}WF.exports=hW});var e_=E((S_e,ZF)=>{"use strict";var pW=KF(),gW=pW();ZF.exports=gW});var QF=E((F_e,YF)=>{"use strict";function mW(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}YF.exports=mW});var XF=E((T_e,JF)=>{"use strict";var vW=xa(),yW=$o(),_W="[object Arguments]";function wW(t){return yW(t)&&vW(t)==_W}JF.exports=wW});var Cl=E((M_e,nT)=>{"use strict";var eT=XF(),CW=$o(),tT=Object.prototype,bW=tT.hasOwnProperty,xW=tT.propertyIsEnumerable,DW=eT(function(){return arguments}())?eT:function(t){return CW(t)&&bW.call(t,"callee")&&!xW.call(t,"callee")};nT.exports=DW});var ni=E((A_e,rT)=>{"use strict";var EW=Array.isArray;rT.exports=EW});var oT=E((N_e,iT)=>{"use strict";function IW(){return!1}iT.exports=IW});var xl=E((bl,Vu)=>{"use strict";var SW=Vi(),FW=oT(),uT=typeof bl=="object"&&bl&&!bl.nodeType&&bl,sT=uT&&typeof Vu=="object"&&Vu&&!Vu.nodeType&&Vu,TW=sT&&sT.exports===uT,aT=TW?SW.Buffer:void 0,MW=aT?aT.isBuffer:void 0,AW=MW||FW;Vu.exports=AW});var Dl=E((R_e,cT)=>{"use strict";var NW=9007199254740991,RW=/^(?:0|[1-9]\d*)$/;function OW(t,e){var n=typeof t;return e=e??NW,!!e&&(n=="number"||n!="symbol"&&RW.test(t))&&t>-1&&t%1==0&&t<e}cT.exports=OW});var lp=E((O_e,lT)=>{"use strict";var PW=9007199254740991;function kW(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=PW}lT.exports=kW});var fT=E((P_e,dT)=>{"use strict";var LW=xa(),jW=lp(),VW=$o(),BW="[object Arguments]",$W="[object Array]",UW="[object Boolean]",qW="[object Date]",HW="[object Error]",zW="[object Function]",GW="[object Map]",WW="[object Number]",KW="[object Object]",ZW="[object RegExp]",YW="[object Set]",QW="[object String]",JW="[object WeakMap]",XW="[object ArrayBuffer]",eK="[object DataView]",tK="[object Float32Array]",nK="[object Float64Array]",rK="[object Int8Array]",iK="[object Int16Array]",oK="[object Int32Array]",sK="[object Uint8Array]",aK="[object Uint8ClampedArray]",uK="[object Uint16Array]",cK="[object Uint32Array]",sn={};sn[tK]=sn[nK]=sn[rK]=sn[iK]=sn[oK]=sn[sK]=sn[aK]=sn[uK]=sn[cK]=!0;sn[BW]=sn[$W]=sn[XW]=sn[UW]=sn[eK]=sn[qW]=sn[HW]=sn[zW]=sn[GW]=sn[WW]=sn[KW]=sn[ZW]=sn[YW]=sn[QW]=sn[JW]=!1;function lK(t){return VW(t)&&jW(t.length)&&!!sn[LW(t)]}dT.exports=lK});var dp=E((k_e,hT)=>{"use strict";function dK(t){return function(e){return t(e)}}hT.exports=dK});var fp=E((El,Bu)=>{"use strict";var fK=Zy(),pT=typeof El=="object"&&El&&!El.nodeType&&El,Il=pT&&typeof Bu=="object"&&Bu&&!Bu.nodeType&&Bu,hK=Il&&Il.exports===pT,t_=hK&&fK.process,pK=function(){try{var t=Il&&Il.require&&Il.require("util").types;return t||t_&&t_.binding&&t_.binding("util")}catch{}}();Bu.exports=pK});var hp=E((L_e,vT)=>{"use strict";var gK=fT(),mK=dp(),gT=fp(),mT=gT&&gT.isTypedArray,vK=mT?mK(mT):gK;vT.exports=vK});var n_=E((j_e,yT)=>{"use strict";var yK=QF(),_K=Cl(),wK=ni(),CK=xl(),bK=Dl(),xK=hp(),DK=Object.prototype,EK=DK.hasOwnProperty;function IK(t,e){var n=wK(t),r=!n&&_K(t),i=!n&&!r&&CK(t),o=!n&&!r&&!i&&xK(t),a=n||r||i||o,c=a?yK(t.length,String):[],l=c.length;for(var d in t)(e||EK.call(t,d))&&!(a&&(d=="length"||i&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||bK(d,l)))&&c.push(d);return c}yT.exports=IK});var $u=E((V_e,_T)=>{"use strict";var SK=Object.prototype;function FK(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||SK;return t===n}_T.exports=FK});var CT=E((B_e,wT)=>{"use strict";var TK=Yy(),MK=TK(Object.keys,Object);wT.exports=MK});var r_=E(($_e,bT)=>{"use strict";var AK=$u(),NK=CT(),RK=Object.prototype,OK=RK.hasOwnProperty;function PK(t){if(!AK(t))return NK(t);var e=[];for(var n in Object(t))OK.call(t,n)&&n!="constructor"&&e.push(n);return e}bT.exports=PK});var so=E((U_e,xT)=>{"use strict";var kK=up(),LK=lp();function jK(t){return t!=null&&LK(t.length)&&!kK(t)}xT.exports=jK});var Uo=E((q_e,DT)=>{"use strict";var VK=n_(),BK=r_(),$K=so();function UK(t){return $K(t)?VK(t):BK(t)}DT.exports=UK});var i_=E((H_e,ET)=>{"use strict";var qK=e_(),HK=Uo();function zK(t,e){return t&&qK(t,e,HK)}ET.exports=zK});var ST=E((z_e,IT)=>{"use strict";function GK(){this.__data__=[],this.size=0}IT.exports=GK});var Sl=E((G_e,FT)=>{"use strict";function WK(t,e){return t===e||t!==t&&e!==e}FT.exports=WK});var Fl=E((W_e,TT)=>{"use strict";var KK=Sl();function ZK(t,e){for(var n=t.length;n--;)if(KK(t[n][0],e))return n;return-1}TT.exports=ZK});var AT=E((K_e,MT)=>{"use strict";var YK=Fl(),QK=Array.prototype,JK=QK.splice;function XK(t){var e=this.__data__,n=YK(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():JK.call(e,n,1),--this.size,!0}MT.exports=XK});var RT=E((Z_e,NT)=>{"use strict";var eZ=Fl();function tZ(t){var e=this.__data__,n=eZ(e,t);return n<0?void 0:e[n][1]}NT.exports=tZ});var PT=E((Y_e,OT)=>{"use strict";var nZ=Fl();function rZ(t){return nZ(this.__data__,t)>-1}OT.exports=rZ});var LT=E((Q_e,kT)=>{"use strict";var iZ=Fl();function oZ(t,e){var n=this.__data__,r=iZ(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}kT.exports=oZ});var Tl=E((J_e,jT)=>{"use strict";var sZ=ST(),aZ=AT(),uZ=RT(),cZ=PT(),lZ=LT();function Uu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Uu.prototype.clear=sZ;Uu.prototype.delete=aZ;Uu.prototype.get=uZ;Uu.prototype.has=cZ;Uu.prototype.set=lZ;jT.exports=Uu});var BT=E((X_e,VT)=>{"use strict";var dZ=Tl();function fZ(){this.__data__=new dZ,this.size=0}VT.exports=fZ});var UT=E((ewe,$T)=>{"use strict";function hZ(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}$T.exports=hZ});var HT=E((twe,qT)=>{"use strict";function pZ(t){return this.__data__.get(t)}qT.exports=pZ});var GT=E((nwe,zT)=>{"use strict";function gZ(t){return this.__data__.has(t)}zT.exports=gZ});var pp=E((rwe,WT)=>{"use strict";var mZ=Ds(),vZ=Vi(),yZ=mZ(vZ,"Map");WT.exports=yZ});var Ml=E((iwe,KT)=>{"use strict";var _Z=Ds(),wZ=_Z(Object,"create");KT.exports=wZ});var QT=E((owe,YT)=>{"use strict";var ZT=Ml();function CZ(){this.__data__=ZT?ZT(null):{},this.size=0}YT.exports=CZ});var XT=E((swe,JT)=>{"use strict";function bZ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}JT.exports=bZ});var tM=E((awe,eM)=>{"use strict";var xZ=Ml(),DZ="__lodash_hash_undefined__",EZ=Object.prototype,IZ=EZ.hasOwnProperty;function SZ(t){var e=this.__data__;if(xZ){var n=e[t];return n===DZ?void 0:n}return IZ.call(e,t)?e[t]:void 0}eM.exports=SZ});var rM=E((uwe,nM)=>{"use strict";var FZ=Ml(),TZ=Object.prototype,MZ=TZ.hasOwnProperty;function AZ(t){var e=this.__data__;return FZ?e[t]!==void 0:MZ.call(e,t)}nM.exports=AZ});var oM=E((cwe,iM)=>{"use strict";var NZ=Ml(),RZ="__lodash_hash_undefined__";function OZ(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=NZ&&e===void 0?RZ:e,this}iM.exports=OZ});var aM=E((lwe,sM)=>{"use strict";var PZ=QT(),kZ=XT(),LZ=tM(),jZ=rM(),VZ=oM();function qu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qu.prototype.clear=PZ;qu.prototype.delete=kZ;qu.prototype.get=LZ;qu.prototype.has=jZ;qu.prototype.set=VZ;sM.exports=qu});var lM=E((dwe,cM)=>{"use strict";var uM=aM(),BZ=Tl(),$Z=pp();function UZ(){this.size=0,this.__data__={hash:new uM,map:new($Z||BZ),string:new uM}}cM.exports=UZ});var fM=E((fwe,dM)=>{"use strict";function qZ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}dM.exports=qZ});var Al=E((hwe,hM)=>{"use strict";var HZ=fM();function zZ(t,e){var n=t.__data__;return HZ(e)?n[typeof e=="string"?"string":"hash"]:n.map}hM.exports=zZ});var gM=E((pwe,pM)=>{"use strict";var GZ=Al();function WZ(t){var e=GZ(this,t).delete(t);return this.size-=e?1:0,e}pM.exports=WZ});var vM=E((gwe,mM)=>{"use strict";var KZ=Al();function ZZ(t){return KZ(this,t).get(t)}mM.exports=ZZ});var _M=E((mwe,yM)=>{"use strict";var YZ=Al();function QZ(t){return YZ(this,t).has(t)}yM.exports=QZ});var CM=E((vwe,wM)=>{"use strict";var JZ=Al();function XZ(t,e){var n=JZ(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}wM.exports=XZ});var gp=E((ywe,bM)=>{"use strict";var eY=lM(),tY=gM(),nY=vM(),rY=_M(),iY=CM();function Hu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hu.prototype.clear=eY;Hu.prototype.delete=tY;Hu.prototype.get=nY;Hu.prototype.has=rY;Hu.prototype.set=iY;bM.exports=Hu});var DM=E((_we,xM)=>{"use strict";var oY=Tl(),sY=pp(),aY=gp(),uY=200;function cY(t,e){var n=this.__data__;if(n instanceof oY){var r=n.__data__;if(!sY||r.length<uY-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new aY(r)}return n.set(t,e),this.size=n.size,this}xM.exports=cY});var mp=E((wwe,EM)=>{"use strict";var lY=Tl(),dY=BT(),fY=UT(),hY=HT(),pY=GT(),gY=DM();function zu(t){var e=this.__data__=new lY(t);this.size=e.size}zu.prototype.clear=dY;zu.prototype.delete=fY;zu.prototype.get=hY;zu.prototype.has=pY;zu.prototype.set=gY;EM.exports=zu});var SM=E((Cwe,IM)=>{"use strict";var mY="__lodash_hash_undefined__";function vY(t){return this.__data__.set(t,mY),this}IM.exports=vY});var TM=E((bwe,FM)=>{"use strict";function yY(t){return this.__data__.has(t)}FM.exports=yY});var o_=E((xwe,MM)=>{"use strict";var _Y=gp(),wY=SM(),CY=TM();function vp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new _Y;++e<n;)this.add(t[e])}vp.prototype.add=vp.prototype.push=wY;vp.prototype.has=CY;MM.exports=vp});var NM=E((Dwe,AM)=>{"use strict";function bY(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}AM.exports=bY});var s_=E((Ewe,RM)=>{"use strict";function xY(t,e){return t.has(e)}RM.exports=xY});var a_=E((Iwe,OM)=>{"use strict";var DY=o_(),EY=NM(),IY=s_(),SY=1,FY=2;function TY(t,e,n,r,i,o){var a=n&SY,c=t.length,l=e.length;if(c!=l&&!(a&&l>c))return!1;var d=o.get(t),p=o.get(e);if(d&&p)return d==e&&p==t;var g=-1,y=!0,_=n&FY?new DY:void 0;for(o.set(t,e),o.set(e,t);++g<c;){var C=t[g],O=e[g];if(r)var j=a?r(O,C,g,e,t,o):r(C,O,g,t,e,o);if(j!==void 0){if(j)continue;y=!1;break}if(_){if(!EY(e,function(A,J){if(!IY(_,J)&&(C===A||i(C,A,n,r,o)))return _.push(J)})){y=!1;break}}else if(!(C===O||i(C,O,n,r,o))){y=!1;break}}return o.delete(t),o.delete(e),y}OM.exports=TY});var u_=E((Swe,PM)=>{"use strict";var MY=Vi(),AY=MY.Uint8Array;PM.exports=AY});var LM=E((Fwe,kM)=>{"use strict";function NY(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}kM.exports=NY});var yp=E((Twe,jM)=>{"use strict";function RY(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}jM.exports=RY});var qM=E((Mwe,UM)=>{"use strict";var VM=ba(),BM=u_(),OY=Sl(),PY=a_(),kY=LM(),LY=yp(),jY=1,VY=2,BY="[object Boolean]",$Y="[object Date]",UY="[object Error]",qY="[object Map]",HY="[object Number]",zY="[object RegExp]",GY="[object Set]",WY="[object String]",KY="[object Symbol]",ZY="[object ArrayBuffer]",YY="[object DataView]",$M=VM?VM.prototype:void 0,c_=$M?$M.valueOf:void 0;function QY(t,e,n,r,i,o,a){switch(n){case YY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ZY:return!(t.byteLength!=e.byteLength||!o(new BM(t),new BM(e)));case BY:case $Y:case HY:return OY(+t,+e);case UY:return t.name==e.name&&t.message==e.message;case zY:case WY:return t==e+"";case qY:var c=kY;case GY:var l=r&jY;if(c||(c=LY),t.size!=e.size&&!l)return!1;var d=a.get(t);if(d)return d==e;r|=VY,a.set(t,e);var p=PY(c(t),c(e),r,i,o,a);return a.delete(t),p;case KY:if(c_)return c_.call(t)==c_.call(e)}return!1}UM.exports=QY});var _p=E((Awe,HM)=>{"use strict";function JY(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}HM.exports=JY});var l_=E((Nwe,zM)=>{"use strict";var XY=_p(),eQ=ni();function tQ(t,e,n){var r=e(t);return eQ(t)?r:XY(r,n(t))}zM.exports=tQ});var WM=E((Rwe,GM)=>{"use strict";function nQ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}GM.exports=nQ});var d_=E((Owe,KM)=>{"use strict";function rQ(){return[]}KM.exports=rQ});var wp=E((Pwe,YM)=>{"use strict";var iQ=WM(),oQ=d_(),sQ=Object.prototype,aQ=sQ.propertyIsEnumerable,ZM=Object.getOwnPropertySymbols,uQ=ZM?function(t){return t==null?[]:(t=Object(t),iQ(ZM(t),function(e){return aQ.call(t,e)}))}:oQ;YM.exports=uQ});var f_=E((kwe,QM)=>{"use strict";var cQ=l_(),lQ=wp(),dQ=Uo();function fQ(t){return cQ(t,dQ,lQ)}QM.exports=fQ});var eA=E((Lwe,XM)=>{"use strict";var JM=f_(),hQ=1,pQ=Object.prototype,gQ=pQ.hasOwnProperty;function mQ(t,e,n,r,i,o){var a=n&hQ,c=JM(t),l=c.length,d=JM(e),p=d.length;if(l!=p&&!a)return!1;for(var g=l;g--;){var y=c[g];if(!(a?y in e:gQ.call(e,y)))return!1}var _=o.get(t),C=o.get(e);if(_&&C)return _==e&&C==t;var O=!0;o.set(t,e),o.set(e,t);for(var j=a;++g<l;){y=c[g];var A=t[y],J=e[y];if(r)var be=a?r(J,A,y,e,t,o):r(A,J,y,t,e,o);if(!(be===void 0?A===J||i(A,J,n,r,o):be)){O=!1;break}j||(j=y=="constructor")}if(O&&!j){var _e=t.constructor,fe=e.constructor;_e!=fe&&"constructor"in t&&"constructor"in e&&!(typeof _e=="function"&&_e instanceof _e&&typeof fe=="function"&&fe instanceof fe)&&(O=!1)}return o.delete(t),o.delete(e),O}XM.exports=mQ});var nA=E((jwe,tA)=>{"use strict";var vQ=Ds(),yQ=Vi(),_Q=vQ(yQ,"DataView");tA.exports=_Q});var iA=E((Vwe,rA)=>{"use strict";var wQ=Ds(),CQ=Vi(),bQ=wQ(CQ,"Promise");rA.exports=bQ});var h_=E((Bwe,oA)=>{"use strict";var xQ=Ds(),DQ=Vi(),EQ=xQ(DQ,"Set");oA.exports=EQ});var aA=E(($we,sA)=>{"use strict";var IQ=Ds(),SQ=Vi(),FQ=IQ(SQ,"WeakMap");sA.exports=FQ});var Wu=E((Uwe,pA)=>{"use strict";var p_=nA(),g_=pp(),m_=iA(),v_=h_(),y_=aA(),hA=xa(),Gu=Jy(),uA="[object Map]",TQ="[object Object]",cA="[object Promise]",lA="[object Set]",dA="[object WeakMap]",fA="[object DataView]",MQ=Gu(p_),AQ=Gu(g_),NQ=Gu(m_),RQ=Gu(v_),OQ=Gu(y_),Da=hA;(p_&&Da(new p_(new ArrayBuffer(1)))!=fA||g_&&Da(new g_)!=uA||m_&&Da(m_.resolve())!=cA||v_&&Da(new v_)!=lA||y_&&Da(new y_)!=dA)&&(Da=function(t){var e=hA(t),n=e==TQ?t.constructor:void 0,r=n?Gu(n):"";if(r)switch(r){case MQ:return fA;case AQ:return uA;case NQ:return cA;case RQ:return lA;case OQ:return dA}return e});pA.exports=Da});var bA=E((qwe,CA)=>{"use strict";var __=mp(),PQ=a_(),kQ=qM(),LQ=eA(),gA=Wu(),mA=ni(),vA=xl(),jQ=hp(),VQ=1,yA="[object Arguments]",_A="[object Array]",Cp="[object Object]",BQ=Object.prototype,wA=BQ.hasOwnProperty;function $Q(t,e,n,r,i,o){var a=mA(t),c=mA(e),l=a?_A:gA(t),d=c?_A:gA(e);l=l==yA?Cp:l,d=d==yA?Cp:d;var p=l==Cp,g=d==Cp,y=l==d;if(y&&vA(t)){if(!vA(e))return!1;a=!0,p=!1}if(y&&!p)return o||(o=new __),a||jQ(t)?PQ(t,e,n,r,i,o):kQ(t,e,l,n,r,i,o);if(!(n&VQ)){var _=p&&wA.call(t,"__wrapped__"),C=g&&wA.call(e,"__wrapped__");if(_||C){var O=_?t.value():t,j=C?e.value():e;return o||(o=new __),i(O,j,n,r,o)}}return y?(o||(o=new __),LQ(t,e,n,r,i,o)):!1}CA.exports=$Q});var bp=E((Hwe,EA)=>{"use strict";var UQ=bA(),xA=$o();function DA(t,e,n,r,i){return t===e?!0:t==null||e==null||!xA(t)&&!xA(e)?t!==t&&e!==e:UQ(t,e,n,r,DA,i)}EA.exports=DA});var SA=E((zwe,IA)=>{"use strict";var qQ=mp(),HQ=bp(),zQ=1,GQ=2;function WQ(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var c=n[i];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){c=n[i];var l=c[0],d=t[l],p=c[1];if(a&&c[2]){if(d===void 0&&!(l in t))return!1}else{var g=new qQ;if(r)var y=r(d,p,l,t,e,g);if(!(y===void 0?HQ(p,d,zQ|GQ,r,g):y))return!1}}return!0}IA.exports=WQ});var w_=E((Gwe,FA)=>{"use strict";var KQ=oo();function ZQ(t){return t===t&&!KQ(t)}FA.exports=ZQ});var MA=E((Wwe,TA)=>{"use strict";var YQ=w_(),QQ=Uo();function JQ(t){for(var e=QQ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,YQ(i)]}return e}TA.exports=JQ});var C_=E((Kwe,AA)=>{"use strict";function XQ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}AA.exports=XQ});var RA=E((Zwe,NA)=>{"use strict";var eJ=SA(),tJ=MA(),nJ=C_();function rJ(t){var e=tJ(t);return e.length==1&&e[0][2]?nJ(e[0][0],e[0][1]):function(n){return n===t||eJ(n,t,e)}}NA.exports=rJ});var Nl=E((Ywe,OA)=>{"use strict";var iJ=xa(),oJ=$o(),sJ="[object Symbol]";function aJ(t){return typeof t=="symbol"||oJ(t)&&iJ(t)==sJ}OA.exports=aJ});var xp=E((Qwe,PA)=>{"use strict";var uJ=ni(),cJ=Nl(),lJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dJ=/^\w*$/;function fJ(t,e){if(uJ(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||cJ(t)?!0:dJ.test(t)||!lJ.test(t)||e!=null&&t in Object(e)}PA.exports=fJ});var jA=E((Jwe,LA)=>{"use strict";var kA=gp(),hJ="Expected a function";function b_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(hJ);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(b_.Cache||kA),n}b_.Cache=kA;LA.exports=b_});var BA=E((Xwe,VA)=>{"use strict";var pJ=jA(),gJ=500;function mJ(t){var e=pJ(t,function(r){return n.size===gJ&&n.clear(),r}),n=e.cache;return e}VA.exports=mJ});var UA=E((eCe,$A)=>{"use strict";var vJ=BA(),yJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_J=/\\(\\)?/g,wJ=vJ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(yJ,function(n,r,i,o){e.push(i?o.replace(_J,"$1"):r||n)}),e});$A.exports=wJ});var Dp=E((tCe,qA)=>{"use strict";function CJ(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}qA.exports=CJ});var ZA=E((nCe,KA)=>{"use strict";var HA=ba(),bJ=Dp(),xJ=ni(),DJ=Nl(),EJ=1/0,zA=HA?HA.prototype:void 0,GA=zA?zA.toString:void 0;function WA(t){if(typeof t=="string")return t;if(xJ(t))return bJ(t,WA)+"";if(DJ(t))return GA?GA.call(t):"";var e=t+"";return e=="0"&&1/t==-EJ?"-0":e}KA.exports=WA});var x_=E((rCe,YA)=>{"use strict";var IJ=ZA();function SJ(t){return t==null?"":IJ(t)}YA.exports=SJ});var Ku=E((iCe,QA)=>{"use strict";var FJ=ni(),TJ=xp(),MJ=UA(),AJ=x_();function NJ(t,e){return FJ(t)?t:TJ(t,e)?[t]:MJ(AJ(t))}QA.exports=NJ});var Ea=E((oCe,JA)=>{"use strict";var RJ=Nl(),OJ=1/0;function PJ(t){if(typeof t=="string"||RJ(t))return t;var e=t+"";return e=="0"&&1/t==-OJ?"-0":e}JA.exports=PJ});var Rl=E((sCe,XA)=>{"use strict";var kJ=Ku(),LJ=Ea();function jJ(t,e){e=kJ(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[LJ(e[n++])];return n&&n==r?t:void 0}XA.exports=jJ});var D_=E((aCe,eN)=>{"use strict";var VJ=Rl();function BJ(t,e,n){var r=t==null?void 0:VJ(t,e);return r===void 0?n:r}eN.exports=BJ});var nN=E((uCe,tN)=>{"use strict";function $J(t,e){return t!=null&&e in Object(t)}tN.exports=$J});var E_=E((cCe,rN)=>{"use strict";var UJ=Ku(),qJ=Cl(),HJ=ni(),zJ=Dl(),GJ=lp(),WJ=Ea();function KJ(t,e,n){e=UJ(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=WJ(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&GJ(i)&&zJ(a,i)&&(HJ(t)||qJ(t)))}rN.exports=KJ});var I_=E((lCe,iN)=>{"use strict";var ZJ=nN(),YJ=E_();function QJ(t,e){return t!=null&&YJ(t,e,ZJ)}iN.exports=QJ});var sN=E((dCe,oN)=>{"use strict";var JJ=bp(),XJ=D_(),eX=I_(),tX=xp(),nX=w_(),rX=C_(),iX=Ea(),oX=1,sX=2;function aX(t,e){return tX(t)&&nX(e)?rX(iX(t),e):function(n){var r=XJ(n,t);return r===void 0&&r===e?eX(n,t):JJ(e,r,oX|sX)}}oN.exports=aX});var Ol=E((fCe,aN)=>{"use strict";function uX(t){return t}aN.exports=uX});var cN=E((hCe,uN)=>{"use strict";function cX(t){return function(e){return e?.[t]}}uN.exports=cX});var dN=E((pCe,lN)=>{"use strict";var lX=Rl();function dX(t){return function(e){return lX(e,t)}}lN.exports=dX});var hN=E((gCe,fN)=>{"use strict";var fX=cN(),hX=dN(),pX=xp(),gX=Ea();function mX(t){return pX(t)?fX(gX(t)):hX(t)}fN.exports=mX});var Zu=E((mCe,pN)=>{"use strict";var vX=RA(),yX=sN(),_X=Ol(),wX=ni(),CX=hN();function bX(t){return typeof t=="function"?t:t==null?_X:typeof t=="object"?wX(t)?yX(t[0],t[1]):vX(t):CX(t)}pN.exports=bX});var mN=E((vCe,gN)=>{"use strict";var xX=cp(),DX=i_(),EX=Zu();function IX(t,e){var n={};return e=EX(e,3),DX(t,function(r,i,o){xX(n,i,e(r,i,o))}),n}gN.exports=IX});var S_=E((yCe,vN)=>{"use strict";function SX(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}vN.exports=SX});var _N=E((_Ce,yN)=>{"use strict";function FX(t){return t!==t}yN.exports=FX});var CN=E((wCe,wN)=>{"use strict";function TX(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}wN.exports=TX});var xN=E((CCe,bN)=>{"use strict";var MX=S_(),AX=_N(),NX=CN();function RX(t,e,n){return e===e?NX(t,e,n):MX(t,AX,n)}bN.exports=RX});var EN=E((bCe,DN)=>{"use strict";var OX=xN();function PX(t,e){var n=t==null?0:t.length;return!!n&&OX(t,e,0)>-1}DN.exports=PX});var SN=E((xCe,IN)=>{"use strict";function kX(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}IN.exports=kX});var TN=E((DCe,FN)=>{"use strict";function LX(){}FN.exports=LX});var AN=E((ECe,MN)=>{"use strict";var F_=h_(),jX=TN(),VX=yp(),BX=1/0,$X=F_&&1/VX(new F_([,-0]))[1]==BX?function(t){return new F_(t)}:jX;MN.exports=$X});var T_=E((ICe,NN)=>{"use strict";var UX=o_(),qX=EN(),HX=SN(),zX=s_(),GX=AN(),WX=yp(),KX=200;function ZX(t,e,n){var r=-1,i=qX,o=t.length,a=!0,c=[],l=c;if(n)a=!1,i=HX;else if(o>=KX){var d=e?null:GX(t);if(d)return WX(d);a=!1,i=zX,l=new UX}else l=e?[]:c;e:for(;++r<o;){var p=t[r],g=e?e(p):p;if(p=n||p!==0?p:0,a&&g===g){for(var y=l.length;y--;)if(l[y]===g)continue e;e&&l.push(g),c.push(p)}else i(l,g,n)||(l!==c&&l.push(g),c.push(p))}return c}NN.exports=ZX});var ON=E((SCe,RN)=>{"use strict";var YX=T_();function QX(t){return t&&t.length?YX(t):[]}RN.exports=QX});var jN=E((FCe,LN)=>{"use strict";var PN=ba(),JX=Cl(),XX=ni(),kN=PN?PN.isConcatSpreadable:void 0;function eee(t){return XX(t)||JX(t)||!!(kN&&t&&t[kN])}LN.exports=eee});var $N=E((TCe,BN)=>{"use strict";var tee=_p(),nee=jN();function VN(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=nee),i||(i=[]);++o<a;){var c=t[o];e>0&&n(c)?e>1?VN(c,e-1,n,r,i):tee(i,c):r||(i[i.length]=c)}return i}BN.exports=VN});var M_=E((MCe,UN)=>{"use strict";var ree=$N();function iee(t){var e=t==null?0:t.length;return e?ree(t,1):[]}UN.exports=iee});var k_=E((RCe,JN)=>{"use strict";function lee(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}JN.exports=lee});var eR=E((OCe,XN)=>{"use strict";var dee=k_();function fee(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:dee(t,e,n)}XN.exports=fee});var L_=E((PCe,tR)=>{"use strict";var hee="\\ud800-\\udfff",pee="\\u0300-\\u036f",gee="\\ufe20-\\ufe2f",mee="\\u20d0-\\u20ff",vee=pee+gee+mee,yee="\\ufe0e\\ufe0f",_ee="\\u200d",wee=RegExp("["+_ee+hee+vee+yee+"]");function Cee(t){return wee.test(t)}tR.exports=Cee});var rR=E((kCe,nR)=>{"use strict";function bee(t){return t.split("")}nR.exports=bee});var dR=E((LCe,lR)=>{"use strict";var iR="\\ud800-\\udfff",xee="\\u0300-\\u036f",Dee="\\ufe20-\\ufe2f",Eee="\\u20d0-\\u20ff",Iee=xee+Dee+Eee,See="\\ufe0e\\ufe0f",Fee="["+iR+"]",j_="["+Iee+"]",V_="\\ud83c[\\udffb-\\udfff]",Tee="(?:"+j_+"|"+V_+")",oR="[^"+iR+"]",sR="(?:\\ud83c[\\udde6-\\uddff]){2}",aR="[\\ud800-\\udbff][\\udc00-\\udfff]",Mee="\\u200d",uR=Tee+"?",cR="["+See+"]?",Aee="(?:"+Mee+"(?:"+[oR,sR,aR].join("|")+")"+cR+uR+")*",Nee=cR+uR+Aee,Ree="(?:"+[oR+j_+"?",j_,sR,aR,Fee].join("|")+")",Oee=RegExp(V_+"(?="+V_+")|"+Ree+Nee,"g");function Pee(t){return t.match(Oee)||[]}lR.exports=Pee});var hR=E((jCe,fR)=>{"use strict";var kee=rR(),Lee=L_(),jee=dR();function Vee(t){return Lee(t)?jee(t):kee(t)}fR.exports=Vee});var gR=E((VCe,pR)=>{"use strict";var Bee=eR(),$ee=L_(),Uee=hR(),qee=x_();function Hee(t){return function(e){e=qee(e);var n=$ee(e)?Uee(e):void 0,r=n?n[0]:e.charAt(0),i=n?Bee(n,1).join(""):e.slice(1);return r[t]()+i}}pR.exports=Hee});var vR=E((BCe,mR)=>{"use strict";var zee=gR(),Gee=zee("toLowerCase");mR.exports=Gee});var _R=E(($Ce,yR)=>{"use strict";var Wee=bp();function Kee(t,e){return Wee(t,e)}yR.exports=Kee});var CR=E((UCe,wR)=>{"use strict";var Zee=so();function Yee(t,e){return function(n,r){if(n==null)return n;if(!Zee(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}wR.exports=Yee});var B_=E((qCe,bR)=>{"use strict";var Qee=i_(),Jee=CR(),Xee=Jee(Qee);bR.exports=Xee});var DR=E((HCe,xR)=>{"use strict";var ete=B_(),tte=so();function nte(t,e){var n=-1,r=tte(t)?Array(t.length):[];return ete(t,function(i,o,a){r[++n]=e(i,o,a)}),r}xR.exports=nte});var IR=E((zCe,ER)=>{"use strict";var rte=Dp(),ite=Zu(),ote=DR(),ste=ni();function ate(t,e){var n=ste(t)?rte:ote;return n(t,ite(e,3))}ER.exports=ate});var FR=E((GCe,SR)=>{"use strict";function ute(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}SR.exports=ute});var Pl=E((WCe,TR)=>{"use strict";var cte=cp(),lte=Sl(),dte=Object.prototype,fte=dte.hasOwnProperty;function hte(t,e,n){var r=t[e];(!(fte.call(t,e)&&lte(r,n))||n===void 0&&!(e in t))&&cte(t,e,n)}TR.exports=hte});var Qu=E((KCe,MR)=>{"use strict";var pte=Pl(),gte=cp();function mte(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var c=e[o],l=r?r(n[c],t[c],c,n,t):void 0;l===void 0&&(l=t[c]),i?gte(n,c,l):pte(n,c,l)}return n}MR.exports=mte});var NR=E((ZCe,AR)=>{"use strict";var vte=Qu(),yte=Uo();function _te(t,e){return t&&vte(e,yte(e),t)}AR.exports=_te});var OR=E((YCe,RR)=>{"use strict";function wte(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}RR.exports=wte});var kR=E((QCe,PR)=>{"use strict";var Cte=oo(),bte=$u(),xte=OR(),Dte=Object.prototype,Ete=Dte.hasOwnProperty;function Ite(t){if(!Cte(t))return xte(t);var e=bte(t),n=[];for(var r in t)r=="constructor"&&(e||!Ete.call(t,r))||n.push(r);return n}PR.exports=Ite});var kl=E((JCe,LR)=>{"use strict";var Ste=n_(),Fte=kR(),Tte=so();function Mte(t){return Tte(t)?Ste(t,!0):Fte(t)}LR.exports=Mte});var VR=E((XCe,jR)=>{"use strict";var Ate=Qu(),Nte=kl();function Rte(t,e){return t&&Ate(e,Nte(e),t)}jR.exports=Rte});var HR=E((Ll,Ju)=>{"use strict";var Ote=Vi(),qR=typeof Ll=="object"&&Ll&&!Ll.nodeType&&Ll,BR=qR&&typeof Ju=="object"&&Ju&&!Ju.nodeType&&Ju,Pte=BR&&BR.exports===qR,$R=Pte?Ote.Buffer:void 0,UR=$R?$R.allocUnsafe:void 0;function kte(t,e){if(e)return t.slice();var n=t.length,r=UR?UR(n):new t.constructor(n);return t.copy(r),r}Ju.exports=kte});var GR=E((ebe,zR)=>{"use strict";function Lte(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}zR.exports=Lte});var KR=E((tbe,WR)=>{"use strict";var jte=Qu(),Vte=wp();function Bte(t,e){return jte(t,Vte(t),e)}WR.exports=Bte});var $_=E((nbe,ZR)=>{"use strict";var $te=_p(),Ute=ap(),qte=wp(),Hte=d_(),zte=Object.getOwnPropertySymbols,Gte=zte?function(t){for(var e=[];t;)$te(e,qte(t)),t=Ute(t);return e}:Hte;ZR.exports=Gte});var QR=E((rbe,YR)=>{"use strict";var Wte=Qu(),Kte=$_();function Zte(t,e){return Wte(t,Kte(t),e)}YR.exports=Zte});var XR=E((ibe,JR)=>{"use strict";var Yte=l_(),Qte=$_(),Jte=kl();function Xte(t){return Yte(t,Jte,Qte)}JR.exports=Xte});var tO=E((obe,eO)=>{"use strict";var ene=Object.prototype,tne=ene.hasOwnProperty;function nne(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&tne.call(t,"index")&&(n.index=t.index,n.input=t.input),n}eO.exports=nne});var Sp=E((sbe,rO)=>{"use strict";var nO=u_();function rne(t){var e=new t.constructor(t.byteLength);return new nO(e).set(new nO(t)),e}rO.exports=rne});var oO=E((abe,iO)=>{"use strict";var ine=Sp();function one(t,e){var n=e?ine(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}iO.exports=one});var aO=E((ube,sO)=>{"use strict";var sne=/\w*$/;function ane(t){var e=new t.constructor(t.source,sne.exec(t));return e.lastIndex=t.lastIndex,e}sO.exports=ane});var fO=E((cbe,dO)=>{"use strict";var uO=ba(),cO=uO?uO.prototype:void 0,lO=cO?cO.valueOf:void 0;function une(t){return lO?Object(lO.call(t)):{}}dO.exports=une});var pO=E((lbe,hO)=>{"use strict";var cne=Sp();function lne(t,e){var n=e?cne(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}hO.exports=lne});var mO=E((dbe,gO)=>{"use strict";var dne=Sp(),fne=oO(),hne=aO(),pne=fO(),gne=pO(),mne="[object Boolean]",vne="[object Date]",yne="[object Map]",_ne="[object Number]",wne="[object RegExp]",Cne="[object Set]",bne="[object String]",xne="[object Symbol]",Dne="[object ArrayBuffer]",Ene="[object DataView]",Ine="[object Float32Array]",Sne="[object Float64Array]",Fne="[object Int8Array]",Tne="[object Int16Array]",Mne="[object Int32Array]",Ane="[object Uint8Array]",Nne="[object Uint8ClampedArray]",Rne="[object Uint16Array]",One="[object Uint32Array]";function Pne(t,e,n){var r=t.constructor;switch(e){case Dne:return dne(t);case mne:case vne:return new r(+t);case Ene:return fne(t,n);case Ine:case Sne:case Fne:case Tne:case Mne:case Ane:case Nne:case Rne:case One:return gne(t,n);case yne:return new r;case _ne:case bne:return new r(t);case wne:return hne(t);case Cne:return new r;case xne:return pne(t)}}gO.exports=Pne});var _O=E((fbe,yO)=>{"use strict";var kne=oo(),vO=Object.create,Lne=function(){function t(){}return function(e){if(!kne(e))return{};if(vO)return vO(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();yO.exports=Lne});var CO=E((hbe,wO)=>{"use strict";var jne=_O(),Vne=ap(),Bne=$u();function $ne(t){return typeof t.constructor=="function"&&!Bne(t)?jne(Vne(t)):{}}wO.exports=$ne});var xO=E((pbe,bO)=>{"use strict";var Une=Wu(),qne=$o(),Hne="[object Map]";function zne(t){return qne(t)&&Une(t)==Hne}bO.exports=zne});var SO=E((gbe,IO)=>{"use strict";var Gne=xO(),Wne=dp(),DO=fp(),EO=DO&&DO.isMap,Kne=EO?Wne(EO):Gne;IO.exports=Kne});var TO=E((mbe,FO)=>{"use strict";var Zne=Wu(),Yne=$o(),Qne="[object Set]";function Jne(t){return Yne(t)&&Zne(t)==Qne}FO.exports=Jne});var RO=E((vbe,NO)=>{"use strict";var Xne=TO(),ere=dp(),MO=fp(),AO=MO&&MO.isSet,tre=AO?ere(AO):Xne;NO.exports=tre});var jO=E((ybe,LO)=>{"use strict";var nre=mp(),rre=FR(),ire=Pl(),ore=NR(),sre=VR(),are=HR(),ure=GR(),cre=KR(),lre=QR(),dre=f_(),fre=XR(),hre=Wu(),pre=tO(),gre=mO(),mre=CO(),vre=ni(),yre=xl(),_re=SO(),wre=oo(),Cre=RO(),bre=Uo(),xre=kl(),Dre=1,Ere=2,Ire=4,OO="[object Arguments]",Sre="[object Array]",Fre="[object Boolean]",Tre="[object Date]",Mre="[object Error]",PO="[object Function]",Are="[object GeneratorFunction]",Nre="[object Map]",Rre="[object Number]",kO="[object Object]",Ore="[object RegExp]",Pre="[object Set]",kre="[object String]",Lre="[object Symbol]",jre="[object WeakMap]",Vre="[object ArrayBuffer]",Bre="[object DataView]",$re="[object Float32Array]",Ure="[object Float64Array]",qre="[object Int8Array]",Hre="[object Int16Array]",zre="[object Int32Array]",Gre="[object Uint8Array]",Wre="[object Uint8ClampedArray]",Kre="[object Uint16Array]",Zre="[object Uint32Array]",Xt={};Xt[OO]=Xt[Sre]=Xt[Vre]=Xt[Bre]=Xt[Fre]=Xt[Tre]=Xt[$re]=Xt[Ure]=Xt[qre]=Xt[Hre]=Xt[zre]=Xt[Nre]=Xt[Rre]=Xt[kO]=Xt[Ore]=Xt[Pre]=Xt[kre]=Xt[Lre]=Xt[Gre]=Xt[Wre]=Xt[Kre]=Xt[Zre]=!0;Xt[Mre]=Xt[PO]=Xt[jre]=!1;function Fp(t,e,n,r,i,o){var a,c=e&Dre,l=e&Ere,d=e&Ire;if(n&&(a=i?n(t,r,i,o):n(t)),a!==void 0)return a;if(!wre(t))return t;var p=vre(t);if(p){if(a=pre(t),!c)return ure(t,a)}else{var g=hre(t),y=g==PO||g==Are;if(yre(t))return are(t,c);if(g==kO||g==OO||y&&!i){if(a=l||y?{}:mre(t),!c)return l?lre(t,sre(a,t)):cre(t,ore(a,t))}else{if(!Xt[g])return i?t:{};a=gre(t,g,c)}}o||(o=new nre);var _=o.get(t);if(_)return _;o.set(t,a),Cre(t)?t.forEach(function(j){a.add(Fp(j,e,n,j,t,o))}):_re(t)&&t.forEach(function(j,A){a.set(A,Fp(j,e,n,A,t,o))});var C=d?l?fre:dre:l?xre:bre,O=p?void 0:C(t);return rre(O||t,function(j,A){O&&(A=j,j=t[A]),ire(a,A,Fp(j,e,n,A,t,o))}),a}LO.exports=Fp});var BO=E((_be,VO)=>{"use strict";var Yre=jO(),Qre=1,Jre=4;function Xre(t){return Yre(t,Qre|Jre)}VO.exports=Xre});var Tp=E((wbe,$O)=>{"use strict";function eie(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}$O.exports=eie});var qO=E((Cbe,UO)=>{"use strict";function tie(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}UO.exports=tie});var zO=E((bbe,HO)=>{"use strict";var nie=Rl(),rie=k_();function iie(t,e){return e.length<2?t:nie(t,rie(e,0,-1))}HO.exports=iie});var WO=E((xbe,GO)=>{"use strict";var oie=Tp(),sie=Ku(),aie=qO(),uie=zO(),cie=Ea();function lie(t,e,n){e=sie(e,t),t=uie(t,e);var r=t==null?t:t[cie(aie(e))];return r==null?void 0:oie(r,t,n)}GO.exports=lie});var U_=E((Dbe,ZO)=>{"use strict";var die=Tp(),KO=Math.max;function fie(t,e,n){return e=KO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=KO(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var c=Array(e+1);++i<e;)c[i]=r[i];return c[e]=n(a),die(t,this,c)}}ZO.exports=fie});var QO=E((Ebe,YO)=>{"use strict";function hie(t){return function(){return t}}YO.exports=hie});var eP=E((Ibe,XO)=>{"use strict";var pie=QO(),JO=Xy(),gie=Ol(),mie=JO?function(t,e){return JO(t,"toString",{configurable:!0,enumerable:!1,value:pie(e),writable:!0})}:gie;XO.exports=mie});var nP=E((Sbe,tP)=>{"use strict";var vie=800,yie=16,_ie=Date.now;function wie(t){var e=0,n=0;return function(){var r=_ie(),i=yie-(r-n);if(n=r,i>0){if(++e>=vie)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}tP.exports=wie});var q_=E((Fbe,rP)=>{"use strict";var Cie=eP(),bie=nP(),xie=bie(Cie);rP.exports=xie});var H_=E((Tbe,iP)=>{"use strict";var Die=Ol(),Eie=U_(),Iie=q_();function Sie(t,e){return Iie(Eie(t,e,Die),t+"")}iP.exports=Sie});var sP=E((Mbe,oP)=>{"use strict";var Fie=Tp(),Tie=B_(),Mie=WO(),Aie=H_(),Nie=so(),Rie=Aie(function(t,e,n){var r=-1,i=typeof e=="function",o=Nie(t)?Array(t.length):[];return Tie(t,function(a){o[++r]=i?Fie(e,a,n):Mie(a,e,n)}),o});oP.exports=Rie});var uP=E((Abe,aP)=>{"use strict";function Oie(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}aP.exports=Oie});var lP=E((Nbe,cP)=>{"use strict";var Pie=Object.prototype,kie=Pie.hasOwnProperty;function Lie(t,e){return t!=null&&kie.call(t,e)}cP.exports=Lie});var fP=E((Rbe,dP)=>{"use strict";var jie=lP(),Vie=E_();function Bie(t,e){return t!=null&&Vie(t,e,jie)}dP.exports=Bie});var pP=E((Obe,hP)=>{"use strict";var $ie=Dp();function Uie(t,e){return $ie(e,function(n){return t[n]})}hP.exports=Uie});var mP=E((Pbe,gP)=>{"use strict";var qie=pP(),Hie=Uo();function zie(t){return t==null?[]:qie(t,Hie(t))}gP.exports=zie});var yP=E((kbe,vP)=>{"use strict";var Gie=r_(),Wie=Wu(),Kie=Cl(),Zie=ni(),Yie=so(),Qie=xl(),Jie=$u(),Xie=hp(),eoe="[object Map]",toe="[object Set]",noe=Object.prototype,roe=noe.hasOwnProperty;function ioe(t){if(t==null)return!0;if(Yie(t)&&(Zie(t)||typeof t=="string"||typeof t.splice=="function"||Qie(t)||Xie(t)||Kie(t)))return!t.length;var e=Wie(t);if(e==eoe||e==toe)return!t.size;if(Jie(t))return!Gie(t).length;for(var n in t)if(roe.call(t,n))return!1;return!0}vP.exports=ioe});var wP=E((Lbe,_P)=>{"use strict";var ooe=Zu(),soe=T_();function aoe(t,e){return t&&t.length?soe(t,ooe(e,2)):[]}_P.exports=aoe});var bP=E((jbe,CP)=>{"use strict";var uoe=Ol();function coe(t){return typeof t=="function"?t:uoe}CP.exports=coe});var DP=E((Vbe,xP)=>{"use strict";var loe=e_(),doe=bP(),foe=kl();function hoe(t,e){return t==null?t:loe(t,doe(e),foe)}xP.exports=hoe});var SP=E((Bbe,IP)=>{"use strict";var poe=Pl(),goe=Ku(),moe=Dl(),EP=oo(),voe=Ea();function yoe(t,e,n,r){if(!EP(t))return t;e=goe(e,t);for(var i=-1,o=e.length,a=o-1,c=t;c!=null&&++i<o;){var l=voe(e[i]),d=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=a){var p=c[l];d=r?r(p,l,c):void 0,d===void 0&&(d=EP(p)?p:moe(e[i+1])?[]:{})}poe(c,l,d),c=c[l]}return t}IP.exports=yoe});var TP=E(($be,FP)=>{"use strict";var _oe=Rl(),woe=SP(),Coe=Ku();function boe(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],c=_oe(t,a);n(c,a)&&woe(o,Coe(a,t),c)}return o}FP.exports=boe});var AP=E((Ube,MP)=>{"use strict";var xoe=TP(),Doe=I_();function Eoe(t,e){return xoe(t,e,function(n,r){return Doe(t,r)})}MP.exports=Eoe});var RP=E((qbe,NP)=>{"use strict";var Ioe=M_(),Soe=U_(),Foe=q_();function Toe(t){return Foe(Soe(t,void 0,Ioe),t+"")}NP.exports=Toe});var PP=E((Hbe,OP)=>{"use strict";var Moe=AP(),Aoe=RP(),Noe=Aoe(function(t,e){return t==null?{}:Moe(t,e)});OP.exports=Noe});var LP=E((zbe,kP)=>{"use strict";var Roe=Sl(),Ooe=so(),Poe=Dl(),koe=oo();function Loe(t,e,n){if(!koe(n))return!1;var r=typeof e;return(r=="number"?Ooe(n)&&Poe(e,n.length):r=="string"&&e in n)?Roe(n[e],t):!1}kP.exports=Loe});var VP=E((Gbe,jP)=>{"use strict";var joe=H_(),Voe=LP();function Boe(t){return joe(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&Voe(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var c=n[r];c&&t(e,c,r,o)}return e})}jP.exports=Boe});var $P=E((Wbe,BP)=>{"use strict";var $oe=Pl(),Uoe=Qu(),qoe=VP(),Hoe=so(),zoe=$u(),Goe=Uo(),Woe=Object.prototype,Koe=Woe.hasOwnProperty,Zoe=qoe(function(t,e){if(zoe(e)||Hoe(e)){Uoe(e,Goe(e),t);return}for(var n in e)Koe.call(e,n)&&$oe(t,n,e[n])});BP.exports=Zoe});var qP=E((Kbe,UP)=>{"use strict";var Yoe=Zu(),Qoe=so(),Joe=Uo();function Xoe(t){return function(e,n,r){var i=Object(e);if(!Qoe(e)){var o=Yoe(n,3);e=Joe(e),n=function(c){return o(i[c],c,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}UP.exports=Xoe});var zP=E((Zbe,HP)=>{"use strict";var ese=/\s/;function tse(t){for(var e=t.length;e--&&ese.test(t.charAt(e)););return e}HP.exports=tse});var WP=E((Ybe,GP)=>{"use strict";var nse=zP(),rse=/^\s+/;function ise(t){return t&&t.slice(0,nse(t)+1).replace(rse,"")}GP.exports=ise});var QP=E((Qbe,YP)=>{"use strict";var ose=WP(),KP=oo(),sse=Nl(),ZP=NaN,ase=/^[-+]0x[0-9a-f]+$/i,use=/^0b[01]+$/i,cse=/^0o[0-7]+$/i,lse=parseInt;function dse(t){if(typeof t=="number")return t;if(sse(t))return ZP;if(KP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=KP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ose(t);var n=use.test(t);return n||cse.test(t)?lse(t.slice(2),n?2:8):ase.test(t)?ZP:+t}YP.exports=dse});var e2=E((Jbe,XP)=>{"use strict";var fse=QP(),JP=1/0,hse=17976931348623157e292;function pse(t){if(!t)return t===0?t:0;if(t=fse(t),t===JP||t===-JP){var e=t<0?-1:1;return e*hse}return t===t?t:0}XP.exports=pse});var z_=E((Xbe,t2)=>{"use strict";var gse=e2();function mse(t){var e=gse(t),n=e%1;return e===e?n?e-n:e:0}t2.exports=mse});var r2=E((exe,n2)=>{"use strict";var vse=S_(),yse=Zu(),_se=z_(),wse=Math.max;function Cse(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:_se(n);return i<0&&(i=wse(r+i,0)),vse(t,yse(e,3),i)}n2.exports=Cse});var o2=E((txe,i2)=>{"use strict";var bse=qP(),xse=r2(),Dse=bse(xse);i2.exports=Dse});var a2=E((nxe,s2)=>{"use strict";var Ese=z_();function Ise(t){return typeof t=="number"&&t==Ese(t)}s2.exports=Ise});var rk=E((oc,zl)=>{"use strict";(function(){var t,e="4.17.21",n=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",o="Invalid `variable` option passed into `_.template`",a="__lodash_hash_undefined__",c=500,l="__lodash_placeholder__",d=1,p=2,g=4,y=1,_=2,C=1,O=2,j=4,A=8,J=16,be=32,_e=64,fe=128,ne=256,He=512,bt=30,k="...",se=800,me=16,de=1,Qe=2,ue=3,Ue=1/0,K=9007199254740991,Je=17976931348623157e292,Lt=NaN,_t=4294967295,Gt=_t-1,un=_t>>>1,he=[["ary",fe],["bind",C],["bindKey",O],["curry",A],["curryRight",J],["flip",He],["partial",be],["partialRight",_e],["rearg",ne]],Nt="[object Arguments]",cn="[object Array]",Ne="[object AsyncFunction]",Re="[object Boolean]",pn="[object Date]",An="[object DOMException]",wn="[object Error]",Rt="[object Function]",ee="[object GeneratorFunction]",W="[object Map]",X="[object Number]",Fe="[object Null]",Qn="[object Object]",fo="[object Promise]",Zo="[object Proxy]",si="[object RegExp]",Hn="[object Set]",ai="[object String]",Br="[object Symbol]",Yo="[object Undefined]",Nn="[object WeakMap]",or="[object WeakSet]",Ee="[object ArrayBuffer]",we="[object DataView]",Tt="[object Float32Array]",Mt="[object Float64Array]",zn="[object Int8Array]",Rn="[object Int16Array]",F="[object Int32Array]",R="[object Uint8Array]",V="[object Uint8ClampedArray]",H="[object Uint16Array]",ce="[object Uint32Array]",ut=/\b__p \+= '';/g,mt=/\b(__p \+=) '' \+/g,Ie=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Z=/&(?:amp|lt|gt|quot|#39);/g,Q=/[&<>"']/g,te=RegExp(Z.source),ie=RegExp(Q.source),Te=/<%-([\s\S]+?)%>/g,nt=/<%([\s\S]+?)%>/g,ct=/<%=([\s\S]+?)%>/g,$t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yd=/^\w*$/,zg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bc=/[\\^$.*+?()[\]{}|]/g,oj=RegExp(bc.source),Gg=/^\s+/,sj=/\s/,aj=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,uj=/\{\n\/\* \[wrapped with (.+)\] \*/,cj=/,? & /,lj=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dj=/[()=,{}\[\]\/\s]/,fj=/\\(\\)?/g,hj=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,HC=/\w*$/,pj=/^[-+]0x[0-9a-f]+$/i,gj=/^0b[01]+$/i,mj=/^\[object .+?Constructor\]$/,vj=/^0o[0-7]+$/i,yj=/^(?:0|[1-9]\d*)$/,_j=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_d=/($^)/,wj=/['\n\r\u2028\u2029\\]/g,wd="\\ud800-\\udfff",Cj="\\u0300-\\u036f",bj="\\ufe20-\\ufe2f",xj="\\u20d0-\\u20ff",zC=Cj+bj+xj,GC="\\u2700-\\u27bf",WC="a-z\\xdf-\\xf6\\xf8-\\xff",Dj="\\xac\\xb1\\xd7\\xf7",Ej="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ij="\\u2000-\\u206f",Sj=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",KC="A-Z\\xc0-\\xd6\\xd8-\\xde",ZC="\\ufe0e\\ufe0f",YC=Dj+Ej+Ij+Sj,Wg="['\u2019]",Fj="["+wd+"]",QC="["+YC+"]",Cd="["+zC+"]",JC="\\d+",Tj="["+GC+"]",XC="["+WC+"]",eb="[^"+wd+YC+JC+GC+WC+KC+"]",Kg="\\ud83c[\\udffb-\\udfff]",Mj="(?:"+Cd+"|"+Kg+")",tb="[^"+wd+"]",Zg="(?:\\ud83c[\\udde6-\\uddff]){2}",Yg="[\\ud800-\\udbff][\\udc00-\\udfff]",Ua="["+KC+"]",nb="\\u200d",rb="(?:"+XC+"|"+eb+")",Aj="(?:"+Ua+"|"+eb+")",ib="(?:"+Wg+"(?:d|ll|m|re|s|t|ve))?",ob="(?:"+Wg+"(?:D|LL|M|RE|S|T|VE))?",sb=Mj+"?",ab="["+ZC+"]?",Nj="(?:"+nb+"(?:"+[tb,Zg,Yg].join("|")+")"+ab+sb+")*",Rj="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oj="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ub=ab+sb+Nj,Pj="(?:"+[Tj,Zg,Yg].join("|")+")"+ub,kj="(?:"+[tb+Cd+"?",Cd,Zg,Yg,Fj].join("|")+")",Lj=RegExp(Wg,"g"),jj=RegExp(Cd,"g"),Qg=RegExp(Kg+"(?="+Kg+")|"+kj+ub,"g"),Vj=RegExp([Ua+"?"+XC+"+"+ib+"(?="+[QC,Ua,"$"].join("|")+")",Aj+"+"+ob+"(?="+[QC,Ua+rb,"$"].join("|")+")",Ua+"?"+rb+"+"+ib,Ua+"+"+ob,Oj,Rj,JC,Pj].join("|"),"g"),Bj=RegExp("["+nb+wd+zC+ZC+"]"),$j=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Uj=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qj=-1,nn={};nn[Tt]=nn[Mt]=nn[zn]=nn[Rn]=nn[F]=nn[R]=nn[V]=nn[H]=nn[ce]=!0,nn[Nt]=nn[cn]=nn[Ee]=nn[Re]=nn[we]=nn[pn]=nn[wn]=nn[Rt]=nn[W]=nn[X]=nn[Qn]=nn[si]=nn[Hn]=nn[ai]=nn[Nn]=!1;var Qt={};Qt[Nt]=Qt[cn]=Qt[Ee]=Qt[we]=Qt[Re]=Qt[pn]=Qt[Tt]=Qt[Mt]=Qt[zn]=Qt[Rn]=Qt[F]=Qt[W]=Qt[X]=Qt[Qn]=Qt[si]=Qt[Hn]=Qt[ai]=Qt[Br]=Qt[R]=Qt[V]=Qt[H]=Qt[ce]=!0,Qt[wn]=Qt[Rt]=Qt[Nn]=!1;var Hj={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},zj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Gj={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Wj={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Kj=parseFloat,Zj=parseInt,cb=typeof global=="object"&&global&&global.Object===Object&&global,Yj=typeof self=="object"&&self&&self.Object===Object&&self,Gn=cb||Yj||Function("return this")(),Jg=typeof oc=="object"&&oc&&!oc.nodeType&&oc,Vs=Jg&&typeof zl=="object"&&zl&&!zl.nodeType&&zl,lb=Vs&&Vs.exports===Jg,Xg=lb&&cb.process,ui=function(){try{var T=Vs&&Vs.require&&Vs.require("util").types;return T||Xg&&Xg.binding&&Xg.binding("util")}catch{}}(),db=ui&&ui.isArrayBuffer,fb=ui&&ui.isDate,hb=ui&&ui.isMap,pb=ui&&ui.isRegExp,gb=ui&&ui.isSet,mb=ui&&ui.isTypedArray;function $r(T,B,L){switch(L.length){case 0:return T.call(B);case 1:return T.call(B,L[0]);case 2:return T.call(B,L[0],L[1]);case 3:return T.call(B,L[0],L[1],L[2])}return T.apply(B,L)}function Qj(T,B,L,pe){for(var Xe=-1,Ot=T==null?0:T.length;++Xe<Ot;){var Bn=T[Xe];B(pe,Bn,L(Bn),T)}return pe}function ci(T,B){for(var L=-1,pe=T==null?0:T.length;++L<pe&&B(T[L],L,T)!==!1;);return T}function Jj(T,B){for(var L=T==null?0:T.length;L--&&B(T[L],L,T)!==!1;);return T}function vb(T,B){for(var L=-1,pe=T==null?0:T.length;++L<pe;)if(!B(T[L],L,T))return!1;return!0}function Qo(T,B){for(var L=-1,pe=T==null?0:T.length,Xe=0,Ot=[];++L<pe;){var Bn=T[L];B(Bn,L,T)&&(Ot[Xe++]=Bn)}return Ot}function bd(T,B){var L=T==null?0:T.length;return!!L&&qa(T,B,0)>-1}function em(T,B,L){for(var pe=-1,Xe=T==null?0:T.length;++pe<Xe;)if(L(B,T[pe]))return!0;return!1}function ln(T,B){for(var L=-1,pe=T==null?0:T.length,Xe=Array(pe);++L<pe;)Xe[L]=B(T[L],L,T);return Xe}function Jo(T,B){for(var L=-1,pe=B.length,Xe=T.length;++L<pe;)T[Xe+L]=B[L];return T}function tm(T,B,L,pe){var Xe=-1,Ot=T==null?0:T.length;for(pe&&Ot&&(L=T[++Xe]);++Xe<Ot;)L=B(L,T[Xe],Xe,T);return L}function Xj(T,B,L,pe){var Xe=T==null?0:T.length;for(pe&&Xe&&(L=T[--Xe]);Xe--;)L=B(L,T[Xe],Xe,T);return L}function nm(T,B){for(var L=-1,pe=T==null?0:T.length;++L<pe;)if(B(T[L],L,T))return!0;return!1}var eV=rm("length");function tV(T){return T.split("")}function nV(T){return T.match(lj)||[]}function yb(T,B,L){var pe;return L(T,function(Xe,Ot,Bn){if(B(Xe,Ot,Bn))return pe=Ot,!1}),pe}function xd(T,B,L,pe){for(var Xe=T.length,Ot=L+(pe?1:-1);pe?Ot--:++Ot<Xe;)if(B(T[Ot],Ot,T))return Ot;return-1}function qa(T,B,L){return B===B?pV(T,B,L):xd(T,_b,L)}function rV(T,B,L,pe){for(var Xe=L-1,Ot=T.length;++Xe<Ot;)if(pe(T[Xe],B))return Xe;return-1}function _b(T){return T!==T}function wb(T,B){var L=T==null?0:T.length;return L?om(T,B)/L:Lt}function rm(T){return function(B){return B==null?t:B[T]}}function im(T){return function(B){return T==null?t:T[B]}}function Cb(T,B,L,pe,Xe){return Xe(T,function(Ot,Bn,Wt){L=pe?(pe=!1,Ot):B(L,Ot,Bn,Wt)}),L}function iV(T,B){var L=T.length;for(T.sort(B);L--;)T[L]=T[L].value;return T}function om(T,B){for(var L,pe=-1,Xe=T.length;++pe<Xe;){var Ot=B(T[pe]);Ot!==t&&(L=L===t?Ot:L+Ot)}return L}function sm(T,B){for(var L=-1,pe=Array(T);++L<T;)pe[L]=B(L);return pe}function oV(T,B){return ln(B,function(L){return[L,T[L]]})}function bb(T){return T&&T.slice(0,Ib(T)+1).replace(Gg,"")}function Ur(T){return function(B){return T(B)}}function am(T,B){return ln(B,function(L){return T[L]})}function xc(T,B){return T.has(B)}function xb(T,B){for(var L=-1,pe=T.length;++L<pe&&qa(B,T[L],0)>-1;);return L}function Db(T,B){for(var L=T.length;L--&&qa(B,T[L],0)>-1;);return L}function sV(T,B){for(var L=T.length,pe=0;L--;)T[L]===B&&++pe;return pe}var aV=im(Hj),uV=im(zj);function cV(T){return"\\"+Wj[T]}function lV(T,B){return T==null?t:T[B]}function Ha(T){return Bj.test(T)}function dV(T){return $j.test(T)}function fV(T){for(var B,L=[];!(B=T.next()).done;)L.push(B.value);return L}function um(T){var B=-1,L=Array(T.size);return T.forEach(function(pe,Xe){L[++B]=[Xe,pe]}),L}function Eb(T,B){return function(L){return T(B(L))}}function Xo(T,B){for(var L=-1,pe=T.length,Xe=0,Ot=[];++L<pe;){var Bn=T[L];(Bn===B||Bn===l)&&(T[L]=l,Ot[Xe++]=L)}return Ot}function Dd(T){var B=-1,L=Array(T.size);return T.forEach(function(pe){L[++B]=pe}),L}function hV(T){var B=-1,L=Array(T.size);return T.forEach(function(pe){L[++B]=[pe,pe]}),L}function pV(T,B,L){for(var pe=L-1,Xe=T.length;++pe<Xe;)if(T[pe]===B)return pe;return-1}function gV(T,B,L){for(var pe=L+1;pe--;)if(T[pe]===B)return pe;return pe}function za(T){return Ha(T)?vV(T):eV(T)}function Fi(T){return Ha(T)?yV(T):tV(T)}function Ib(T){for(var B=T.length;B--&&sj.test(T.charAt(B)););return B}var mV=im(Gj);function vV(T){for(var B=Qg.lastIndex=0;Qg.test(T);)++B;return B}function yV(T){return T.match(Qg)||[]}function _V(T){return T.match(Vj)||[]}var wV=function T(B){B=B==null?Gn:es.defaults(Gn.Object(),B,es.pick(Gn,Uj));var L=B.Array,pe=B.Date,Xe=B.Error,Ot=B.Function,Bn=B.Math,Wt=B.Object,cm=B.RegExp,CV=B.String,li=B.TypeError,Ed=L.prototype,bV=Ot.prototype,Ga=Wt.prototype,Id=B["__core-js_shared__"],Sd=bV.toString,Ut=Ga.hasOwnProperty,xV=0,Sb=function(){var s=/[^.]+$/.exec(Id&&Id.keys&&Id.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Fd=Ga.toString,DV=Sd.call(Wt),EV=Gn._,IV=cm("^"+Sd.call(Ut).replace(bc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Td=lb?B.Buffer:t,ts=B.Symbol,Md=B.Uint8Array,Fb=Td?Td.allocUnsafe:t,Ad=Eb(Wt.getPrototypeOf,Wt),Tb=Wt.create,Mb=Ga.propertyIsEnumerable,Nd=Ed.splice,Ab=ts?ts.isConcatSpreadable:t,Dc=ts?ts.iterator:t,Bs=ts?ts.toStringTag:t,Rd=function(){try{var s=zs(Wt,"defineProperty");return s({},"",{}),s}catch{}}(),SV=B.clearTimeout!==Gn.clearTimeout&&B.clearTimeout,FV=pe&&pe.now!==Gn.Date.now&&pe.now,TV=B.setTimeout!==Gn.setTimeout&&B.setTimeout,Od=Bn.ceil,Pd=Bn.floor,lm=Wt.getOwnPropertySymbols,MV=Td?Td.isBuffer:t,Nb=B.isFinite,AV=Ed.join,NV=Eb(Wt.keys,Wt),$n=Bn.max,sr=Bn.min,RV=pe.now,OV=B.parseInt,Rb=Bn.random,PV=Ed.reverse,dm=zs(B,"DataView"),Ec=zs(B,"Map"),fm=zs(B,"Promise"),Wa=zs(B,"Set"),Ic=zs(B,"WeakMap"),Sc=zs(Wt,"create"),kd=Ic&&new Ic,Ka={},kV=Gs(dm),LV=Gs(Ec),jV=Gs(fm),VV=Gs(Wa),BV=Gs(Ic),Ld=ts?ts.prototype:t,Fc=Ld?Ld.valueOf:t,Ob=Ld?Ld.toString:t;function v(s){if(Cn(s)&&!rt(s)&&!(s instanceof wt)){if(s instanceof di)return s;if(Ut.call(s,"__wrapped__"))return Px(s)}return new di(s)}var Za=function(){function s(){}return function(u){if(!gn(u))return{};if(Tb)return Tb(u);s.prototype=u;var f=new s;return s.prototype=t,f}}();function jd(){}function di(s,u){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=t}v.templateSettings={escape:Te,evaluate:nt,interpolate:ct,variable:"",imports:{_:v}},v.prototype=jd.prototype,v.prototype.constructor=v,di.prototype=Za(jd.prototype),di.prototype.constructor=di;function wt(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_t,this.__views__=[]}function $V(){var s=new wt(this.__wrapped__);return s.__actions__=Er(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Er(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Er(this.__views__),s}function UV(){if(this.__filtered__){var s=new wt(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function qV(){var s=this.__wrapped__.value(),u=this.__dir__,f=rt(s),h=u<0,m=f?s.length:0,w=t3(0,m,this.__views__),b=w.start,I=w.end,N=I-b,$=h?I:b-1,U=this.__iteratees__,z=U.length,le=0,Ce=sr(N,this.__takeCount__);if(!f||!h&&m==N&&Ce==N)return ix(s,this.__actions__);var Oe=[];e:for(;N--&&le<Ce;){$+=u;for(var lt=-1,Pe=s[$];++lt<z;){var vt=U[lt],xt=vt.iteratee,zr=vt.type,yr=xt(Pe);if(zr==Qe)Pe=yr;else if(!yr){if(zr==de)continue e;break e}}Oe[le++]=Pe}return Oe}wt.prototype=Za(jd.prototype),wt.prototype.constructor=wt;function $s(s){var u=-1,f=s==null?0:s.length;for(this.clear();++u<f;){var h=s[u];this.set(h[0],h[1])}}function HV(){this.__data__=Sc?Sc(null):{},this.size=0}function zV(s){var u=this.has(s)&&delete this.__data__[s];return this.size-=u?1:0,u}function GV(s){var u=this.__data__;if(Sc){var f=u[s];return f===a?t:f}return Ut.call(u,s)?u[s]:t}function WV(s){var u=this.__data__;return Sc?u[s]!==t:Ut.call(u,s)}function KV(s,u){var f=this.__data__;return this.size+=this.has(s)?0:1,f[s]=Sc&&u===t?a:u,this}$s.prototype.clear=HV,$s.prototype.delete=zV,$s.prototype.get=GV,$s.prototype.has=WV,$s.prototype.set=KV;function ho(s){var u=-1,f=s==null?0:s.length;for(this.clear();++u<f;){var h=s[u];this.set(h[0],h[1])}}function ZV(){this.__data__=[],this.size=0}function YV(s){var u=this.__data__,f=Vd(u,s);if(f<0)return!1;var h=u.length-1;return f==h?u.pop():Nd.call(u,f,1),--this.size,!0}function QV(s){var u=this.__data__,f=Vd(u,s);return f<0?t:u[f][1]}function JV(s){return Vd(this.__data__,s)>-1}function XV(s,u){var f=this.__data__,h=Vd(f,s);return h<0?(++this.size,f.push([s,u])):f[h][1]=u,this}ho.prototype.clear=ZV,ho.prototype.delete=YV,ho.prototype.get=QV,ho.prototype.has=JV,ho.prototype.set=XV;function po(s){var u=-1,f=s==null?0:s.length;for(this.clear();++u<f;){var h=s[u];this.set(h[0],h[1])}}function eB(){this.size=0,this.__data__={hash:new $s,map:new(Ec||ho),string:new $s}}function tB(s){var u=Qd(this,s).delete(s);return this.size-=u?1:0,u}function nB(s){return Qd(this,s).get(s)}function rB(s){return Qd(this,s).has(s)}function iB(s,u){var f=Qd(this,s),h=f.size;return f.set(s,u),this.size+=f.size==h?0:1,this}po.prototype.clear=eB,po.prototype.delete=tB,po.prototype.get=nB,po.prototype.has=rB,po.prototype.set=iB;function Us(s){var u=-1,f=s==null?0:s.length;for(this.__data__=new po;++u<f;)this.add(s[u])}function oB(s){return this.__data__.set(s,a),this}function sB(s){return this.__data__.has(s)}Us.prototype.add=Us.prototype.push=oB,Us.prototype.has=sB;function Ti(s){var u=this.__data__=new ho(s);this.size=u.size}function aB(){this.__data__=new ho,this.size=0}function uB(s){var u=this.__data__,f=u.delete(s);return this.size=u.size,f}function cB(s){return this.__data__.get(s)}function lB(s){return this.__data__.has(s)}function dB(s,u){var f=this.__data__;if(f instanceof ho){var h=f.__data__;if(!Ec||h.length<n-1)return h.push([s,u]),this.size=++f.size,this;f=this.__data__=new po(h)}return f.set(s,u),this.size=f.size,this}Ti.prototype.clear=aB,Ti.prototype.delete=uB,Ti.prototype.get=cB,Ti.prototype.has=lB,Ti.prototype.set=dB;function Pb(s,u){var f=rt(s),h=!f&&Ws(s),m=!f&&!h&&ss(s),w=!f&&!h&&!m&&Xa(s),b=f||h||m||w,I=b?sm(s.length,CV):[],N=I.length;for(var $ in s)(u||Ut.call(s,$))&&!(b&&($=="length"||m&&($=="offset"||$=="parent")||w&&($=="buffer"||$=="byteLength"||$=="byteOffset")||yo($,N)))&&I.push($);return I}function kb(s){var u=s.length;return u?s[xm(0,u-1)]:t}function fB(s,u){return Jd(Er(s),qs(u,0,s.length))}function hB(s){return Jd(Er(s))}function hm(s,u,f){(f!==t&&!Mi(s[u],f)||f===t&&!(u in s))&&go(s,u,f)}function Tc(s,u,f){var h=s[u];(!(Ut.call(s,u)&&Mi(h,f))||f===t&&!(u in s))&&go(s,u,f)}function Vd(s,u){for(var f=s.length;f--;)if(Mi(s[f][0],u))return f;return-1}function pB(s,u,f,h){return ns(s,function(m,w,b){u(h,m,f(m),b)}),h}function Lb(s,u){return s&&Wi(u,Wn(u),s)}function gB(s,u){return s&&Wi(u,Sr(u),s)}function go(s,u,f){u=="__proto__"&&Rd?Rd(s,u,{configurable:!0,enumerable:!0,value:f,writable:!0}):s[u]=f}function pm(s,u){for(var f=-1,h=u.length,m=L(h),w=s==null;++f<h;)m[f]=w?t:Km(s,u[f]);return m}function qs(s,u,f){return s===s&&(f!==t&&(s=s<=f?s:f),u!==t&&(s=s>=u?s:u)),s}function fi(s,u,f,h,m,w){var b,I=u&d,N=u&p,$=u&g;if(f&&(b=m?f(s,h,m,w):f(s)),b!==t)return b;if(!gn(s))return s;var U=rt(s);if(U){if(b=r3(s),!I)return Er(s,b)}else{var z=ar(s),le=z==Rt||z==ee;if(ss(s))return ax(s,I);if(z==Qn||z==Nt||le&&!m){if(b=N||le?{}:Ix(s),!I)return N?GB(s,gB(b,s)):zB(s,Lb(b,s))}else{if(!Qt[z])return m?s:{};b=i3(s,z,I)}}w||(w=new Ti);var Ce=w.get(s);if(Ce)return Ce;w.set(s,b),tD(s)?s.forEach(function(Pe){b.add(fi(Pe,u,f,Pe,s,w))}):Xx(s)&&s.forEach(function(Pe,vt){b.set(vt,fi(Pe,u,f,vt,s,w))});var Oe=$?N?Om:Rm:N?Sr:Wn,lt=U?t:Oe(s);return ci(lt||s,function(Pe,vt){lt&&(vt=Pe,Pe=s[vt]),Tc(b,vt,fi(Pe,u,f,vt,s,w))}),b}function mB(s){var u=Wn(s);return function(f){return jb(f,s,u)}}function jb(s,u,f){var h=f.length;if(s==null)return!h;for(s=Wt(s);h--;){var m=f[h],w=u[m],b=s[m];if(b===t&&!(m in s)||!w(b))return!1}return!0}function Vb(s,u,f){if(typeof s!="function")throw new li(i);return kc(function(){s.apply(t,f)},u)}function Mc(s,u,f,h){var m=-1,w=bd,b=!0,I=s.length,N=[],$=u.length;if(!I)return N;f&&(u=ln(u,Ur(f))),h?(w=em,b=!1):u.length>=n&&(w=xc,b=!1,u=new Us(u));e:for(;++m<I;){var U=s[m],z=f==null?U:f(U);if(U=h||U!==0?U:0,b&&z===z){for(var le=$;le--;)if(u[le]===z)continue e;N.push(U)}else w(u,z,h)||N.push(U)}return N}var ns=fx(Gi),Bb=fx(mm,!0);function vB(s,u){var f=!0;return ns(s,function(h,m,w){return f=!!u(h,m,w),f}),f}function Bd(s,u,f){for(var h=-1,m=s.length;++h<m;){var w=s[h],b=u(w);if(b!=null&&(I===t?b===b&&!Hr(b):f(b,I)))var I=b,N=w}return N}function yB(s,u,f,h){var m=s.length;for(f=st(f),f<0&&(f=-f>m?0:m+f),h=h===t||h>m?m:st(h),h<0&&(h+=m),h=f>h?0:rD(h);f<h;)s[f++]=u;return s}function $b(s,u){var f=[];return ns(s,function(h,m,w){u(h,m,w)&&f.push(h)}),f}function Jn(s,u,f,h,m){var w=-1,b=s.length;for(f||(f=s3),m||(m=[]);++w<b;){var I=s[w];u>0&&f(I)?u>1?Jn(I,u-1,f,h,m):Jo(m,I):h||(m[m.length]=I)}return m}var gm=hx(),Ub=hx(!0);function Gi(s,u){return s&&gm(s,u,Wn)}function mm(s,u){return s&&Ub(s,u,Wn)}function $d(s,u){return Qo(u,function(f){return _o(s[f])})}function Hs(s,u){u=is(u,s);for(var f=0,h=u.length;s!=null&&f<h;)s=s[Ki(u[f++])];return f&&f==h?s:t}function qb(s,u,f){var h=u(s);return rt(s)?h:Jo(h,f(s))}function mr(s){return s==null?s===t?Yo:Fe:Bs&&Bs in Wt(s)?e3(s):h3(s)}function vm(s,u){return s>u}function _B(s,u){return s!=null&&Ut.call(s,u)}function wB(s,u){return s!=null&&u in Wt(s)}function CB(s,u,f){return s>=sr(u,f)&&s<$n(u,f)}function ym(s,u,f){for(var h=f?em:bd,m=s[0].length,w=s.length,b=w,I=L(w),N=1/0,$=[];b--;){var U=s[b];b&&u&&(U=ln(U,Ur(u))),N=sr(U.length,N),I[b]=!f&&(u||m>=120&&U.length>=120)?new Us(b&&U):t}U=s[0];var z=-1,le=I[0];e:for(;++z<m&&$.length<N;){var Ce=U[z],Oe=u?u(Ce):Ce;if(Ce=f||Ce!==0?Ce:0,!(le?xc(le,Oe):h($,Oe,f))){for(b=w;--b;){var lt=I[b];if(!(lt?xc(lt,Oe):h(s[b],Oe,f)))continue e}le&&le.push(Oe),$.push(Ce)}}return $}function bB(s,u,f,h){return Gi(s,function(m,w,b){u(h,f(m),w,b)}),h}function Ac(s,u,f){u=is(u,s),s=Mx(s,u);var h=s==null?s:s[Ki(pi(u))];return h==null?t:$r(h,s,f)}function Hb(s){return Cn(s)&&mr(s)==Nt}function xB(s){return Cn(s)&&mr(s)==Ee}function DB(s){return Cn(s)&&mr(s)==pn}function Nc(s,u,f,h,m){return s===u?!0:s==null||u==null||!Cn(s)&&!Cn(u)?s!==s&&u!==u:EB(s,u,f,h,Nc,m)}function EB(s,u,f,h,m,w){var b=rt(s),I=rt(u),N=b?cn:ar(s),$=I?cn:ar(u);N=N==Nt?Qn:N,$=$==Nt?Qn:$;var U=N==Qn,z=$==Qn,le=N==$;if(le&&ss(s)){if(!ss(u))return!1;b=!0,U=!1}if(le&&!U)return w||(w=new Ti),b||Xa(s)?xx(s,u,f,h,m,w):JB(s,u,N,f,h,m,w);if(!(f&y)){var Ce=U&&Ut.call(s,"__wrapped__"),Oe=z&&Ut.call(u,"__wrapped__");if(Ce||Oe){var lt=Ce?s.value():s,Pe=Oe?u.value():u;return w||(w=new Ti),m(lt,Pe,f,h,w)}}return le?(w||(w=new Ti),XB(s,u,f,h,m,w)):!1}function IB(s){return Cn(s)&&ar(s)==W}function _m(s,u,f,h){var m=f.length,w=m,b=!h;if(s==null)return!w;for(s=Wt(s);m--;){var I=f[m];if(b&&I[2]?I[1]!==s[I[0]]:!(I[0]in s))return!1}for(;++m<w;){I=f[m];var N=I[0],$=s[N],U=I[1];if(b&&I[2]){if($===t&&!(N in s))return!1}else{var z=new Ti;if(h)var le=h($,U,N,s,u,z);if(!(le===t?Nc(U,$,y|_,h,z):le))return!1}}return!0}function zb(s){if(!gn(s)||u3(s))return!1;var u=_o(s)?IV:mj;return u.test(Gs(s))}function SB(s){return Cn(s)&&mr(s)==si}function FB(s){return Cn(s)&&ar(s)==Hn}function TB(s){return Cn(s)&&of(s.length)&&!!nn[mr(s)]}function Gb(s){return typeof s=="function"?s:s==null?Fr:typeof s=="object"?rt(s)?Zb(s[0],s[1]):Kb(s):pD(s)}function wm(s){if(!Pc(s))return NV(s);var u=[];for(var f in Wt(s))Ut.call(s,f)&&f!="constructor"&&u.push(f);return u}function MB(s){if(!gn(s))return f3(s);var u=Pc(s),f=[];for(var h in s)h=="constructor"&&(u||!Ut.call(s,h))||f.push(h);return f}function Cm(s,u){return s<u}function Wb(s,u){var f=-1,h=Ir(s)?L(s.length):[];return ns(s,function(m,w,b){h[++f]=u(m,w,b)}),h}function Kb(s){var u=km(s);return u.length==1&&u[0][2]?Fx(u[0][0],u[0][1]):function(f){return f===s||_m(f,s,u)}}function Zb(s,u){return jm(s)&&Sx(u)?Fx(Ki(s),u):function(f){var h=Km(f,s);return h===t&&h===u?Zm(f,s):Nc(u,h,y|_)}}function Ud(s,u,f,h,m){s!==u&&gm(u,function(w,b){if(m||(m=new Ti),gn(w))AB(s,u,b,f,Ud,h,m);else{var I=h?h(Bm(s,b),w,b+"",s,u,m):t;I===t&&(I=w),hm(s,b,I)}},Sr)}function AB(s,u,f,h,m,w,b){var I=Bm(s,f),N=Bm(u,f),$=b.get(N);if($){hm(s,f,$);return}var U=w?w(I,N,f+"",s,u,b):t,z=U===t;if(z){var le=rt(N),Ce=!le&&ss(N),Oe=!le&&!Ce&&Xa(N);U=N,le||Ce||Oe?rt(I)?U=I:Tn(I)?U=Er(I):Ce?(z=!1,U=ax(N,!0)):Oe?(z=!1,U=ux(N,!0)):U=[]:Lc(N)||Ws(N)?(U=I,Ws(I)?U=iD(I):(!gn(I)||_o(I))&&(U=Ix(N))):z=!1}z&&(b.set(N,U),m(U,N,h,w,b),b.delete(N)),hm(s,f,U)}function Yb(s,u){var f=s.length;if(f)return u+=u<0?f:0,yo(u,f)?s[u]:t}function Qb(s,u,f){u.length?u=ln(u,function(w){return rt(w)?function(b){return Hs(b,w.length===1?w[0]:w)}:w}):u=[Fr];var h=-1;u=ln(u,Ur(Ae()));var m=Wb(s,function(w,b,I){var N=ln(u,function($){return $(w)});return{criteria:N,index:++h,value:w}});return iV(m,function(w,b){return HB(w,b,f)})}function NB(s,u){return Jb(s,u,function(f,h){return Zm(s,h)})}function Jb(s,u,f){for(var h=-1,m=u.length,w={};++h<m;){var b=u[h],I=Hs(s,b);f(I,b)&&Rc(w,is(b,s),I)}return w}function RB(s){return function(u){return Hs(u,s)}}function bm(s,u,f,h){var m=h?rV:qa,w=-1,b=u.length,I=s;for(s===u&&(u=Er(u)),f&&(I=ln(s,Ur(f)));++w<b;)for(var N=0,$=u[w],U=f?f($):$;(N=m(I,U,N,h))>-1;)I!==s&&Nd.call(I,N,1),Nd.call(s,N,1);return s}function Xb(s,u){for(var f=s?u.length:0,h=f-1;f--;){var m=u[f];if(f==h||m!==w){var w=m;yo(m)?Nd.call(s,m,1):Im(s,m)}}return s}function xm(s,u){return s+Pd(Rb()*(u-s+1))}function OB(s,u,f,h){for(var m=-1,w=$n(Od((u-s)/(f||1)),0),b=L(w);w--;)b[h?w:++m]=s,s+=f;return b}function Dm(s,u){var f="";if(!s||u<1||u>K)return f;do u%2&&(f+=s),u=Pd(u/2),u&&(s+=s);while(u);return f}function ft(s,u){return $m(Tx(s,u,Fr),s+"")}function PB(s){return kb(eu(s))}function kB(s,u){var f=eu(s);return Jd(f,qs(u,0,f.length))}function Rc(s,u,f,h){if(!gn(s))return s;u=is(u,s);for(var m=-1,w=u.length,b=w-1,I=s;I!=null&&++m<w;){var N=Ki(u[m]),$=f;if(N==="__proto__"||N==="constructor"||N==="prototype")return s;if(m!=b){var U=I[N];$=h?h(U,N,I):t,$===t&&($=gn(U)?U:yo(u[m+1])?[]:{})}Tc(I,N,$),I=I[N]}return s}var ex=kd?function(s,u){return kd.set(s,u),s}:Fr,LB=Rd?function(s,u){return Rd(s,"toString",{configurable:!0,enumerable:!1,value:Qm(u),writable:!0})}:Fr;function jB(s){return Jd(eu(s))}function hi(s,u,f){var h=-1,m=s.length;u<0&&(u=-u>m?0:m+u),f=f>m?m:f,f<0&&(f+=m),m=u>f?0:f-u>>>0,u>>>=0;for(var w=L(m);++h<m;)w[h]=s[h+u];return w}function VB(s,u){var f;return ns(s,function(h,m,w){return f=u(h,m,w),!f}),!!f}function qd(s,u,f){var h=0,m=s==null?h:s.length;if(typeof u=="number"&&u===u&&m<=un){for(;h<m;){var w=h+m>>>1,b=s[w];b!==null&&!Hr(b)&&(f?b<=u:b<u)?h=w+1:m=w}return m}return Em(s,u,Fr,f)}function Em(s,u,f,h){var m=0,w=s==null?0:s.length;if(w===0)return 0;u=f(u);for(var b=u!==u,I=u===null,N=Hr(u),$=u===t;m<w;){var U=Pd((m+w)/2),z=f(s[U]),le=z!==t,Ce=z===null,Oe=z===z,lt=Hr(z);if(b)var Pe=h||Oe;else $?Pe=Oe&&(h||le):I?Pe=Oe&&le&&(h||!Ce):N?Pe=Oe&&le&&!Ce&&(h||!lt):Ce||lt?Pe=!1:Pe=h?z<=u:z<u;Pe?m=U+1:w=U}return sr(w,Gt)}function tx(s,u){for(var f=-1,h=s.length,m=0,w=[];++f<h;){var b=s[f],I=u?u(b):b;if(!f||!Mi(I,N)){var N=I;w[m++]=b===0?0:b}}return w}function nx(s){return typeof s=="number"?s:Hr(s)?Lt:+s}function qr(s){if(typeof s=="string")return s;if(rt(s))return ln(s,qr)+"";if(Hr(s))return Ob?Ob.call(s):"";var u=s+"";return u=="0"&&1/s==-Ue?"-0":u}function rs(s,u,f){var h=-1,m=bd,w=s.length,b=!0,I=[],N=I;if(f)b=!1,m=em;else if(w>=n){var $=u?null:YB(s);if($)return Dd($);b=!1,m=xc,N=new Us}else N=u?[]:I;e:for(;++h<w;){var U=s[h],z=u?u(U):U;if(U=f||U!==0?U:0,b&&z===z){for(var le=N.length;le--;)if(N[le]===z)continue e;u&&N.push(z),I.push(U)}else m(N,z,f)||(N!==I&&N.push(z),I.push(U))}return I}function Im(s,u){return u=is(u,s),s=Mx(s,u),s==null||delete s[Ki(pi(u))]}function rx(s,u,f,h){return Rc(s,u,f(Hs(s,u)),h)}function Hd(s,u,f,h){for(var m=s.length,w=h?m:-1;(h?w--:++w<m)&&u(s[w],w,s););return f?hi(s,h?0:w,h?w+1:m):hi(s,h?w+1:0,h?m:w)}function ix(s,u){var f=s;return f instanceof wt&&(f=f.value()),tm(u,function(h,m){return m.func.apply(m.thisArg,Jo([h],m.args))},f)}function Sm(s,u,f){var h=s.length;if(h<2)return h?rs(s[0]):[];for(var m=-1,w=L(h);++m<h;)for(var b=s[m],I=-1;++I<h;)I!=m&&(w[m]=Mc(w[m]||b,s[I],u,f));return rs(Jn(w,1),u,f)}function ox(s,u,f){for(var h=-1,m=s.length,w=u.length,b={};++h<m;){var I=h<w?u[h]:t;f(b,s[h],I)}return b}function Fm(s){return Tn(s)?s:[]}function Tm(s){return typeof s=="function"?s:Fr}function is(s,u){return rt(s)?s:jm(s,u)?[s]:Ox(jt(s))}var BB=ft;function os(s,u,f){var h=s.length;return f=f===t?h:f,!u&&f>=h?s:hi(s,u,f)}var sx=SV||function(s){return Gn.clearTimeout(s)};function ax(s,u){if(u)return s.slice();var f=s.length,h=Fb?Fb(f):new s.constructor(f);return s.copy(h),h}function Mm(s){var u=new s.constructor(s.byteLength);return new Md(u).set(new Md(s)),u}function $B(s,u){var f=u?Mm(s.buffer):s.buffer;return new s.constructor(f,s.byteOffset,s.byteLength)}function UB(s){var u=new s.constructor(s.source,HC.exec(s));return u.lastIndex=s.lastIndex,u}function qB(s){return Fc?Wt(Fc.call(s)):{}}function ux(s,u){var f=u?Mm(s.buffer):s.buffer;return new s.constructor(f,s.byteOffset,s.length)}function cx(s,u){if(s!==u){var f=s!==t,h=s===null,m=s===s,w=Hr(s),b=u!==t,I=u===null,N=u===u,$=Hr(u);if(!I&&!$&&!w&&s>u||w&&b&&N&&!I&&!$||h&&b&&N||!f&&N||!m)return 1;if(!h&&!w&&!$&&s<u||$&&f&&m&&!h&&!w||I&&f&&m||!b&&m||!N)return-1}return 0}function HB(s,u,f){for(var h=-1,m=s.criteria,w=u.criteria,b=m.length,I=f.length;++h<b;){var N=cx(m[h],w[h]);if(N){if(h>=I)return N;var $=f[h];return N*($=="desc"?-1:1)}}return s.index-u.index}function lx(s,u,f,h){for(var m=-1,w=s.length,b=f.length,I=-1,N=u.length,$=$n(w-b,0),U=L(N+$),z=!h;++I<N;)U[I]=u[I];for(;++m<b;)(z||m<w)&&(U[f[m]]=s[m]);for(;$--;)U[I++]=s[m++];return U}function dx(s,u,f,h){for(var m=-1,w=s.length,b=-1,I=f.length,N=-1,$=u.length,U=$n(w-I,0),z=L(U+$),le=!h;++m<U;)z[m]=s[m];for(var Ce=m;++N<$;)z[Ce+N]=u[N];for(;++b<I;)(le||m<w)&&(z[Ce+f[b]]=s[m++]);return z}function Er(s,u){var f=-1,h=s.length;for(u||(u=L(h));++f<h;)u[f]=s[f];return u}function Wi(s,u,f,h){var m=!f;f||(f={});for(var w=-1,b=u.length;++w<b;){var I=u[w],N=h?h(f[I],s[I],I,f,s):t;N===t&&(N=s[I]),m?go(f,I,N):Tc(f,I,N)}return f}function zB(s,u){return Wi(s,Lm(s),u)}function GB(s,u){return Wi(s,Dx(s),u)}function zd(s,u){return function(f,h){var m=rt(f)?Qj:pB,w=u?u():{};return m(f,s,Ae(h,2),w)}}function Ya(s){return ft(function(u,f){var h=-1,m=f.length,w=m>1?f[m-1]:t,b=m>2?f[2]:t;for(w=s.length>3&&typeof w=="function"?(m--,w):t,b&&vr(f[0],f[1],b)&&(w=m<3?t:w,m=1),u=Wt(u);++h<m;){var I=f[h];I&&s(u,I,h,w)}return u})}function fx(s,u){return function(f,h){if(f==null)return f;if(!Ir(f))return s(f,h);for(var m=f.length,w=u?m:-1,b=Wt(f);(u?w--:++w<m)&&h(b[w],w,b)!==!1;);return f}}function hx(s){return function(u,f,h){for(var m=-1,w=Wt(u),b=h(u),I=b.length;I--;){var N=b[s?I:++m];if(f(w[N],N,w)===!1)break}return u}}function WB(s,u,f){var h=u&C,m=Oc(s);function w(){var b=this&&this!==Gn&&this instanceof w?m:s;return b.apply(h?f:this,arguments)}return w}function px(s){return function(u){u=jt(u);var f=Ha(u)?Fi(u):t,h=f?f[0]:u.charAt(0),m=f?os(f,1).join(""):u.slice(1);return h[s]()+m}}function Qa(s){return function(u){return tm(fD(dD(u).replace(Lj,"")),s,"")}}function Oc(s){return function(){var u=arguments;switch(u.length){case 0:return new s;case 1:return new s(u[0]);case 2:return new s(u[0],u[1]);case 3:return new s(u[0],u[1],u[2]);case 4:return new s(u[0],u[1],u[2],u[3]);case 5:return new s(u[0],u[1],u[2],u[3],u[4]);case 6:return new s(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new s(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var f=Za(s.prototype),h=s.apply(f,u);return gn(h)?h:f}}function KB(s,u,f){var h=Oc(s);function m(){for(var w=arguments.length,b=L(w),I=w,N=Ja(m);I--;)b[I]=arguments[I];var $=w<3&&b[0]!==N&&b[w-1]!==N?[]:Xo(b,N);if(w-=$.length,w<f)return _x(s,u,Gd,m.placeholder,t,b,$,t,t,f-w);var U=this&&this!==Gn&&this instanceof m?h:s;return $r(U,this,b)}return m}function gx(s){return function(u,f,h){var m=Wt(u);if(!Ir(u)){var w=Ae(f,3);u=Wn(u),f=function(I){return w(m[I],I,m)}}var b=s(u,f,h);return b>-1?m[w?u[b]:b]:t}}function mx(s){return vo(function(u){var f=u.length,h=f,m=di.prototype.thru;for(s&&u.reverse();h--;){var w=u[h];if(typeof w!="function")throw new li(i);if(m&&!b&&Yd(w)=="wrapper")var b=new di([],!0)}for(h=b?h:f;++h<f;){w=u[h];var I=Yd(w),N=I=="wrapper"?Pm(w):t;N&&Vm(N[0])&&N[1]==(fe|A|be|ne)&&!N[4].length&&N[9]==1?b=b[Yd(N[0])].apply(b,N[3]):b=w.length==1&&Vm(w)?b[I]():b.thru(w)}return function(){var $=arguments,U=$[0];if(b&&$.length==1&&rt(U))return b.plant(U).value();for(var z=0,le=f?u[z].apply(this,$):U;++z<f;)le=u[z].call(this,le);return le}})}function Gd(s,u,f,h,m,w,b,I,N,$){var U=u&fe,z=u&C,le=u&O,Ce=u&(A|J),Oe=u&He,lt=le?t:Oc(s);function Pe(){for(var vt=arguments.length,xt=L(vt),zr=vt;zr--;)xt[zr]=arguments[zr];if(Ce)var yr=Ja(Pe),Gr=sV(xt,yr);if(h&&(xt=lx(xt,h,m,Ce)),w&&(xt=dx(xt,w,b,Ce)),vt-=Gr,Ce&&vt<$){var Mn=Xo(xt,yr);return _x(s,u,Gd,Pe.placeholder,f,xt,Mn,I,N,$-vt)}var Ai=z?f:this,Co=le?Ai[s]:s;return vt=xt.length,I?xt=p3(xt,I):Oe&&vt>1&&xt.reverse(),U&&N<vt&&(xt.length=N),this&&this!==Gn&&this instanceof Pe&&(Co=lt||Oc(Co)),Co.apply(Ai,xt)}return Pe}function vx(s,u){return function(f,h){return bB(f,s,u(h),{})}}function Wd(s,u){return function(f,h){var m;if(f===t&&h===t)return u;if(f!==t&&(m=f),h!==t){if(m===t)return h;typeof f=="string"||typeof h=="string"?(f=qr(f),h=qr(h)):(f=nx(f),h=nx(h)),m=s(f,h)}return m}}function Am(s){return vo(function(u){return u=ln(u,Ur(Ae())),ft(function(f){var h=this;return s(u,function(m){return $r(m,h,f)})})})}function Kd(s,u){u=u===t?" ":qr(u);var f=u.length;if(f<2)return f?Dm(u,s):u;var h=Dm(u,Od(s/za(u)));return Ha(u)?os(Fi(h),0,s).join(""):h.slice(0,s)}function ZB(s,u,f,h){var m=u&C,w=Oc(s);function b(){for(var I=-1,N=arguments.length,$=-1,U=h.length,z=L(U+N),le=this&&this!==Gn&&this instanceof b?w:s;++$<U;)z[$]=h[$];for(;N--;)z[$++]=arguments[++I];return $r(le,m?f:this,z)}return b}function yx(s){return function(u,f,h){return h&&typeof h!="number"&&vr(u,f,h)&&(f=h=t),u=wo(u),f===t?(f=u,u=0):f=wo(f),h=h===t?u<f?1:-1:wo(h),OB(u,f,h,s)}}function Zd(s){return function(u,f){return typeof u=="string"&&typeof f=="string"||(u=gi(u),f=gi(f)),s(u,f)}}function _x(s,u,f,h,m,w,b,I,N,$){var U=u&A,z=U?b:t,le=U?t:b,Ce=U?w:t,Oe=U?t:w;u|=U?be:_e,u&=~(U?_e:be),u&j||(u&=~(C|O));var lt=[s,u,m,Ce,z,Oe,le,I,N,$],Pe=f.apply(t,lt);return Vm(s)&&Ax(Pe,lt),Pe.placeholder=h,Nx(Pe,s,u)}function Nm(s){var u=Bn[s];return function(f,h){if(f=gi(f),h=h==null?0:sr(st(h),292),h&&Nb(f)){var m=(jt(f)+"e").split("e"),w=u(m[0]+"e"+(+m[1]+h));return m=(jt(w)+"e").split("e"),+(m[0]+"e"+(+m[1]-h))}return u(f)}}var YB=Wa&&1/Dd(new Wa([,-0]))[1]==Ue?function(s){return new Wa(s)}:ev;function wx(s){return function(u){var f=ar(u);return f==W?um(u):f==Hn?hV(u):oV(u,s(u))}}function mo(s,u,f,h,m,w,b,I){var N=u&O;if(!N&&typeof s!="function")throw new li(i);var $=h?h.length:0;if($||(u&=~(be|_e),h=m=t),b=b===t?b:$n(st(b),0),I=I===t?I:st(I),$-=m?m.length:0,u&_e){var U=h,z=m;h=m=t}var le=N?t:Pm(s),Ce=[s,u,f,h,m,U,z,w,b,I];if(le&&d3(Ce,le),s=Ce[0],u=Ce[1],f=Ce[2],h=Ce[3],m=Ce[4],I=Ce[9]=Ce[9]===t?N?0:s.length:$n(Ce[9]-$,0),!I&&u&(A|J)&&(u&=~(A|J)),!u||u==C)var Oe=WB(s,u,f);else u==A||u==J?Oe=KB(s,u,I):(u==be||u==(C|be))&&!m.length?Oe=ZB(s,u,f,h):Oe=Gd.apply(t,Ce);var lt=le?ex:Ax;return Nx(lt(Oe,Ce),s,u)}function Cx(s,u,f,h){return s===t||Mi(s,Ga[f])&&!Ut.call(h,f)?u:s}function bx(s,u,f,h,m,w){return gn(s)&&gn(u)&&(w.set(u,s),Ud(s,u,t,bx,w),w.delete(u)),s}function QB(s){return Lc(s)?t:s}function xx(s,u,f,h,m,w){var b=f&y,I=s.length,N=u.length;if(I!=N&&!(b&&N>I))return!1;var $=w.get(s),U=w.get(u);if($&&U)return $==u&&U==s;var z=-1,le=!0,Ce=f&_?new Us:t;for(w.set(s,u),w.set(u,s);++z<I;){var Oe=s[z],lt=u[z];if(h)var Pe=b?h(lt,Oe,z,u,s,w):h(Oe,lt,z,s,u,w);if(Pe!==t){if(Pe)continue;le=!1;break}if(Ce){if(!nm(u,function(vt,xt){if(!xc(Ce,xt)&&(Oe===vt||m(Oe,vt,f,h,w)))return Ce.push(xt)})){le=!1;break}}else if(!(Oe===lt||m(Oe,lt,f,h,w))){le=!1;break}}return w.delete(s),w.delete(u),le}function JB(s,u,f,h,m,w,b){switch(f){case we:if(s.byteLength!=u.byteLength||s.byteOffset!=u.byteOffset)return!1;s=s.buffer,u=u.buffer;case Ee:return!(s.byteLength!=u.byteLength||!w(new Md(s),new Md(u)));case Re:case pn:case X:return Mi(+s,+u);case wn:return s.name==u.name&&s.message==u.message;case si:case ai:return s==u+"";case W:var I=um;case Hn:var N=h&y;if(I||(I=Dd),s.size!=u.size&&!N)return!1;var $=b.get(s);if($)return $==u;h|=_,b.set(s,u);var U=xx(I(s),I(u),h,m,w,b);return b.delete(s),U;case Br:if(Fc)return Fc.call(s)==Fc.call(u)}return!1}function XB(s,u,f,h,m,w){var b=f&y,I=Rm(s),N=I.length,$=Rm(u),U=$.length;if(N!=U&&!b)return!1;for(var z=N;z--;){var le=I[z];if(!(b?le in u:Ut.call(u,le)))return!1}var Ce=w.get(s),Oe=w.get(u);if(Ce&&Oe)return Ce==u&&Oe==s;var lt=!0;w.set(s,u),w.set(u,s);for(var Pe=b;++z<N;){le=I[z];var vt=s[le],xt=u[le];if(h)var zr=b?h(xt,vt,le,u,s,w):h(vt,xt,le,s,u,w);if(!(zr===t?vt===xt||m(vt,xt,f,h,w):zr)){lt=!1;break}Pe||(Pe=le=="constructor")}if(lt&&!Pe){var yr=s.constructor,Gr=u.constructor;yr!=Gr&&"constructor"in s&&"constructor"in u&&!(typeof yr=="function"&&yr instanceof yr&&typeof Gr=="function"&&Gr instanceof Gr)&&(lt=!1)}return w.delete(s),w.delete(u),lt}function vo(s){return $m(Tx(s,t,jx),s+"")}function Rm(s){return qb(s,Wn,Lm)}function Om(s){return qb(s,Sr,Dx)}var Pm=kd?function(s){return kd.get(s)}:ev;function Yd(s){for(var u=s.name+"",f=Ka[u],h=Ut.call(Ka,u)?f.length:0;h--;){var m=f[h],w=m.func;if(w==null||w==s)return m.name}return u}function Ja(s){var u=Ut.call(v,"placeholder")?v:s;return u.placeholder}function Ae(){var s=v.iteratee||Jm;return s=s===Jm?Gb:s,arguments.length?s(arguments[0],arguments[1]):s}function Qd(s,u){var f=s.__data__;return a3(u)?f[typeof u=="string"?"string":"hash"]:f.map}function km(s){for(var u=Wn(s),f=u.length;f--;){var h=u[f],m=s[h];u[f]=[h,m,Sx(m)]}return u}function zs(s,u){var f=lV(s,u);return zb(f)?f:t}function e3(s){var u=Ut.call(s,Bs),f=s[Bs];try{s[Bs]=t;var h=!0}catch{}var m=Fd.call(s);return h&&(u?s[Bs]=f:delete s[Bs]),m}var Lm=lm?function(s){return s==null?[]:(s=Wt(s),Qo(lm(s),function(u){return Mb.call(s,u)}))}:tv,Dx=lm?function(s){for(var u=[];s;)Jo(u,Lm(s)),s=Ad(s);return u}:tv,ar=mr;(dm&&ar(new dm(new ArrayBuffer(1)))!=we||Ec&&ar(new Ec)!=W||fm&&ar(fm.resolve())!=fo||Wa&&ar(new Wa)!=Hn||Ic&&ar(new Ic)!=Nn)&&(ar=function(s){var u=mr(s),f=u==Qn?s.constructor:t,h=f?Gs(f):"";if(h)switch(h){case kV:return we;case LV:return W;case jV:return fo;case VV:return Hn;case BV:return Nn}return u});function t3(s,u,f){for(var h=-1,m=f.length;++h<m;){var w=f[h],b=w.size;switch(w.type){case"drop":s+=b;break;case"dropRight":u-=b;break;case"take":u=sr(u,s+b);break;case"takeRight":s=$n(s,u-b);break}}return{start:s,end:u}}function n3(s){var u=s.match(uj);return u?u[1].split(cj):[]}function Ex(s,u,f){u=is(u,s);for(var h=-1,m=u.length,w=!1;++h<m;){var b=Ki(u[h]);if(!(w=s!=null&&f(s,b)))break;s=s[b]}return w||++h!=m?w:(m=s==null?0:s.length,!!m&&of(m)&&yo(b,m)&&(rt(s)||Ws(s)))}function r3(s){var u=s.length,f=new s.constructor(u);return u&&typeof s[0]=="string"&&Ut.call(s,"index")&&(f.index=s.index,f.input=s.input),f}function Ix(s){return typeof s.constructor=="function"&&!Pc(s)?Za(Ad(s)):{}}function i3(s,u,f){var h=s.constructor;switch(u){case Ee:return Mm(s);case Re:case pn:return new h(+s);case we:return $B(s,f);case Tt:case Mt:case zn:case Rn:case F:case R:case V:case H:case ce:return ux(s,f);case W:return new h;case X:case ai:return new h(s);case si:return UB(s);case Hn:return new h;case Br:return qB(s)}}function o3(s,u){var f=u.length;if(!f)return s;var h=f-1;return u[h]=(f>1?"& ":"")+u[h],u=u.join(f>2?", ":" "),s.replace(aj,`{
/* [wrapped with `+u+`] */
`)}function s3(s){return rt(s)||Ws(s)||!!(Ab&&s&&s[Ab])}function yo(s,u){var f=typeof s;return u=u??K,!!u&&(f=="number"||f!="symbol"&&yj.test(s))&&s>-1&&s%1==0&&s<u}function vr(s,u,f){if(!gn(f))return!1;var h=typeof u;return(h=="number"?Ir(f)&&yo(u,f.length):h=="string"&&u in f)?Mi(f[u],s):!1}function jm(s,u){if(rt(s))return!1;var f=typeof s;return f=="number"||f=="symbol"||f=="boolean"||s==null||Hr(s)?!0:yd.test(s)||!$t.test(s)||u!=null&&s in Wt(u)}function a3(s){var u=typeof s;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?s!=="__proto__":s===null}function Vm(s){var u=Yd(s),f=v[u];if(typeof f!="function"||!(u in wt.prototype))return!1;if(s===f)return!0;var h=Pm(f);return!!h&&s===h[0]}function u3(s){return!!Sb&&Sb in s}var c3=Id?_o:nv;function Pc(s){var u=s&&s.constructor,f=typeof u=="function"&&u.prototype||Ga;return s===f}function Sx(s){return s===s&&!gn(s)}function Fx(s,u){return function(f){return f==null?!1:f[s]===u&&(u!==t||s in Wt(f))}}function l3(s){var u=nf(s,function(h){return f.size===c&&f.clear(),h}),f=u.cache;return u}function d3(s,u){var f=s[1],h=u[1],m=f|h,w=m<(C|O|fe),b=h==fe&&f==A||h==fe&&f==ne&&s[7].length<=u[8]||h==(fe|ne)&&u[7].length<=u[8]&&f==A;if(!(w||b))return s;h&C&&(s[2]=u[2],m|=f&C?0:j);var I=u[3];if(I){var N=s[3];s[3]=N?lx(N,I,u[4]):I,s[4]=N?Xo(s[3],l):u[4]}return I=u[5],I&&(N=s[5],s[5]=N?dx(N,I,u[6]):I,s[6]=N?Xo(s[5],l):u[6]),I=u[7],I&&(s[7]=I),h&fe&&(s[8]=s[8]==null?u[8]:sr(s[8],u[8])),s[9]==null&&(s[9]=u[9]),s[0]=u[0],s[1]=m,s}function f3(s){var u=[];if(s!=null)for(var f in Wt(s))u.push(f);return u}function h3(s){return Fd.call(s)}function Tx(s,u,f){return u=$n(u===t?s.length-1:u,0),function(){for(var h=arguments,m=-1,w=$n(h.length-u,0),b=L(w);++m<w;)b[m]=h[u+m];m=-1;for(var I=L(u+1);++m<u;)I[m]=h[m];return I[u]=f(b),$r(s,this,I)}}function Mx(s,u){return u.length<2?s:Hs(s,hi(u,0,-1))}function p3(s,u){for(var f=s.length,h=sr(u.length,f),m=Er(s);h--;){var w=u[h];s[h]=yo(w,f)?m[w]:t}return s}function Bm(s,u){if(!(u==="constructor"&&typeof s[u]=="function")&&u!="__proto__")return s[u]}var Ax=Rx(ex),kc=TV||function(s,u){return Gn.setTimeout(s,u)},$m=Rx(LB);function Nx(s,u,f){var h=u+"";return $m(s,o3(h,g3(n3(h),f)))}function Rx(s){var u=0,f=0;return function(){var h=RV(),m=me-(h-f);if(f=h,m>0){if(++u>=se)return arguments[0]}else u=0;return s.apply(t,arguments)}}function Jd(s,u){var f=-1,h=s.length,m=h-1;for(u=u===t?h:u;++f<u;){var w=xm(f,m),b=s[w];s[w]=s[f],s[f]=b}return s.length=u,s}var Ox=l3(function(s){var u=[];return s.charCodeAt(0)===46&&u.push(""),s.replace(zg,function(f,h,m,w){u.push(m?w.replace(fj,"$1"):h||f)}),u});function Ki(s){if(typeof s=="string"||Hr(s))return s;var u=s+"";return u=="0"&&1/s==-Ue?"-0":u}function Gs(s){if(s!=null){try{return Sd.call(s)}catch{}try{return s+""}catch{}}return""}function g3(s,u){return ci(he,function(f){var h="_."+f[0];u&f[1]&&!bd(s,h)&&s.push(h)}),s.sort()}function Px(s){if(s instanceof wt)return s.clone();var u=new di(s.__wrapped__,s.__chain__);return u.__actions__=Er(s.__actions__),u.__index__=s.__index__,u.__values__=s.__values__,u}function m3(s,u,f){(f?vr(s,u,f):u===t)?u=1:u=$n(st(u),0);var h=s==null?0:s.length;if(!h||u<1)return[];for(var m=0,w=0,b=L(Od(h/u));m<h;)b[w++]=hi(s,m,m+=u);return b}function v3(s){for(var u=-1,f=s==null?0:s.length,h=0,m=[];++u<f;){var w=s[u];w&&(m[h++]=w)}return m}function y3(){var s=arguments.length;if(!s)return[];for(var u=L(s-1),f=arguments[0],h=s;h--;)u[h-1]=arguments[h];return Jo(rt(f)?Er(f):[f],Jn(u,1))}var _3=ft(function(s,u){return Tn(s)?Mc(s,Jn(u,1,Tn,!0)):[]}),w3=ft(function(s,u){var f=pi(u);return Tn(f)&&(f=t),Tn(s)?Mc(s,Jn(u,1,Tn,!0),Ae(f,2)):[]}),C3=ft(function(s,u){var f=pi(u);return Tn(f)&&(f=t),Tn(s)?Mc(s,Jn(u,1,Tn,!0),t,f):[]});function b3(s,u,f){var h=s==null?0:s.length;return h?(u=f||u===t?1:st(u),hi(s,u<0?0:u,h)):[]}function x3(s,u,f){var h=s==null?0:s.length;return h?(u=f||u===t?1:st(u),u=h-u,hi(s,0,u<0?0:u)):[]}function D3(s,u){return s&&s.length?Hd(s,Ae(u,3),!0,!0):[]}function E3(s,u){return s&&s.length?Hd(s,Ae(u,3),!0):[]}function I3(s,u,f,h){var m=s==null?0:s.length;return m?(f&&typeof f!="number"&&vr(s,u,f)&&(f=0,h=m),yB(s,u,f,h)):[]}function kx(s,u,f){var h=s==null?0:s.length;if(!h)return-1;var m=f==null?0:st(f);return m<0&&(m=$n(h+m,0)),xd(s,Ae(u,3),m)}function Lx(s,u,f){var h=s==null?0:s.length;if(!h)return-1;var m=h-1;return f!==t&&(m=st(f),m=f<0?$n(h+m,0):sr(m,h-1)),xd(s,Ae(u,3),m,!0)}function jx(s){var u=s==null?0:s.length;return u?Jn(s,1):[]}function S3(s){var u=s==null?0:s.length;return u?Jn(s,Ue):[]}function F3(s,u){var f=s==null?0:s.length;return f?(u=u===t?1:st(u),Jn(s,u)):[]}function T3(s){for(var u=-1,f=s==null?0:s.length,h={};++u<f;){var m=s[u];h[m[0]]=m[1]}return h}function Vx(s){return s&&s.length?s[0]:t}function M3(s,u,f){var h=s==null?0:s.length;if(!h)return-1;var m=f==null?0:st(f);return m<0&&(m=$n(h+m,0)),qa(s,u,m)}function A3(s){var u=s==null?0:s.length;return u?hi(s,0,-1):[]}var N3=ft(function(s){var u=ln(s,Fm);return u.length&&u[0]===s[0]?ym(u):[]}),R3=ft(function(s){var u=pi(s),f=ln(s,Fm);return u===pi(f)?u=t:f.pop(),f.length&&f[0]===s[0]?ym(f,Ae(u,2)):[]}),O3=ft(function(s){var u=pi(s),f=ln(s,Fm);return u=typeof u=="function"?u:t,u&&f.pop(),f.length&&f[0]===s[0]?ym(f,t,u):[]});function P3(s,u){return s==null?"":AV.call(s,u)}function pi(s){var u=s==null?0:s.length;return u?s[u-1]:t}function k3(s,u,f){var h=s==null?0:s.length;if(!h)return-1;var m=h;return f!==t&&(m=st(f),m=m<0?$n(h+m,0):sr(m,h-1)),u===u?gV(s,u,m):xd(s,_b,m,!0)}function L3(s,u){return s&&s.length?Yb(s,st(u)):t}var j3=ft(Bx);function Bx(s,u){return s&&s.length&&u&&u.length?bm(s,u):s}function V3(s,u,f){return s&&s.length&&u&&u.length?bm(s,u,Ae(f,2)):s}function B3(s,u,f){return s&&s.length&&u&&u.length?bm(s,u,t,f):s}var $3=vo(function(s,u){var f=s==null?0:s.length,h=pm(s,u);return Xb(s,ln(u,function(m){return yo(m,f)?+m:m}).sort(cx)),h});function U3(s,u){var f=[];if(!(s&&s.length))return f;var h=-1,m=[],w=s.length;for(u=Ae(u,3);++h<w;){var b=s[h];u(b,h,s)&&(f.push(b),m.push(h))}return Xb(s,m),f}function Um(s){return s==null?s:PV.call(s)}function q3(s,u,f){var h=s==null?0:s.length;return h?(f&&typeof f!="number"&&vr(s,u,f)?(u=0,f=h):(u=u==null?0:st(u),f=f===t?h:st(f)),hi(s,u,f)):[]}function H3(s,u){return qd(s,u)}function z3(s,u,f){return Em(s,u,Ae(f,2))}function G3(s,u){var f=s==null?0:s.length;if(f){var h=qd(s,u);if(h<f&&Mi(s[h],u))return h}return-1}function W3(s,u){return qd(s,u,!0)}function K3(s,u,f){return Em(s,u,Ae(f,2),!0)}function Z3(s,u){var f=s==null?0:s.length;if(f){var h=qd(s,u,!0)-1;if(Mi(s[h],u))return h}return-1}function Y3(s){return s&&s.length?tx(s):[]}function Q3(s,u){return s&&s.length?tx(s,Ae(u,2)):[]}function J3(s){var u=s==null?0:s.length;return u?hi(s,1,u):[]}function X3(s,u,f){return s&&s.length?(u=f||u===t?1:st(u),hi(s,0,u<0?0:u)):[]}function e$(s,u,f){var h=s==null?0:s.length;return h?(u=f||u===t?1:st(u),u=h-u,hi(s,u<0?0:u,h)):[]}function t$(s,u){return s&&s.length?Hd(s,Ae(u,3),!1,!0):[]}function n$(s,u){return s&&s.length?Hd(s,Ae(u,3)):[]}var r$=ft(function(s){return rs(Jn(s,1,Tn,!0))}),i$=ft(function(s){var u=pi(s);return Tn(u)&&(u=t),rs(Jn(s,1,Tn,!0),Ae(u,2))}),o$=ft(function(s){var u=pi(s);return u=typeof u=="function"?u:t,rs(Jn(s,1,Tn,!0),t,u)});function s$(s){return s&&s.length?rs(s):[]}function a$(s,u){return s&&s.length?rs(s,Ae(u,2)):[]}function u$(s,u){return u=typeof u=="function"?u:t,s&&s.length?rs(s,t,u):[]}function qm(s){if(!(s&&s.length))return[];var u=0;return s=Qo(s,function(f){if(Tn(f))return u=$n(f.length,u),!0}),sm(u,function(f){return ln(s,rm(f))})}function $x(s,u){if(!(s&&s.length))return[];var f=qm(s);return u==null?f:ln(f,function(h){return $r(u,t,h)})}var c$=ft(function(s,u){return Tn(s)?Mc(s,u):[]}),l$=ft(function(s){return Sm(Qo(s,Tn))}),d$=ft(function(s){var u=pi(s);return Tn(u)&&(u=t),Sm(Qo(s,Tn),Ae(u,2))}),f$=ft(function(s){var u=pi(s);return u=typeof u=="function"?u:t,Sm(Qo(s,Tn),t,u)}),h$=ft(qm);function p$(s,u){return ox(s||[],u||[],Tc)}function g$(s,u){return ox(s||[],u||[],Rc)}var m$=ft(function(s){var u=s.length,f=u>1?s[u-1]:t;return f=typeof f=="function"?(s.pop(),f):t,$x(s,f)});function Ux(s){var u=v(s);return u.__chain__=!0,u}function v$(s,u){return u(s),s}function Xd(s,u){return u(s)}var y$=vo(function(s){var u=s.length,f=u?s[0]:0,h=this.__wrapped__,m=function(w){return pm(w,s)};return u>1||this.__actions__.length||!(h instanceof wt)||!yo(f)?this.thru(m):(h=h.slice(f,+f+(u?1:0)),h.__actions__.push({func:Xd,args:[m],thisArg:t}),new di(h,this.__chain__).thru(function(w){return u&&!w.length&&w.push(t),w}))});function _$(){return Ux(this)}function w$(){return new di(this.value(),this.__chain__)}function C$(){this.__values__===t&&(this.__values__=nD(this.value()));var s=this.__index__>=this.__values__.length,u=s?t:this.__values__[this.__index__++];return{done:s,value:u}}function b$(){return this}function x$(s){for(var u,f=this;f instanceof jd;){var h=Px(f);h.__index__=0,h.__values__=t,u?m.__wrapped__=h:u=h;var m=h;f=f.__wrapped__}return m.__wrapped__=s,u}function D$(){var s=this.__wrapped__;if(s instanceof wt){var u=s;return this.__actions__.length&&(u=new wt(this)),u=u.reverse(),u.__actions__.push({func:Xd,args:[Um],thisArg:t}),new di(u,this.__chain__)}return this.thru(Um)}function E$(){return ix(this.__wrapped__,this.__actions__)}var I$=zd(function(s,u,f){Ut.call(s,f)?++s[f]:go(s,f,1)});function S$(s,u,f){var h=rt(s)?vb:vB;return f&&vr(s,u,f)&&(u=t),h(s,Ae(u,3))}function F$(s,u){var f=rt(s)?Qo:$b;return f(s,Ae(u,3))}var T$=gx(kx),M$=gx(Lx);function A$(s,u){return Jn(ef(s,u),1)}function N$(s,u){return Jn(ef(s,u),Ue)}function R$(s,u,f){return f=f===t?1:st(f),Jn(ef(s,u),f)}function qx(s,u){var f=rt(s)?ci:ns;return f(s,Ae(u,3))}function Hx(s,u){var f=rt(s)?Jj:Bb;return f(s,Ae(u,3))}var O$=zd(function(s,u,f){Ut.call(s,f)?s[f].push(u):go(s,f,[u])});function P$(s,u,f,h){s=Ir(s)?s:eu(s),f=f&&!h?st(f):0;var m=s.length;return f<0&&(f=$n(m+f,0)),sf(s)?f<=m&&s.indexOf(u,f)>-1:!!m&&qa(s,u,f)>-1}var k$=ft(function(s,u,f){var h=-1,m=typeof u=="function",w=Ir(s)?L(s.length):[];return ns(s,function(b){w[++h]=m?$r(u,b,f):Ac(b,u,f)}),w}),L$=zd(function(s,u,f){go(s,f,u)});function ef(s,u){var f=rt(s)?ln:Wb;return f(s,Ae(u,3))}function j$(s,u,f,h){return s==null?[]:(rt(u)||(u=u==null?[]:[u]),f=h?t:f,rt(f)||(f=f==null?[]:[f]),Qb(s,u,f))}var V$=zd(function(s,u,f){s[f?0:1].push(u)},function(){return[[],[]]});function B$(s,u,f){var h=rt(s)?tm:Cb,m=arguments.length<3;return h(s,Ae(u,4),f,m,ns)}function $$(s,u,f){var h=rt(s)?Xj:Cb,m=arguments.length<3;return h(s,Ae(u,4),f,m,Bb)}function U$(s,u){var f=rt(s)?Qo:$b;return f(s,rf(Ae(u,3)))}function q$(s){var u=rt(s)?kb:PB;return u(s)}function H$(s,u,f){(f?vr(s,u,f):u===t)?u=1:u=st(u);var h=rt(s)?fB:kB;return h(s,u)}function z$(s){var u=rt(s)?hB:jB;return u(s)}function G$(s){if(s==null)return 0;if(Ir(s))return sf(s)?za(s):s.length;var u=ar(s);return u==W||u==Hn?s.size:wm(s).length}function W$(s,u,f){var h=rt(s)?nm:VB;return f&&vr(s,u,f)&&(u=t),h(s,Ae(u,3))}var K$=ft(function(s,u){if(s==null)return[];var f=u.length;return f>1&&vr(s,u[0],u[1])?u=[]:f>2&&vr(u[0],u[1],u[2])&&(u=[u[0]]),Qb(s,Jn(u,1),[])}),tf=FV||function(){return Gn.Date.now()};function Z$(s,u){if(typeof u!="function")throw new li(i);return s=st(s),function(){if(--s<1)return u.apply(this,arguments)}}function zx(s,u,f){return u=f?t:u,u=s&&u==null?s.length:u,mo(s,fe,t,t,t,t,u)}function Gx(s,u){var f;if(typeof u!="function")throw new li(i);return s=st(s),function(){return--s>0&&(f=u.apply(this,arguments)),s<=1&&(u=t),f}}var Hm=ft(function(s,u,f){var h=C;if(f.length){var m=Xo(f,Ja(Hm));h|=be}return mo(s,h,u,f,m)}),Wx=ft(function(s,u,f){var h=C|O;if(f.length){var m=Xo(f,Ja(Wx));h|=be}return mo(u,h,s,f,m)});function Kx(s,u,f){u=f?t:u;var h=mo(s,A,t,t,t,t,t,u);return h.placeholder=Kx.placeholder,h}function Zx(s,u,f){u=f?t:u;var h=mo(s,J,t,t,t,t,t,u);return h.placeholder=Zx.placeholder,h}function Yx(s,u,f){var h,m,w,b,I,N,$=0,U=!1,z=!1,le=!0;if(typeof s!="function")throw new li(i);u=gi(u)||0,gn(f)&&(U=!!f.leading,z="maxWait"in f,w=z?$n(gi(f.maxWait)||0,u):w,le="trailing"in f?!!f.trailing:le);function Ce(Mn){var Ai=h,Co=m;return h=m=t,$=Mn,b=s.apply(Co,Ai),b}function Oe(Mn){return $=Mn,I=kc(vt,u),U?Ce(Mn):b}function lt(Mn){var Ai=Mn-N,Co=Mn-$,gD=u-Ai;return z?sr(gD,w-Co):gD}function Pe(Mn){var Ai=Mn-N,Co=Mn-$;return N===t||Ai>=u||Ai<0||z&&Co>=w}function vt(){var Mn=tf();if(Pe(Mn))return xt(Mn);I=kc(vt,lt(Mn))}function xt(Mn){return I=t,le&&h?Ce(Mn):(h=m=t,b)}function zr(){I!==t&&sx(I),$=0,h=N=m=I=t}function yr(){return I===t?b:xt(tf())}function Gr(){var Mn=tf(),Ai=Pe(Mn);if(h=arguments,m=this,N=Mn,Ai){if(I===t)return Oe(N);if(z)return sx(I),I=kc(vt,u),Ce(N)}return I===t&&(I=kc(vt,u)),b}return Gr.cancel=zr,Gr.flush=yr,Gr}var Y$=ft(function(s,u){return Vb(s,1,u)}),Q$=ft(function(s,u,f){return Vb(s,gi(u)||0,f)});function J$(s){return mo(s,He)}function nf(s,u){if(typeof s!="function"||u!=null&&typeof u!="function")throw new li(i);var f=function(){var h=arguments,m=u?u.apply(this,h):h[0],w=f.cache;if(w.has(m))return w.get(m);var b=s.apply(this,h);return f.cache=w.set(m,b)||w,b};return f.cache=new(nf.Cache||po),f}nf.Cache=po;function rf(s){if(typeof s!="function")throw new li(i);return function(){var u=arguments;switch(u.length){case 0:return!s.call(this);case 1:return!s.call(this,u[0]);case 2:return!s.call(this,u[0],u[1]);case 3:return!s.call(this,u[0],u[1],u[2])}return!s.apply(this,u)}}function X$(s){return Gx(2,s)}var eU=BB(function(s,u){u=u.length==1&&rt(u[0])?ln(u[0],Ur(Ae())):ln(Jn(u,1),Ur(Ae()));var f=u.length;return ft(function(h){for(var m=-1,w=sr(h.length,f);++m<w;)h[m]=u[m].call(this,h[m]);return $r(s,this,h)})}),zm=ft(function(s,u){var f=Xo(u,Ja(zm));return mo(s,be,t,u,f)}),Qx=ft(function(s,u){var f=Xo(u,Ja(Qx));return mo(s,_e,t,u,f)}),tU=vo(function(s,u){return mo(s,ne,t,t,t,u)});function nU(s,u){if(typeof s!="function")throw new li(i);return u=u===t?u:st(u),ft(s,u)}function rU(s,u){if(typeof s!="function")throw new li(i);return u=u==null?0:$n(st(u),0),ft(function(f){var h=f[u],m=os(f,0,u);return h&&Jo(m,h),$r(s,this,m)})}function iU(s,u,f){var h=!0,m=!0;if(typeof s!="function")throw new li(i);return gn(f)&&(h="leading"in f?!!f.leading:h,m="trailing"in f?!!f.trailing:m),Yx(s,u,{leading:h,maxWait:u,trailing:m})}function oU(s){return zx(s,1)}function sU(s,u){return zm(Tm(u),s)}function aU(){if(!arguments.length)return[];var s=arguments[0];return rt(s)?s:[s]}function uU(s){return fi(s,g)}function cU(s,u){return u=typeof u=="function"?u:t,fi(s,g,u)}function lU(s){return fi(s,d|g)}function dU(s,u){return u=typeof u=="function"?u:t,fi(s,d|g,u)}function fU(s,u){return u==null||jb(s,u,Wn(u))}function Mi(s,u){return s===u||s!==s&&u!==u}var hU=Zd(vm),pU=Zd(function(s,u){return s>=u}),Ws=Hb(function(){return arguments}())?Hb:function(s){return Cn(s)&&Ut.call(s,"callee")&&!Mb.call(s,"callee")},rt=L.isArray,gU=db?Ur(db):xB;function Ir(s){return s!=null&&of(s.length)&&!_o(s)}function Tn(s){return Cn(s)&&Ir(s)}function mU(s){return s===!0||s===!1||Cn(s)&&mr(s)==Re}var ss=MV||nv,vU=fb?Ur(fb):DB;function yU(s){return Cn(s)&&s.nodeType===1&&!Lc(s)}function _U(s){if(s==null)return!0;if(Ir(s)&&(rt(s)||typeof s=="string"||typeof s.splice=="function"||ss(s)||Xa(s)||Ws(s)))return!s.length;var u=ar(s);if(u==W||u==Hn)return!s.size;if(Pc(s))return!wm(s).length;for(var f in s)if(Ut.call(s,f))return!1;return!0}function wU(s,u){return Nc(s,u)}function CU(s,u,f){f=typeof f=="function"?f:t;var h=f?f(s,u):t;return h===t?Nc(s,u,t,f):!!h}function Gm(s){if(!Cn(s))return!1;var u=mr(s);return u==wn||u==An||typeof s.message=="string"&&typeof s.name=="string"&&!Lc(s)}function bU(s){return typeof s=="number"&&Nb(s)}function _o(s){if(!gn(s))return!1;var u=mr(s);return u==Rt||u==ee||u==Ne||u==Zo}function Jx(s){return typeof s=="number"&&s==st(s)}function of(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=K}function gn(s){var u=typeof s;return s!=null&&(u=="object"||u=="function")}function Cn(s){return s!=null&&typeof s=="object"}var Xx=hb?Ur(hb):IB;function xU(s,u){return s===u||_m(s,u,km(u))}function DU(s,u,f){return f=typeof f=="function"?f:t,_m(s,u,km(u),f)}function EU(s){return eD(s)&&s!=+s}function IU(s){if(c3(s))throw new Xe(r);return zb(s)}function SU(s){return s===null}function FU(s){return s==null}function eD(s){return typeof s=="number"||Cn(s)&&mr(s)==X}function Lc(s){if(!Cn(s)||mr(s)!=Qn)return!1;var u=Ad(s);if(u===null)return!0;var f=Ut.call(u,"constructor")&&u.constructor;return typeof f=="function"&&f instanceof f&&Sd.call(f)==DV}var Wm=pb?Ur(pb):SB;function TU(s){return Jx(s)&&s>=-K&&s<=K}var tD=gb?Ur(gb):FB;function sf(s){return typeof s=="string"||!rt(s)&&Cn(s)&&mr(s)==ai}function Hr(s){return typeof s=="symbol"||Cn(s)&&mr(s)==Br}var Xa=mb?Ur(mb):TB;function MU(s){return s===t}function AU(s){return Cn(s)&&ar(s)==Nn}function NU(s){return Cn(s)&&mr(s)==or}var RU=Zd(Cm),OU=Zd(function(s,u){return s<=u});function nD(s){if(!s)return[];if(Ir(s))return sf(s)?Fi(s):Er(s);if(Dc&&s[Dc])return fV(s[Dc]());var u=ar(s),f=u==W?um:u==Hn?Dd:eu;return f(s)}function wo(s){if(!s)return s===0?s:0;if(s=gi(s),s===Ue||s===-Ue){var u=s<0?-1:1;return u*Je}return s===s?s:0}function st(s){var u=wo(s),f=u%1;return u===u?f?u-f:u:0}function rD(s){return s?qs(st(s),0,_t):0}function gi(s){if(typeof s=="number")return s;if(Hr(s))return Lt;if(gn(s)){var u=typeof s.valueOf=="function"?s.valueOf():s;s=gn(u)?u+"":u}if(typeof s!="string")return s===0?s:+s;s=bb(s);var f=gj.test(s);return f||vj.test(s)?Zj(s.slice(2),f?2:8):pj.test(s)?Lt:+s}function iD(s){return Wi(s,Sr(s))}function PU(s){return s?qs(st(s),-K,K):s===0?s:0}function jt(s){return s==null?"":qr(s)}var kU=Ya(function(s,u){if(Pc(u)||Ir(u)){Wi(u,Wn(u),s);return}for(var f in u)Ut.call(u,f)&&Tc(s,f,u[f])}),oD=Ya(function(s,u){Wi(u,Sr(u),s)}),af=Ya(function(s,u,f,h){Wi(u,Sr(u),s,h)}),LU=Ya(function(s,u,f,h){Wi(u,Wn(u),s,h)}),jU=vo(pm);function VU(s,u){var f=Za(s);return u==null?f:Lb(f,u)}var BU=ft(function(s,u){s=Wt(s);var f=-1,h=u.length,m=h>2?u[2]:t;for(m&&vr(u[0],u[1],m)&&(h=1);++f<h;)for(var w=u[f],b=Sr(w),I=-1,N=b.length;++I<N;){var $=b[I],U=s[$];(U===t||Mi(U,Ga[$])&&!Ut.call(s,$))&&(s[$]=w[$])}return s}),$U=ft(function(s){return s.push(t,bx),$r(sD,t,s)});function UU(s,u){return yb(s,Ae(u,3),Gi)}function qU(s,u){return yb(s,Ae(u,3),mm)}function HU(s,u){return s==null?s:gm(s,Ae(u,3),Sr)}function zU(s,u){return s==null?s:Ub(s,Ae(u,3),Sr)}function GU(s,u){return s&&Gi(s,Ae(u,3))}function WU(s,u){return s&&mm(s,Ae(u,3))}function KU(s){return s==null?[]:$d(s,Wn(s))}function ZU(s){return s==null?[]:$d(s,Sr(s))}function Km(s,u,f){var h=s==null?t:Hs(s,u);return h===t?f:h}function YU(s,u){return s!=null&&Ex(s,u,_B)}function Zm(s,u){return s!=null&&Ex(s,u,wB)}var QU=vx(function(s,u,f){u!=null&&typeof u.toString!="function"&&(u=Fd.call(u)),s[u]=f},Qm(Fr)),JU=vx(function(s,u,f){u!=null&&typeof u.toString!="function"&&(u=Fd.call(u)),Ut.call(s,u)?s[u].push(f):s[u]=[f]},Ae),XU=ft(Ac);function Wn(s){return Ir(s)?Pb(s):wm(s)}function Sr(s){return Ir(s)?Pb(s,!0):MB(s)}function e6(s,u){var f={};return u=Ae(u,3),Gi(s,function(h,m,w){go(f,u(h,m,w),h)}),f}function t6(s,u){var f={};return u=Ae(u,3),Gi(s,function(h,m,w){go(f,m,u(h,m,w))}),f}var n6=Ya(function(s,u,f){Ud(s,u,f)}),sD=Ya(function(s,u,f,h){Ud(s,u,f,h)}),r6=vo(function(s,u){var f={};if(s==null)return f;var h=!1;u=ln(u,function(w){return w=is(w,s),h||(h=w.length>1),w}),Wi(s,Om(s),f),h&&(f=fi(f,d|p|g,QB));for(var m=u.length;m--;)Im(f,u[m]);return f});function i6(s,u){return aD(s,rf(Ae(u)))}var o6=vo(function(s,u){return s==null?{}:NB(s,u)});function aD(s,u){if(s==null)return{};var f=ln(Om(s),function(h){return[h]});return u=Ae(u),Jb(s,f,function(h,m){return u(h,m[0])})}function s6(s,u,f){u=is(u,s);var h=-1,m=u.length;for(m||(m=1,s=t);++h<m;){var w=s==null?t:s[Ki(u[h])];w===t&&(h=m,w=f),s=_o(w)?w.call(s):w}return s}function a6(s,u,f){return s==null?s:Rc(s,u,f)}function u6(s,u,f,h){return h=typeof h=="function"?h:t,s==null?s:Rc(s,u,f,h)}var uD=wx(Wn),cD=wx(Sr);function c6(s,u,f){var h=rt(s),m=h||ss(s)||Xa(s);if(u=Ae(u,4),f==null){var w=s&&s.constructor;m?f=h?new w:[]:gn(s)?f=_o(w)?Za(Ad(s)):{}:f={}}return(m?ci:Gi)(s,function(b,I,N){return u(f,b,I,N)}),f}function l6(s,u){return s==null?!0:Im(s,u)}function d6(s,u,f){return s==null?s:rx(s,u,Tm(f))}function f6(s,u,f,h){return h=typeof h=="function"?h:t,s==null?s:rx(s,u,Tm(f),h)}function eu(s){return s==null?[]:am(s,Wn(s))}function h6(s){return s==null?[]:am(s,Sr(s))}function p6(s,u,f){return f===t&&(f=u,u=t),f!==t&&(f=gi(f),f=f===f?f:0),u!==t&&(u=gi(u),u=u===u?u:0),qs(gi(s),u,f)}function g6(s,u,f){return u=wo(u),f===t?(f=u,u=0):f=wo(f),s=gi(s),CB(s,u,f)}function m6(s,u,f){if(f&&typeof f!="boolean"&&vr(s,u,f)&&(u=f=t),f===t&&(typeof u=="boolean"?(f=u,u=t):typeof s=="boolean"&&(f=s,s=t)),s===t&&u===t?(s=0,u=1):(s=wo(s),u===t?(u=s,s=0):u=wo(u)),s>u){var h=s;s=u,u=h}if(f||s%1||u%1){var m=Rb();return sr(s+m*(u-s+Kj("1e-"+((m+"").length-1))),u)}return xm(s,u)}var v6=Qa(function(s,u,f){return u=u.toLowerCase(),s+(f?lD(u):u)});function lD(s){return Ym(jt(s).toLowerCase())}function dD(s){return s=jt(s),s&&s.replace(_j,aV).replace(jj,"")}function y6(s,u,f){s=jt(s),u=qr(u);var h=s.length;f=f===t?h:qs(st(f),0,h);var m=f;return f-=u.length,f>=0&&s.slice(f,m)==u}function _6(s){return s=jt(s),s&&ie.test(s)?s.replace(Q,uV):s}function w6(s){return s=jt(s),s&&oj.test(s)?s.replace(bc,"\\$&"):s}var C6=Qa(function(s,u,f){return s+(f?"-":"")+u.toLowerCase()}),b6=Qa(function(s,u,f){return s+(f?" ":"")+u.toLowerCase()}),x6=px("toLowerCase");function D6(s,u,f){s=jt(s),u=st(u);var h=u?za(s):0;if(!u||h>=u)return s;var m=(u-h)/2;return Kd(Pd(m),f)+s+Kd(Od(m),f)}function E6(s,u,f){s=jt(s),u=st(u);var h=u?za(s):0;return u&&h<u?s+Kd(u-h,f):s}function I6(s,u,f){s=jt(s),u=st(u);var h=u?za(s):0;return u&&h<u?Kd(u-h,f)+s:s}function S6(s,u,f){return f||u==null?u=0:u&&(u=+u),OV(jt(s).replace(Gg,""),u||0)}function F6(s,u,f){return(f?vr(s,u,f):u===t)?u=1:u=st(u),Dm(jt(s),u)}function T6(){var s=arguments,u=jt(s[0]);return s.length<3?u:u.replace(s[1],s[2])}var M6=Qa(function(s,u,f){return s+(f?"_":"")+u.toLowerCase()});function A6(s,u,f){return f&&typeof f!="number"&&vr(s,u,f)&&(u=f=t),f=f===t?_t:f>>>0,f?(s=jt(s),s&&(typeof u=="string"||u!=null&&!Wm(u))&&(u=qr(u),!u&&Ha(s))?os(Fi(s),0,f):s.split(u,f)):[]}var N6=Qa(function(s,u,f){return s+(f?" ":"")+Ym(u)});function R6(s,u,f){return s=jt(s),f=f==null?0:qs(st(f),0,s.length),u=qr(u),s.slice(f,f+u.length)==u}function O6(s,u,f){var h=v.templateSettings;f&&vr(s,u,f)&&(u=t),s=jt(s),u=af({},u,h,Cx);var m=af({},u.imports,h.imports,Cx),w=Wn(m),b=am(m,w),I,N,$=0,U=u.interpolate||_d,z="__p += '",le=cm((u.escape||_d).source+"|"+U.source+"|"+(U===ct?hj:_d).source+"|"+(u.evaluate||_d).source+"|$","g"),Ce="//# sourceURL="+(Ut.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qj+"]")+`
`;s.replace(le,function(Pe,vt,xt,zr,yr,Gr){return xt||(xt=zr),z+=s.slice($,Gr).replace(wj,cV),vt&&(I=!0,z+=`' +
__e(`+vt+`) +
'`),yr&&(N=!0,z+=`';
`+yr+`;
__p += '`),xt&&(z+=`' +
((__t = (`+xt+`)) == null ? '' : __t) +
'`),$=Gr+Pe.length,Pe}),z+=`';
`;var Oe=Ut.call(u,"variable")&&u.variable;if(!Oe)z=`with (obj) {
`+z+`
}
`;else if(dj.test(Oe))throw new Xe(o);z=(N?z.replace(ut,""):z).replace(mt,"$1").replace(Ie,"$1;"),z="function("+(Oe||"obj")+`) {
`+(Oe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+z+`return __p
}`;var lt=hD(function(){return Ot(w,Ce+"return "+z).apply(t,b)});if(lt.source=z,Gm(lt))throw lt;return lt}function P6(s){return jt(s).toLowerCase()}function k6(s){return jt(s).toUpperCase()}function L6(s,u,f){if(s=jt(s),s&&(f||u===t))return bb(s);if(!s||!(u=qr(u)))return s;var h=Fi(s),m=Fi(u),w=xb(h,m),b=Db(h,m)+1;return os(h,w,b).join("")}function j6(s,u,f){if(s=jt(s),s&&(f||u===t))return s.slice(0,Ib(s)+1);if(!s||!(u=qr(u)))return s;var h=Fi(s),m=Db(h,Fi(u))+1;return os(h,0,m).join("")}function V6(s,u,f){if(s=jt(s),s&&(f||u===t))return s.replace(Gg,"");if(!s||!(u=qr(u)))return s;var h=Fi(s),m=xb(h,Fi(u));return os(h,m).join("")}function B6(s,u){var f=bt,h=k;if(gn(u)){var m="separator"in u?u.separator:m;f="length"in u?st(u.length):f,h="omission"in u?qr(u.omission):h}s=jt(s);var w=s.length;if(Ha(s)){var b=Fi(s);w=b.length}if(f>=w)return s;var I=f-za(h);if(I<1)return h;var N=b?os(b,0,I).join(""):s.slice(0,I);if(m===t)return N+h;if(b&&(I+=N.length-I),Wm(m)){if(s.slice(I).search(m)){var $,U=N;for(m.global||(m=cm(m.source,jt(HC.exec(m))+"g")),m.lastIndex=0;$=m.exec(U);)var z=$.index;N=N.slice(0,z===t?I:z)}}else if(s.indexOf(qr(m),I)!=I){var le=N.lastIndexOf(m);le>-1&&(N=N.slice(0,le))}return N+h}function $6(s){return s=jt(s),s&&te.test(s)?s.replace(Z,mV):s}var U6=Qa(function(s,u,f){return s+(f?" ":"")+u.toUpperCase()}),Ym=px("toUpperCase");function fD(s,u,f){return s=jt(s),u=f?t:u,u===t?dV(s)?_V(s):nV(s):s.match(u)||[]}var hD=ft(function(s,u){try{return $r(s,t,u)}catch(f){return Gm(f)?f:new Xe(f)}}),q6=vo(function(s,u){return ci(u,function(f){f=Ki(f),go(s,f,Hm(s[f],s))}),s});function H6(s){var u=s==null?0:s.length,f=Ae();return s=u?ln(s,function(h){if(typeof h[1]!="function")throw new li(i);return[f(h[0]),h[1]]}):[],ft(function(h){for(var m=-1;++m<u;){var w=s[m];if($r(w[0],this,h))return $r(w[1],this,h)}})}function z6(s){return mB(fi(s,d))}function Qm(s){return function(){return s}}function G6(s,u){return s==null||s!==s?u:s}var W6=mx(),K6=mx(!0);function Fr(s){return s}function Jm(s){return Gb(typeof s=="function"?s:fi(s,d))}function Z6(s){return Kb(fi(s,d))}function Y6(s,u){return Zb(s,fi(u,d))}var Q6=ft(function(s,u){return function(f){return Ac(f,s,u)}}),J6=ft(function(s,u){return function(f){return Ac(s,f,u)}});function Xm(s,u,f){var h=Wn(u),m=$d(u,h);f==null&&!(gn(u)&&(m.length||!h.length))&&(f=u,u=s,s=this,m=$d(u,Wn(u)));var w=!(gn(f)&&"chain"in f)||!!f.chain,b=_o(s);return ci(m,function(I){var N=u[I];s[I]=N,b&&(s.prototype[I]=function(){var $=this.__chain__;if(w||$){var U=s(this.__wrapped__),z=U.__actions__=Er(this.__actions__);return z.push({func:N,args:arguments,thisArg:s}),U.__chain__=$,U}return N.apply(s,Jo([this.value()],arguments))})}),s}function X6(){return Gn._===this&&(Gn._=EV),this}function ev(){}function e4(s){return s=st(s),ft(function(u){return Yb(u,s)})}var t4=Am(ln),n4=Am(vb),r4=Am(nm);function pD(s){return jm(s)?rm(Ki(s)):RB(s)}function i4(s){return function(u){return s==null?t:Hs(s,u)}}var o4=yx(),s4=yx(!0);function tv(){return[]}function nv(){return!1}function a4(){return{}}function u4(){return""}function c4(){return!0}function l4(s,u){if(s=st(s),s<1||s>K)return[];var f=_t,h=sr(s,_t);u=Ae(u),s-=_t;for(var m=sm(h,u);++f<s;)u(f);return m}function d4(s){return rt(s)?ln(s,Ki):Hr(s)?[s]:Er(Ox(jt(s)))}function f4(s){var u=++xV;return jt(s)+u}var h4=Wd(function(s,u){return s+u},0),p4=Nm("ceil"),g4=Wd(function(s,u){return s/u},1),m4=Nm("floor");function v4(s){return s&&s.length?Bd(s,Fr,vm):t}function y4(s,u){return s&&s.length?Bd(s,Ae(u,2),vm):t}function _4(s){return wb(s,Fr)}function w4(s,u){return wb(s,Ae(u,2))}function C4(s){return s&&s.length?Bd(s,Fr,Cm):t}function b4(s,u){return s&&s.length?Bd(s,Ae(u,2),Cm):t}var x4=Wd(function(s,u){return s*u},1),D4=Nm("round"),E4=Wd(function(s,u){return s-u},0);function I4(s){return s&&s.length?om(s,Fr):0}function S4(s,u){return s&&s.length?om(s,Ae(u,2)):0}return v.after=Z$,v.ary=zx,v.assign=kU,v.assignIn=oD,v.assignInWith=af,v.assignWith=LU,v.at=jU,v.before=Gx,v.bind=Hm,v.bindAll=q6,v.bindKey=Wx,v.castArray=aU,v.chain=Ux,v.chunk=m3,v.compact=v3,v.concat=y3,v.cond=H6,v.conforms=z6,v.constant=Qm,v.countBy=I$,v.create=VU,v.curry=Kx,v.curryRight=Zx,v.debounce=Yx,v.defaults=BU,v.defaultsDeep=$U,v.defer=Y$,v.delay=Q$,v.difference=_3,v.differenceBy=w3,v.differenceWith=C3,v.drop=b3,v.dropRight=x3,v.dropRightWhile=D3,v.dropWhile=E3,v.fill=I3,v.filter=F$,v.flatMap=A$,v.flatMapDeep=N$,v.flatMapDepth=R$,v.flatten=jx,v.flattenDeep=S3,v.flattenDepth=F3,v.flip=J$,v.flow=W6,v.flowRight=K6,v.fromPairs=T3,v.functions=KU,v.functionsIn=ZU,v.groupBy=O$,v.initial=A3,v.intersection=N3,v.intersectionBy=R3,v.intersectionWith=O3,v.invert=QU,v.invertBy=JU,v.invokeMap=k$,v.iteratee=Jm,v.keyBy=L$,v.keys=Wn,v.keysIn=Sr,v.map=ef,v.mapKeys=e6,v.mapValues=t6,v.matches=Z6,v.matchesProperty=Y6,v.memoize=nf,v.merge=n6,v.mergeWith=sD,v.method=Q6,v.methodOf=J6,v.mixin=Xm,v.negate=rf,v.nthArg=e4,v.omit=r6,v.omitBy=i6,v.once=X$,v.orderBy=j$,v.over=t4,v.overArgs=eU,v.overEvery=n4,v.overSome=r4,v.partial=zm,v.partialRight=Qx,v.partition=V$,v.pick=o6,v.pickBy=aD,v.property=pD,v.propertyOf=i4,v.pull=j3,v.pullAll=Bx,v.pullAllBy=V3,v.pullAllWith=B3,v.pullAt=$3,v.range=o4,v.rangeRight=s4,v.rearg=tU,v.reject=U$,v.remove=U3,v.rest=nU,v.reverse=Um,v.sampleSize=H$,v.set=a6,v.setWith=u6,v.shuffle=z$,v.slice=q3,v.sortBy=K$,v.sortedUniq=Y3,v.sortedUniqBy=Q3,v.split=A6,v.spread=rU,v.tail=J3,v.take=X3,v.takeRight=e$,v.takeRightWhile=t$,v.takeWhile=n$,v.tap=v$,v.throttle=iU,v.thru=Xd,v.toArray=nD,v.toPairs=uD,v.toPairsIn=cD,v.toPath=d4,v.toPlainObject=iD,v.transform=c6,v.unary=oU,v.union=r$,v.unionBy=i$,v.unionWith=o$,v.uniq=s$,v.uniqBy=a$,v.uniqWith=u$,v.unset=l6,v.unzip=qm,v.unzipWith=$x,v.update=d6,v.updateWith=f6,v.values=eu,v.valuesIn=h6,v.without=c$,v.words=fD,v.wrap=sU,v.xor=l$,v.xorBy=d$,v.xorWith=f$,v.zip=h$,v.zipObject=p$,v.zipObjectDeep=g$,v.zipWith=m$,v.entries=uD,v.entriesIn=cD,v.extend=oD,v.extendWith=af,Xm(v,v),v.add=h4,v.attempt=hD,v.camelCase=v6,v.capitalize=lD,v.ceil=p4,v.clamp=p6,v.clone=uU,v.cloneDeep=lU,v.cloneDeepWith=dU,v.cloneWith=cU,v.conformsTo=fU,v.deburr=dD,v.defaultTo=G6,v.divide=g4,v.endsWith=y6,v.eq=Mi,v.escape=_6,v.escapeRegExp=w6,v.every=S$,v.find=T$,v.findIndex=kx,v.findKey=UU,v.findLast=M$,v.findLastIndex=Lx,v.findLastKey=qU,v.floor=m4,v.forEach=qx,v.forEachRight=Hx,v.forIn=HU,v.forInRight=zU,v.forOwn=GU,v.forOwnRight=WU,v.get=Km,v.gt=hU,v.gte=pU,v.has=YU,v.hasIn=Zm,v.head=Vx,v.identity=Fr,v.includes=P$,v.indexOf=M3,v.inRange=g6,v.invoke=XU,v.isArguments=Ws,v.isArray=rt,v.isArrayBuffer=gU,v.isArrayLike=Ir,v.isArrayLikeObject=Tn,v.isBoolean=mU,v.isBuffer=ss,v.isDate=vU,v.isElement=yU,v.isEmpty=_U,v.isEqual=wU,v.isEqualWith=CU,v.isError=Gm,v.isFinite=bU,v.isFunction=_o,v.isInteger=Jx,v.isLength=of,v.isMap=Xx,v.isMatch=xU,v.isMatchWith=DU,v.isNaN=EU,v.isNative=IU,v.isNil=FU,v.isNull=SU,v.isNumber=eD,v.isObject=gn,v.isObjectLike=Cn,v.isPlainObject=Lc,v.isRegExp=Wm,v.isSafeInteger=TU,v.isSet=tD,v.isString=sf,v.isSymbol=Hr,v.isTypedArray=Xa,v.isUndefined=MU,v.isWeakMap=AU,v.isWeakSet=NU,v.join=P3,v.kebabCase=C6,v.last=pi,v.lastIndexOf=k3,v.lowerCase=b6,v.lowerFirst=x6,v.lt=RU,v.lte=OU,v.max=v4,v.maxBy=y4,v.mean=_4,v.meanBy=w4,v.min=C4,v.minBy=b4,v.stubArray=tv,v.stubFalse=nv,v.stubObject=a4,v.stubString=u4,v.stubTrue=c4,v.multiply=x4,v.nth=L3,v.noConflict=X6,v.noop=ev,v.now=tf,v.pad=D6,v.padEnd=E6,v.padStart=I6,v.parseInt=S6,v.random=m6,v.reduce=B$,v.reduceRight=$$,v.repeat=F6,v.replace=T6,v.result=s6,v.round=D4,v.runInContext=T,v.sample=q$,v.size=G$,v.snakeCase=M6,v.some=W$,v.sortedIndex=H3,v.sortedIndexBy=z3,v.sortedIndexOf=G3,v.sortedLastIndex=W3,v.sortedLastIndexBy=K3,v.sortedLastIndexOf=Z3,v.startCase=N6,v.startsWith=R6,v.subtract=E4,v.sum=I4,v.sumBy=S4,v.template=O6,v.times=l4,v.toFinite=wo,v.toInteger=st,v.toLength=rD,v.toLower=P6,v.toNumber=gi,v.toSafeInteger=PU,v.toString=jt,v.toUpper=k6,v.trim=L6,v.trimEnd=j6,v.trimStart=V6,v.truncate=B6,v.unescape=$6,v.uniqueId=f4,v.upperCase=U6,v.upperFirst=Ym,v.each=qx,v.eachRight=Hx,v.first=Vx,Xm(v,function(){var s={};return Gi(v,function(u,f){Ut.call(v.prototype,f)||(s[f]=u)}),s}(),{chain:!1}),v.VERSION=e,ci(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){v[s].placeholder=v}),ci(["drop","take"],function(s,u){wt.prototype[s]=function(f){f=f===t?1:$n(st(f),0);var h=this.__filtered__&&!u?new wt(this):this.clone();return h.__filtered__?h.__takeCount__=sr(f,h.__takeCount__):h.__views__.push({size:sr(f,_t),type:s+(h.__dir__<0?"Right":"")}),h},wt.prototype[s+"Right"]=function(f){return this.reverse()[s](f).reverse()}}),ci(["filter","map","takeWhile"],function(s,u){var f=u+1,h=f==de||f==ue;wt.prototype[s]=function(m){var w=this.clone();return w.__iteratees__.push({iteratee:Ae(m,3),type:f}),w.__filtered__=w.__filtered__||h,w}}),ci(["head","last"],function(s,u){var f="take"+(u?"Right":"");wt.prototype[s]=function(){return this[f](1).value()[0]}}),ci(["initial","tail"],function(s,u){var f="drop"+(u?"":"Right");wt.prototype[s]=function(){return this.__filtered__?new wt(this):this[f](1)}}),wt.prototype.compact=function(){return this.filter(Fr)},wt.prototype.find=function(s){return this.filter(s).head()},wt.prototype.findLast=function(s){return this.reverse().find(s)},wt.prototype.invokeMap=ft(function(s,u){return typeof s=="function"?new wt(this):this.map(function(f){return Ac(f,s,u)})}),wt.prototype.reject=function(s){return this.filter(rf(Ae(s)))},wt.prototype.slice=function(s,u){s=st(s);var f=this;return f.__filtered__&&(s>0||u<0)?new wt(f):(s<0?f=f.takeRight(-s):s&&(f=f.drop(s)),u!==t&&(u=st(u),f=u<0?f.dropRight(-u):f.take(u-s)),f)},wt.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},wt.prototype.toArray=function(){return this.take(_t)},Gi(wt.prototype,function(s,u){var f=/^(?:filter|find|map|reject)|While$/.test(u),h=/^(?:head|last)$/.test(u),m=v[h?"take"+(u=="last"?"Right":""):u],w=h||/^find/.test(u);m&&(v.prototype[u]=function(){var b=this.__wrapped__,I=h?[1]:arguments,N=b instanceof wt,$=I[0],U=N||rt(b),z=function(vt){var xt=m.apply(v,Jo([vt],I));return h&&le?xt[0]:xt};U&&f&&typeof $=="function"&&$.length!=1&&(N=U=!1);var le=this.__chain__,Ce=!!this.__actions__.length,Oe=w&&!le,lt=N&&!Ce;if(!w&&U){b=lt?b:new wt(this);var Pe=s.apply(b,I);return Pe.__actions__.push({func:Xd,args:[z],thisArg:t}),new di(Pe,le)}return Oe&&lt?s.apply(this,I):(Pe=this.thru(z),Oe?h?Pe.value()[0]:Pe.value():Pe)})}),ci(["pop","push","shift","sort","splice","unshift"],function(s){var u=Ed[s],f=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",h=/^(?:pop|shift)$/.test(s);v.prototype[s]=function(){var m=arguments;if(h&&!this.__chain__){var w=this.value();return u.apply(rt(w)?w:[],m)}return this[f](function(b){return u.apply(rt(b)?b:[],m)})}}),Gi(wt.prototype,function(s,u){var f=v[u];if(f){var h=f.name+"";Ut.call(Ka,h)||(Ka[h]=[]),Ka[h].push({name:u,func:f})}}),Ka[Gd(t,O).name]=[{name:"wrapper",func:t}],wt.prototype.clone=$V,wt.prototype.reverse=UV,wt.prototype.value=qV,v.prototype.at=y$,v.prototype.chain=_$,v.prototype.commit=w$,v.prototype.next=C$,v.prototype.plant=x$,v.prototype.reverse=D$,v.prototype.toJSON=v.prototype.valueOf=v.prototype.value=E$,v.prototype.first=v.prototype.head,Dc&&(v.prototype[Dc]=b$),v},es=wV();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Gn._=es,define(function(){return es})):Vs?((Vs.exports=es)._=es,Jg._=es):Gn._=es}).call(oc)});var ok=E(()=>{"use strict";var ik;(function(t){(function(e){var n=typeof globalThis=="object"?globalThis:typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:c(),r=i(t);typeof n.Reflect<"u"&&(r=i(n.Reflect,r)),e(r,n),typeof n.Reflect>"u"&&(n.Reflect=t);function i(l,d){return function(p,g){Object.defineProperty(l,p,{configurable:!0,writable:!0,value:g}),d&&d(p,g)}}function o(){try{return Function("return this;")()}catch{}}function a(){try{return(0,eval)("(function() { return this; })()")}catch{}}function c(){return o()||a()}})(function(e,n){var r=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",o=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",a=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",c=typeof Object.create=="function",l={__proto__:[]}instanceof Array,d=!c&&!l,p={create:c?function(){return Rn(Object.create(null))}:l?function(){return Rn({__proto__:null})}:function(){return Rn({})},has:d?function(F,R){return r.call(F,R)}:function(F,R){return R in F},get:d?function(F,R){return r.call(F,R)?F[R]:void 0}:function(F,R){return F[R]}},g=Object.getPrototypeOf(Function),y=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Tt(),_=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Mt(),C=typeof WeakMap=="function"?WeakMap:zn(),O=i?Symbol.for("@reflect-metadata:registry"):void 0,j=Nn(),A=or(j);function J(F,R,V,H){if(he(V)){if(!ee(F))throw new TypeError;if(!X(R))throw new TypeError;return de(F,R)}else{if(!ee(F))throw new TypeError;if(!Ne(R))throw new TypeError;if(!Ne(H)&&!he(H)&&!Nt(H))throw new TypeError;return Nt(H)&&(H=void 0),V=Rt(V),Qe(F,R,V,H)}}e("decorate",J);function be(F,R){function V(H,ce){if(!Ne(H))throw new TypeError;if(!he(ce)&&!Fe(ce))throw new TypeError;Lt(F,R,H,ce)}return V}e("metadata",be);function _e(F,R,V,H){if(!Ne(V))throw new TypeError;return he(H)||(H=Rt(H)),Lt(F,R,V,H)}e("defineMetadata",_e);function fe(F,R,V){if(!Ne(R))throw new TypeError;return he(V)||(V=Rt(V)),ue(F,R,V)}e("hasMetadata",fe);function ne(F,R,V){if(!Ne(R))throw new TypeError;return he(V)||(V=Rt(V)),Ue(F,R,V)}e("hasOwnMetadata",ne);function He(F,R,V){if(!Ne(R))throw new TypeError;return he(V)||(V=Rt(V)),K(F,R,V)}e("getMetadata",He);function bt(F,R,V){if(!Ne(R))throw new TypeError;return he(V)||(V=Rt(V)),Je(F,R,V)}e("getOwnMetadata",bt);function k(F,R){if(!Ne(F))throw new TypeError;return he(R)||(R=Rt(R)),_t(F,R)}e("getMetadataKeys",k);function se(F,R){if(!Ne(F))throw new TypeError;return he(R)||(R=Rt(R)),Gt(F,R)}e("getOwnMetadataKeys",se);function me(F,R,V){if(!Ne(R))throw new TypeError;if(he(V)||(V=Rt(V)),!Ne(R))throw new TypeError;he(V)||(V=Rt(V));var H=we(R,V,!1);return he(H)?!1:H.OrdinaryDeleteMetadata(F,R,V)}e("deleteMetadata",me);function de(F,R){for(var V=F.length-1;V>=0;--V){var H=F[V],ce=H(R);if(!he(ce)&&!Nt(ce)){if(!X(ce))throw new TypeError;R=ce}}return R}function Qe(F,R,V,H){for(var ce=F.length-1;ce>=0;--ce){var ut=F[ce],mt=ut(R,V,H);if(!he(mt)&&!Nt(mt)){if(!Ne(mt))throw new TypeError;H=mt}}return H}function ue(F,R,V){var H=Ue(F,R,V);if(H)return!0;var ce=Br(R);return Nt(ce)?!1:ue(F,ce,V)}function Ue(F,R,V){var H=we(R,V,!1);return he(H)?!1:An(H.OrdinaryHasOwnMetadata(F,R,V))}function K(F,R,V){var H=Ue(F,R,V);if(H)return Je(F,R,V);var ce=Br(R);if(!Nt(ce))return K(F,ce,V)}function Je(F,R,V){var H=we(R,V,!1);if(!he(H))return H.OrdinaryGetOwnMetadata(F,R,V)}function Lt(F,R,V,H){var ce=we(V,H,!0);ce.OrdinaryDefineOwnMetadata(F,R,V,H)}function _t(F,R){var V=Gt(F,R),H=Br(F);if(H===null)return V;var ce=_t(H,R);if(ce.length<=0)return V;if(V.length<=0)return ce;for(var ut=new _,mt=[],Ie=0,Z=V;Ie<Z.length;Ie++){var Q=Z[Ie],te=ut.has(Q);te||(ut.add(Q),mt.push(Q))}for(var ie=0,Te=ce;ie<Te.length;ie++){var Q=Te[ie],te=ut.has(Q);te||(ut.add(Q),mt.push(Q))}return mt}function Gt(F,R){var V=we(F,R,!1);return V?V.OrdinaryOwnMetadataKeys(F,R):[]}function un(F){if(F===null)return 1;switch(typeof F){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return F===null?1:6;default:return 6}}function he(F){return F===void 0}function Nt(F){return F===null}function cn(F){return typeof F=="symbol"}function Ne(F){return typeof F=="object"?F!==null:typeof F=="function"}function Re(F,R){switch(un(F)){case 0:return F;case 1:return F;case 2:return F;case 3:return F;case 4:return F;case 5:return F}var V=R===3?"string":R===5?"number":"default",H=fo(F,o);if(H!==void 0){var ce=H.call(F,V);if(Ne(ce))throw new TypeError;return ce}return pn(F,V==="default"?"number":V)}function pn(F,R){if(R==="string"){var V=F.toString;if(W(V)){var H=V.call(F);if(!Ne(H))return H}var ce=F.valueOf;if(W(ce)){var H=ce.call(F);if(!Ne(H))return H}}else{var ce=F.valueOf;if(W(ce)){var H=ce.call(F);if(!Ne(H))return H}var ut=F.toString;if(W(ut)){var H=ut.call(F);if(!Ne(H))return H}}throw new TypeError}function An(F){return!!F}function wn(F){return""+F}function Rt(F){var R=Re(F,3);return cn(R)?R:wn(R)}function ee(F){return Array.isArray?Array.isArray(F):F instanceof Object?F instanceof Array:Object.prototype.toString.call(F)==="[object Array]"}function W(F){return typeof F=="function"}function X(F){return typeof F=="function"}function Fe(F){switch(un(F)){case 3:return!0;case 4:return!0;default:return!1}}function Qn(F,R){return F===R||F!==F&&R!==R}function fo(F,R){var V=F[R];if(V!=null){if(!W(V))throw new TypeError;return V}}function Zo(F){var R=fo(F,a);if(!W(R))throw new TypeError;var V=R.call(F);if(!Ne(V))throw new TypeError;return V}function si(F){return F.value}function Hn(F){var R=F.next();return R.done?!1:R}function ai(F){var R=F.return;R&&R.call(F)}function Br(F){var R=Object.getPrototypeOf(F);if(typeof F!="function"||F===g||R!==g)return R;var V=F.prototype,H=V&&Object.getPrototypeOf(V);if(H==null||H===Object.prototype)return R;var ce=H.constructor;return typeof ce!="function"||ce===F?R:ce}function Yo(){var F;!he(O)&&typeof n.Reflect<"u"&&!(O in n.Reflect)&&typeof n.Reflect.defineMetadata=="function"&&(F=Ee(n.Reflect));var R,V,H,ce=new C,ut={registerProvider:mt,getProvider:Z,setProvider:te};return ut;function mt(ie){if(!Object.isExtensible(ut))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case F===ie:break;case he(R):R=ie;break;case R===ie:break;case he(V):V=ie;break;case V===ie:break;default:H===void 0&&(H=new _),H.add(ie);break}}function Ie(ie,Te){if(!he(R)){if(R.isProviderFor(ie,Te))return R;if(!he(V)){if(V.isProviderFor(ie,Te))return R;if(!he(H))for(var nt=Zo(H);;){var ct=Hn(nt);if(!ct)return;var $t=si(ct);if($t.isProviderFor(ie,Te))return ai(nt),$t}}}if(!he(F)&&F.isProviderFor(ie,Te))return F}function Z(ie,Te){var nt=ce.get(ie),ct;return he(nt)||(ct=nt.get(Te)),he(ct)&&(ct=Ie(ie,Te),he(ct)||(he(nt)&&(nt=new y,ce.set(ie,nt)),nt.set(Te,ct))),ct}function Q(ie){if(he(ie))throw new TypeError;return R===ie||V===ie||!he(H)&&H.has(ie)}function te(ie,Te,nt){if(!Q(nt))throw new Error("Metadata provider not registered.");var ct=Z(ie,Te);if(ct!==nt){if(!he(ct))return!1;var $t=ce.get(ie);he($t)&&($t=new y,ce.set(ie,$t)),$t.set(Te,nt)}return!0}}function Nn(){var F;return!he(O)&&Ne(n.Reflect)&&Object.isExtensible(n.Reflect)&&(F=n.Reflect[O]),he(F)&&(F=Yo()),!he(O)&&Ne(n.Reflect)&&Object.isExtensible(n.Reflect)&&Object.defineProperty(n.Reflect,O,{enumerable:!1,configurable:!1,writable:!1,value:F}),F}function or(F){var R=new C,V={isProviderFor:function(Q,te){var ie=R.get(Q);return he(ie)?!1:ie.has(te)},OrdinaryDefineOwnMetadata:mt,OrdinaryHasOwnMetadata:ce,OrdinaryGetOwnMetadata:ut,OrdinaryOwnMetadataKeys:Ie,OrdinaryDeleteMetadata:Z};return j.registerProvider(V),V;function H(Q,te,ie){var Te=R.get(Q),nt=!1;if(he(Te)){if(!ie)return;Te=new y,R.set(Q,Te),nt=!0}var ct=Te.get(te);if(he(ct)){if(!ie)return;if(ct=new y,Te.set(te,ct),!F.setProvider(Q,te,V))throw Te.delete(te),nt&&R.delete(Q),new Error("Wrong provider for target.")}return ct}function ce(Q,te,ie){var Te=H(te,ie,!1);return he(Te)?!1:An(Te.has(Q))}function ut(Q,te,ie){var Te=H(te,ie,!1);if(!he(Te))return Te.get(Q)}function mt(Q,te,ie,Te){var nt=H(ie,Te,!0);nt.set(Q,te)}function Ie(Q,te){var ie=[],Te=H(Q,te,!1);if(he(Te))return ie;for(var nt=Te.keys(),ct=Zo(nt),$t=0;;){var yd=Hn(ct);if(!yd)return ie.length=$t,ie;var zg=si(yd);try{ie[$t]=zg}catch(bc){try{ai(ct)}finally{throw bc}}$t++}}function Z(Q,te,ie){var Te=H(te,ie,!1);if(he(Te)||!Te.delete(Q))return!1;if(Te.size===0){var nt=R.get(te);he(nt)||(nt.delete(ie),nt.size===0&&R.delete(nt))}return!0}}function Ee(F){var R=F.defineMetadata,V=F.hasOwnMetadata,H=F.getOwnMetadata,ce=F.getOwnMetadataKeys,ut=F.deleteMetadata,mt=new C,Ie={isProviderFor:function(Z,Q){var te=mt.get(Z);return!he(te)&&te.has(Q)?!0:ce(Z,Q).length?(he(te)&&(te=new _,mt.set(Z,te)),te.add(Q),!0):!1},OrdinaryDefineOwnMetadata:R,OrdinaryHasOwnMetadata:V,OrdinaryGetOwnMetadata:H,OrdinaryOwnMetadataKeys:ce,OrdinaryDeleteMetadata:ut};return Ie}function we(F,R,V){var H=j.getProvider(F,R);if(!he(H))return H;if(V){if(j.setProvider(F,R,A))return A;throw new Error("Illegal state.")}}function Tt(){var F={},R=[],V=function(){function Ie(Z,Q,te){this._index=0,this._keys=Z,this._values=Q,this._selector=te}return Ie.prototype["@@iterator"]=function(){return this},Ie.prototype[a]=function(){return this},Ie.prototype.next=function(){var Z=this._index;if(Z>=0&&Z<this._keys.length){var Q=this._selector(this._keys[Z],this._values[Z]);return Z+1>=this._keys.length?(this._index=-1,this._keys=R,this._values=R):this._index++,{value:Q,done:!1}}return{value:void 0,done:!0}},Ie.prototype.throw=function(Z){throw this._index>=0&&(this._index=-1,this._keys=R,this._values=R),Z},Ie.prototype.return=function(Z){return this._index>=0&&(this._index=-1,this._keys=R,this._values=R),{value:Z,done:!0}},Ie}(),H=function(){function Ie(){this._keys=[],this._values=[],this._cacheKey=F,this._cacheIndex=-2}return Object.defineProperty(Ie.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Ie.prototype.has=function(Z){return this._find(Z,!1)>=0},Ie.prototype.get=function(Z){var Q=this._find(Z,!1);return Q>=0?this._values[Q]:void 0},Ie.prototype.set=function(Z,Q){var te=this._find(Z,!0);return this._values[te]=Q,this},Ie.prototype.delete=function(Z){var Q=this._find(Z,!1);if(Q>=0){for(var te=this._keys.length,ie=Q+1;ie<te;ie++)this._keys[ie-1]=this._keys[ie],this._values[ie-1]=this._values[ie];return this._keys.length--,this._values.length--,Qn(Z,this._cacheKey)&&(this._cacheKey=F,this._cacheIndex=-2),!0}return!1},Ie.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=F,this._cacheIndex=-2},Ie.prototype.keys=function(){return new V(this._keys,this._values,ce)},Ie.prototype.values=function(){return new V(this._keys,this._values,ut)},Ie.prototype.entries=function(){return new V(this._keys,this._values,mt)},Ie.prototype["@@iterator"]=function(){return this.entries()},Ie.prototype[a]=function(){return this.entries()},Ie.prototype._find=function(Z,Q){if(!Qn(this._cacheKey,Z)){this._cacheIndex=-1;for(var te=0;te<this._keys.length;te++)if(Qn(this._keys[te],Z)){this._cacheIndex=te;break}}return this._cacheIndex<0&&Q&&(this._cacheIndex=this._keys.length,this._keys.push(Z),this._values.push(void 0)),this._cacheIndex},Ie}();return H;function ce(Ie,Z){return Ie}function ut(Ie,Z){return Z}function mt(Ie,Z){return[Ie,Z]}}function Mt(){var F=function(){function R(){this._map=new y}return Object.defineProperty(R.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),R.prototype.has=function(V){return this._map.has(V)},R.prototype.add=function(V){return this._map.set(V,V),this},R.prototype.delete=function(V){return this._map.delete(V)},R.prototype.clear=function(){this._map.clear()},R.prototype.keys=function(){return this._map.keys()},R.prototype.values=function(){return this._map.keys()},R.prototype.entries=function(){return this._map.entries()},R.prototype["@@iterator"]=function(){return this.keys()},R.prototype[a]=function(){return this.keys()},R}();return F}function zn(){var F=16,R=p.create(),V=H();return function(){function Z(){this._key=H()}return Z.prototype.has=function(Q){var te=ce(Q,!1);return te!==void 0?p.has(te,this._key):!1},Z.prototype.get=function(Q){var te=ce(Q,!1);return te!==void 0?p.get(te,this._key):void 0},Z.prototype.set=function(Q,te){var ie=ce(Q,!0);return ie[this._key]=te,this},Z.prototype.delete=function(Q){var te=ce(Q,!1);return te!==void 0?delete te[this._key]:!1},Z.prototype.clear=function(){this._key=H()},Z}();function H(){var Z;do Z="@@WeakMap@@"+Ie();while(p.has(R,Z));return R[Z]=!0,Z}function ce(Z,Q){if(!r.call(Z,V)){if(!Q)return;Object.defineProperty(Z,V,{value:p.create()})}return Z[V]}function ut(Z,Q){for(var te=0;te<Q;++te)Z[te]=Math.random()*255|0;return Z}function mt(Z){if(typeof Uint8Array=="function"){var Q=new Uint8Array(Z);return typeof crypto<"u"?crypto.getRandomValues(Q):typeof msCrypto<"u"?msCrypto.getRandomValues(Q):ut(Q,Z),Q}return ut(new Array(Z),Z)}function Ie(){var Z=mt(F);Z[6]=Z[6]&79|64,Z[8]=Z[8]&191|128;for(var Q="",te=0;te<F;++te){var ie=Z[te];(te===4||te===6||te===8)&&(Q+="-"),ie<16&&(Q+="0"),Q+=ie.toString(16).toLowerCase()}return Q}}function Rn(F){return F.__=void 0,delete F.__,F}})})(ik||(ik={}))});var sk=E((yxe,Xp)=>{"use strict";(function(){"use strict";var t="input is invalid type",e="finalize already called",n=typeof window=="object",r=n?window:{};r.JS_SHA512_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",o=!r.JS_SHA512_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?r=global:i&&(r=self);var a=!r.JS_SHA512_NO_COMMON_JS&&typeof Xp=="object"&&Xp.exports,c=typeof define=="function"&&define.amd,l=!r.JS_SHA512_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),p=[-2147483648,8388608,32768,128],g=[24,16,8,0],y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],_=["hex","array","digest","arrayBuffer"],C=[],O=Array.isArray;(r.JS_SHA512_NO_NODE_JS||!O)&&(O=function(k){return Object.prototype.toString.call(k)==="[object Array]"});var j=ArrayBuffer.isView;l&&(r.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW||!j)&&(j=function(k){return typeof k=="object"&&k.buffer&&k.buffer.constructor===ArrayBuffer});var A=function(k){var se=typeof k;if(se==="string")return[k,!0];if(se!=="object"||k===null)throw new Error(t);if(l&&k.constructor===ArrayBuffer)return[new Uint8Array(k),!1];if(!O(k)&&!j(k))throw new Error(t);return[k,!1]},J=function(k,se){return function(me){return new ne(se,!0).update(me)[k]()}},be=function(k){var se=J("hex",k);se.create=function(){return new ne(k)},se.update=function(Qe){return se.create().update(Qe)};for(var me=0;me<_.length;++me){var de=_[me];se[de]=J(de,k)}return se},_e=function(k,se){return function(me,de){return new He(me,se,!0).update(de)[k]()}},fe=function(k){var se=_e("hex",k);se.create=function(Qe){return new He(Qe,k)},se.update=function(Qe,ue){return se.create(Qe).update(ue)};for(var me=0;me<_.length;++me){var de=_[me];se[de]=_e(de,k)}return se};function ne(k,se){se?(C[0]=C[1]=C[2]=C[3]=C[4]=C[5]=C[6]=C[7]=C[8]=C[9]=C[10]=C[11]=C[12]=C[13]=C[14]=C[15]=C[16]=C[17]=C[18]=C[19]=C[20]=C[21]=C[22]=C[23]=C[24]=C[25]=C[26]=C[27]=C[28]=C[29]=C[30]=C[31]=C[32]=0,this.blocks=C):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k==384?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):k==256?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):k==224?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=k,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}ne.prototype.update=function(k){if(this.finalized)throw new Error(e);var se=A(k);k=se[0];for(var me=se[1],de,Qe=0,ue,Ue=k.length,K=this.blocks;Qe<Ue;){if(this.hashed&&(this.hashed=!1,K[0]=this.block,this.block=K[1]=K[2]=K[3]=K[4]=K[5]=K[6]=K[7]=K[8]=K[9]=K[10]=K[11]=K[12]=K[13]=K[14]=K[15]=K[16]=K[17]=K[18]=K[19]=K[20]=K[21]=K[22]=K[23]=K[24]=K[25]=K[26]=K[27]=K[28]=K[29]=K[30]=K[31]=K[32]=0),me)for(ue=this.start;Qe<Ue&&ue<128;++Qe)de=k.charCodeAt(Qe),de<128?K[ue>>>2]|=de<<g[ue++&3]:de<2048?(K[ue>>>2]|=(192|de>>>6)<<g[ue++&3],K[ue>>>2]|=(128|de&63)<<g[ue++&3]):de<55296||de>=57344?(K[ue>>>2]|=(224|de>>>12)<<g[ue++&3],K[ue>>>2]|=(128|de>>>6&63)<<g[ue++&3],K[ue>>>2]|=(128|de&63)<<g[ue++&3]):(de=65536+((de&1023)<<10|k.charCodeAt(++Qe)&1023),K[ue>>>2]|=(240|de>>>18)<<g[ue++&3],K[ue>>>2]|=(128|de>>>12&63)<<g[ue++&3],K[ue>>>2]|=(128|de>>>6&63)<<g[ue++&3],K[ue>>>2]|=(128|de&63)<<g[ue++&3]);else for(ue=this.start;Qe<Ue&&ue<128;++Qe)K[ue>>>2]|=k[Qe]<<g[ue++&3];this.lastByteIndex=ue,this.bytes+=ue-this.start,ue>=128?(this.block=K[32],this.start=ue-128,this.hash(),this.hashed=!0):this.start=ue}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},ne.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var k=this.blocks,se=this.lastByteIndex;k[32]=this.block,k[se>>>2]|=p[se&3],this.block=k[32],se>=112&&(this.hashed||this.hash(),k[0]=this.block,k[1]=k[2]=k[3]=k[4]=k[5]=k[6]=k[7]=k[8]=k[9]=k[10]=k[11]=k[12]=k[13]=k[14]=k[15]=k[16]=k[17]=k[18]=k[19]=k[20]=k[21]=k[22]=k[23]=k[24]=k[25]=k[26]=k[27]=k[28]=k[29]=k[30]=k[31]=k[32]=0),k[30]=this.hBytes<<3|this.bytes>>>29,k[31]=this.bytes<<3,this.hash()}},ne.prototype.hash=function(){var k=this.h0h,se=this.h0l,me=this.h1h,de=this.h1l,Qe=this.h2h,ue=this.h2l,Ue=this.h3h,K=this.h3l,Je=this.h4h,Lt=this.h4l,_t=this.h5h,Gt=this.h5l,un=this.h6h,he=this.h6l,Nt=this.h7h,cn=this.h7l,Ne=this.blocks,Re,pn,An,wn,Rt,ee,W,X,Fe,Qn,fo,Zo,si,Hn,ai,Br,Yo,Nn,or,Ee,we,Tt,Mt,zn,Rn;for(Re=32;Re<160;Re+=2)Ee=Ne[Re-30],we=Ne[Re-29],pn=(Ee>>>1|we<<31)^(Ee>>>8|we<<24)^Ee>>>7,An=(we>>>1|Ee<<31)^(we>>>8|Ee<<24)^(we>>>7|Ee<<25),Ee=Ne[Re-4],we=Ne[Re-3],wn=(Ee>>>19|we<<13)^(we>>>29|Ee<<3)^Ee>>>6,Rt=(we>>>19|Ee<<13)^(Ee>>>29|we<<3)^(we>>>6|Ee<<26),Ee=Ne[Re-32],we=Ne[Re-31],Tt=Ne[Re-14],Mt=Ne[Re-13],ee=(Mt&65535)+(we&65535)+(An&65535)+(Rt&65535),W=(Mt>>>16)+(we>>>16)+(An>>>16)+(Rt>>>16)+(ee>>>16),X=(Tt&65535)+(Ee&65535)+(pn&65535)+(wn&65535)+(W>>>16),Fe=(Tt>>>16)+(Ee>>>16)+(pn>>>16)+(wn>>>16)+(X>>>16),Ne[Re]=Fe<<16|X&65535,Ne[Re+1]=W<<16|ee&65535;var F=k,R=se,V=me,H=de,ce=Qe,ut=ue,mt=Ue,Ie=K,Z=Je,Q=Lt,te=_t,ie=Gt,Te=un,nt=he,ct=Nt,$t=cn;for(Br=V&ce,Yo=H&ut,Re=0;Re<160;Re+=8)pn=(F>>>28|R<<4)^(R>>>2|F<<30)^(R>>>7|F<<25),An=(R>>>28|F<<4)^(F>>>2|R<<30)^(F>>>7|R<<25),wn=(Z>>>14|Q<<18)^(Z>>>18|Q<<14)^(Q>>>9|Z<<23),Rt=(Q>>>14|Z<<18)^(Q>>>18|Z<<14)^(Z>>>9|Q<<23),Qn=F&V,fo=R&H,Nn=Qn^F&ce^Br,or=fo^R&ut^Yo,zn=Z&te^~Z&Te,Rn=Q&ie^~Q&nt,Ee=Ne[Re],we=Ne[Re+1],Tt=y[Re],Mt=y[Re+1],ee=(Mt&65535)+(we&65535)+(Rn&65535)+(Rt&65535)+($t&65535),W=(Mt>>>16)+(we>>>16)+(Rn>>>16)+(Rt>>>16)+($t>>>16)+(ee>>>16),X=(Tt&65535)+(Ee&65535)+(zn&65535)+(wn&65535)+(ct&65535)+(W>>>16),Fe=(Tt>>>16)+(Ee>>>16)+(zn>>>16)+(wn>>>16)+(ct>>>16)+(X>>>16),Ee=Fe<<16|X&65535,we=W<<16|ee&65535,ee=(or&65535)+(An&65535),W=(or>>>16)+(An>>>16)+(ee>>>16),X=(Nn&65535)+(pn&65535)+(W>>>16),Fe=(Nn>>>16)+(pn>>>16)+(X>>>16),Tt=Fe<<16|X&65535,Mt=W<<16|ee&65535,ee=(Ie&65535)+(we&65535),W=(Ie>>>16)+(we>>>16)+(ee>>>16),X=(mt&65535)+(Ee&65535)+(W>>>16),Fe=(mt>>>16)+(Ee>>>16)+(X>>>16),ct=Fe<<16|X&65535,$t=W<<16|ee&65535,ee=(Mt&65535)+(we&65535),W=(Mt>>>16)+(we>>>16)+(ee>>>16),X=(Tt&65535)+(Ee&65535)+(W>>>16),Fe=(Tt>>>16)+(Ee>>>16)+(X>>>16),mt=Fe<<16|X&65535,Ie=W<<16|ee&65535,pn=(mt>>>28|Ie<<4)^(Ie>>>2|mt<<30)^(Ie>>>7|mt<<25),An=(Ie>>>28|mt<<4)^(mt>>>2|Ie<<30)^(mt>>>7|Ie<<25),wn=(ct>>>14|$t<<18)^(ct>>>18|$t<<14)^($t>>>9|ct<<23),Rt=($t>>>14|ct<<18)^($t>>>18|ct<<14)^(ct>>>9|$t<<23),Zo=mt&F,si=Ie&R,Nn=Zo^mt&V^Qn,or=si^Ie&H^fo,zn=ct&Z^~ct&te,Rn=$t&Q^~$t&ie,Ee=Ne[Re+2],we=Ne[Re+3],Tt=y[Re+2],Mt=y[Re+3],ee=(Mt&65535)+(we&65535)+(Rn&65535)+(Rt&65535)+(nt&65535),W=(Mt>>>16)+(we>>>16)+(Rn>>>16)+(Rt>>>16)+(nt>>>16)+(ee>>>16),X=(Tt&65535)+(Ee&65535)+(zn&65535)+(wn&65535)+(Te&65535)+(W>>>16),Fe=(Tt>>>16)+(Ee>>>16)+(zn>>>16)+(wn>>>16)+(Te>>>16)+(X>>>16),Ee=Fe<<16|X&65535,we=W<<16|ee&65535,ee=(or&65535)+(An&65535),W=(or>>>16)+(An>>>16)+(ee>>>16),X=(Nn&65535)+(pn&65535)+(W>>>16),Fe=(Nn>>>16)+(pn>>>16)+(X>>>16),Tt=Fe<<16|X&65535,Mt=W<<16|ee&65535,ee=(ut&65535)+(we&65535),W=(ut>>>16)+(we>>>16)+(ee>>>16),X=(ce&65535)+(Ee&65535)+(W>>>16),Fe=(ce>>>16)+(Ee>>>16)+(X>>>16),Te=Fe<<16|X&65535,nt=W<<16|ee&65535,ee=(Mt&65535)+(we&65535),W=(Mt>>>16)+(we>>>16)+(ee>>>16),X=(Tt&65535)+(Ee&65535)+(W>>>16),Fe=(Tt>>>16)+(Ee>>>16)+(X>>>16),ce=Fe<<16|X&65535,ut=W<<16|ee&65535,pn=(ce>>>28|ut<<4)^(ut>>>2|ce<<30)^(ut>>>7|ce<<25),An=(ut>>>28|ce<<4)^(ce>>>2|ut<<30)^(ce>>>7|ut<<25),wn=(Te>>>14|nt<<18)^(Te>>>18|nt<<14)^(nt>>>9|Te<<23),Rt=(nt>>>14|Te<<18)^(nt>>>18|Te<<14)^(Te>>>9|nt<<23),Hn=ce&mt,ai=ut&Ie,Nn=Hn^ce&F^Zo,or=ai^ut&R^si,zn=Te&ct^~Te&Z,Rn=nt&$t^~nt&Q,Ee=Ne[Re+4],we=Ne[Re+5],Tt=y[Re+4],Mt=y[Re+5],ee=(Mt&65535)+(we&65535)+(Rn&65535)+(Rt&65535)+(ie&65535),W=(Mt>>>16)+(we>>>16)+(Rn>>>16)+(Rt>>>16)+(ie>>>16)+(ee>>>16),X=(Tt&65535)+(Ee&65535)+(zn&65535)+(wn&65535)+(te&65535)+(W>>>16),Fe=(Tt>>>16)+(Ee>>>16)+(zn>>>16)+(wn>>>16)+(te>>>16)+(X>>>16),Ee=Fe<<16|X&65535,we=W<<16|ee&65535,ee=(or&65535)+(An&65535),W=(or>>>16)+(An>>>16)+(ee>>>16),X=(Nn&65535)+(pn&65535)+(W>>>16),Fe=(Nn>>>16)+(pn>>>16)+(X>>>16),Tt=Fe<<16|X&65535,Mt=W<<16|ee&65535,ee=(H&65535)+(we&65535),W=(H>>>16)+(we>>>16)+(ee>>>16),X=(V&65535)+(Ee&65535)+(W>>>16),Fe=(V>>>16)+(Ee>>>16)+(X>>>16),te=Fe<<16|X&65535,ie=W<<16|ee&65535,ee=(Mt&65535)+(we&65535),W=(Mt>>>16)+(we>>>16)+(ee>>>16),X=(Tt&65535)+(Ee&65535)+(W>>>16),Fe=(Tt>>>16)+(Ee>>>16)+(X>>>16),V=Fe<<16|X&65535,H=W<<16|ee&65535,pn=(V>>>28|H<<4)^(H>>>2|V<<30)^(H>>>7|V<<25),An=(H>>>28|V<<4)^(V>>>2|H<<30)^(V>>>7|H<<25),wn=(te>>>14|ie<<18)^(te>>>18|ie<<14)^(ie>>>9|te<<23),Rt=(ie>>>14|te<<18)^(ie>>>18|te<<14)^(te>>>9|ie<<23),Br=V&ce,Yo=H&ut,Nn=Br^V&mt^Hn,or=Yo^H&Ie^ai,zn=te&Te^~te&ct,Rn=ie&nt^~ie&$t,Ee=Ne[Re+6],we=Ne[Re+7],Tt=y[Re+6],Mt=y[Re+7],ee=(Mt&65535)+(we&65535)+(Rn&65535)+(Rt&65535)+(Q&65535),W=(Mt>>>16)+(we>>>16)+(Rn>>>16)+(Rt>>>16)+(Q>>>16)+(ee>>>16),X=(Tt&65535)+(Ee&65535)+(zn&65535)+(wn&65535)+(Z&65535)+(W>>>16),Fe=(Tt>>>16)+(Ee>>>16)+(zn>>>16)+(wn>>>16)+(Z>>>16)+(X>>>16),Ee=Fe<<16|X&65535,we=W<<16|ee&65535,ee=(or&65535)+(An&65535),W=(or>>>16)+(An>>>16)+(ee>>>16),X=(Nn&65535)+(pn&65535)+(W>>>16),Fe=(Nn>>>16)+(pn>>>16)+(X>>>16),Tt=Fe<<16|X&65535,Mt=W<<16|ee&65535,ee=(R&65535)+(we&65535),W=(R>>>16)+(we>>>16)+(ee>>>16),X=(F&65535)+(Ee&65535)+(W>>>16),Fe=(F>>>16)+(Ee>>>16)+(X>>>16),Z=Fe<<16|X&65535,Q=W<<16|ee&65535,ee=(Mt&65535)+(we&65535),W=(Mt>>>16)+(we>>>16)+(ee>>>16),X=(Tt&65535)+(Ee&65535)+(W>>>16),Fe=(Tt>>>16)+(Ee>>>16)+(X>>>16),F=Fe<<16|X&65535,R=W<<16|ee&65535;ee=(se&65535)+(R&65535),W=(se>>>16)+(R>>>16)+(ee>>>16),X=(k&65535)+(F&65535)+(W>>>16),Fe=(k>>>16)+(F>>>16)+(X>>>16),this.h0h=Fe<<16|X&65535,this.h0l=W<<16|ee&65535,ee=(de&65535)+(H&65535),W=(de>>>16)+(H>>>16)+(ee>>>16),X=(me&65535)+(V&65535)+(W>>>16),Fe=(me>>>16)+(V>>>16)+(X>>>16),this.h1h=Fe<<16|X&65535,this.h1l=W<<16|ee&65535,ee=(ue&65535)+(ut&65535),W=(ue>>>16)+(ut>>>16)+(ee>>>16),X=(Qe&65535)+(ce&65535)+(W>>>16),Fe=(Qe>>>16)+(ce>>>16)+(X>>>16),this.h2h=Fe<<16|X&65535,this.h2l=W<<16|ee&65535,ee=(K&65535)+(Ie&65535),W=(K>>>16)+(Ie>>>16)+(ee>>>16),X=(Ue&65535)+(mt&65535)+(W>>>16),Fe=(Ue>>>16)+(mt>>>16)+(X>>>16),this.h3h=Fe<<16|X&65535,this.h3l=W<<16|ee&65535,ee=(Lt&65535)+(Q&65535),W=(Lt>>>16)+(Q>>>16)+(ee>>>16),X=(Je&65535)+(Z&65535)+(W>>>16),Fe=(Je>>>16)+(Z>>>16)+(X>>>16),this.h4h=Fe<<16|X&65535,this.h4l=W<<16|ee&65535,ee=(Gt&65535)+(ie&65535),W=(Gt>>>16)+(ie>>>16)+(ee>>>16),X=(_t&65535)+(te&65535)+(W>>>16),Fe=(_t>>>16)+(te>>>16)+(X>>>16),this.h5h=Fe<<16|X&65535,this.h5l=W<<16|ee&65535,ee=(he&65535)+(nt&65535),W=(he>>>16)+(nt>>>16)+(ee>>>16),X=(un&65535)+(Te&65535)+(W>>>16),Fe=(un>>>16)+(Te>>>16)+(X>>>16),this.h6h=Fe<<16|X&65535,this.h6l=W<<16|ee&65535,ee=(cn&65535)+($t&65535),W=(cn>>>16)+($t>>>16)+(ee>>>16),X=(Nt&65535)+(ct&65535)+(W>>>16),Fe=(Nt>>>16)+(ct>>>16)+(X>>>16),this.h7h=Fe<<16|X&65535,this.h7l=W<<16|ee&65535},ne.prototype.hex=function(){this.finalize();var k=this.h0h,se=this.h0l,me=this.h1h,de=this.h1l,Qe=this.h2h,ue=this.h2l,Ue=this.h3h,K=this.h3l,Je=this.h4h,Lt=this.h4l,_t=this.h5h,Gt=this.h5l,un=this.h6h,he=this.h6l,Nt=this.h7h,cn=this.h7l,Ne=this.bits,Re=d[k>>>28&15]+d[k>>>24&15]+d[k>>>20&15]+d[k>>>16&15]+d[k>>>12&15]+d[k>>>8&15]+d[k>>>4&15]+d[k&15]+d[se>>>28&15]+d[se>>>24&15]+d[se>>>20&15]+d[se>>>16&15]+d[se>>>12&15]+d[se>>>8&15]+d[se>>>4&15]+d[se&15]+d[me>>>28&15]+d[me>>>24&15]+d[me>>>20&15]+d[me>>>16&15]+d[me>>>12&15]+d[me>>>8&15]+d[me>>>4&15]+d[me&15]+d[de>>>28&15]+d[de>>>24&15]+d[de>>>20&15]+d[de>>>16&15]+d[de>>>12&15]+d[de>>>8&15]+d[de>>>4&15]+d[de&15]+d[Qe>>>28&15]+d[Qe>>>24&15]+d[Qe>>>20&15]+d[Qe>>>16&15]+d[Qe>>>12&15]+d[Qe>>>8&15]+d[Qe>>>4&15]+d[Qe&15]+d[ue>>>28&15]+d[ue>>>24&15]+d[ue>>>20&15]+d[ue>>>16&15]+d[ue>>>12&15]+d[ue>>>8&15]+d[ue>>>4&15]+d[ue&15]+d[Ue>>>28&15]+d[Ue>>>24&15]+d[Ue>>>20&15]+d[Ue>>>16&15]+d[Ue>>>12&15]+d[Ue>>>8&15]+d[Ue>>>4&15]+d[Ue&15];return Ne>=256&&(Re+=d[K>>>28&15]+d[K>>>24&15]+d[K>>>20&15]+d[K>>>16&15]+d[K>>>12&15]+d[K>>>8&15]+d[K>>>4&15]+d[K&15]),Ne>=384&&(Re+=d[Je>>>28&15]+d[Je>>>24&15]+d[Je>>>20&15]+d[Je>>>16&15]+d[Je>>>12&15]+d[Je>>>8&15]+d[Je>>>4&15]+d[Je&15]+d[Lt>>>28&15]+d[Lt>>>24&15]+d[Lt>>>20&15]+d[Lt>>>16&15]+d[Lt>>>12&15]+d[Lt>>>8&15]+d[Lt>>>4&15]+d[Lt&15]+d[_t>>>28&15]+d[_t>>>24&15]+d[_t>>>20&15]+d[_t>>>16&15]+d[_t>>>12&15]+d[_t>>>8&15]+d[_t>>>4&15]+d[_t&15]+d[Gt>>>28&15]+d[Gt>>>24&15]+d[Gt>>>20&15]+d[Gt>>>16&15]+d[Gt>>>12&15]+d[Gt>>>8&15]+d[Gt>>>4&15]+d[Gt&15]),Ne==512&&(Re+=d[un>>>28&15]+d[un>>>24&15]+d[un>>>20&15]+d[un>>>16&15]+d[un>>>12&15]+d[un>>>8&15]+d[un>>>4&15]+d[un&15]+d[he>>>28&15]+d[he>>>24&15]+d[he>>>20&15]+d[he>>>16&15]+d[he>>>12&15]+d[he>>>8&15]+d[he>>>4&15]+d[he&15]+d[Nt>>>28&15]+d[Nt>>>24&15]+d[Nt>>>20&15]+d[Nt>>>16&15]+d[Nt>>>12&15]+d[Nt>>>8&15]+d[Nt>>>4&15]+d[Nt&15]+d[cn>>>28&15]+d[cn>>>24&15]+d[cn>>>20&15]+d[cn>>>16&15]+d[cn>>>12&15]+d[cn>>>8&15]+d[cn>>>4&15]+d[cn&15]),Re},ne.prototype.toString=ne.prototype.hex,ne.prototype.digest=function(){this.finalize();var k=this.h0h,se=this.h0l,me=this.h1h,de=this.h1l,Qe=this.h2h,ue=this.h2l,Ue=this.h3h,K=this.h3l,Je=this.h4h,Lt=this.h4l,_t=this.h5h,Gt=this.h5l,un=this.h6h,he=this.h6l,Nt=this.h7h,cn=this.h7l,Ne=this.bits,Re=[k>>>24&255,k>>>16&255,k>>>8&255,k&255,se>>>24&255,se>>>16&255,se>>>8&255,se&255,me>>>24&255,me>>>16&255,me>>>8&255,me&255,de>>>24&255,de>>>16&255,de>>>8&255,de&255,Qe>>>24&255,Qe>>>16&255,Qe>>>8&255,Qe&255,ue>>>24&255,ue>>>16&255,ue>>>8&255,ue&255,Ue>>>24&255,Ue>>>16&255,Ue>>>8&255,Ue&255];return Ne>=256&&Re.push(K>>>24&255,K>>>16&255,K>>>8&255,K&255),Ne>=384&&Re.push(Je>>>24&255,Je>>>16&255,Je>>>8&255,Je&255,Lt>>>24&255,Lt>>>16&255,Lt>>>8&255,Lt&255,_t>>>24&255,_t>>>16&255,_t>>>8&255,_t&255,Gt>>>24&255,Gt>>>16&255,Gt>>>8&255,Gt&255),Ne==512&&Re.push(un>>>24&255,un>>>16&255,un>>>8&255,un&255,he>>>24&255,he>>>16&255,he>>>8&255,he&255,Nt>>>24&255,Nt>>>16&255,Nt>>>8&255,Nt&255,cn>>>24&255,cn>>>16&255,cn>>>8&255,cn&255),Re},ne.prototype.array=ne.prototype.digest,ne.prototype.arrayBuffer=function(){this.finalize();var k=this.bits,se=new ArrayBuffer(k/8),me=new DataView(se);return me.setUint32(0,this.h0h),me.setUint32(4,this.h0l),me.setUint32(8,this.h1h),me.setUint32(12,this.h1l),me.setUint32(16,this.h2h),me.setUint32(20,this.h2l),me.setUint32(24,this.h3h),k>=256&&me.setUint32(28,this.h3l),k>=384&&(me.setUint32(32,this.h4h),me.setUint32(36,this.h4l),me.setUint32(40,this.h5h),me.setUint32(44,this.h5l)),k==512&&(me.setUint32(48,this.h6h),me.setUint32(52,this.h6l),me.setUint32(56,this.h7h),me.setUint32(60,this.h7l)),se},ne.prototype.clone=function(){var k=new ne(this.bits,!1);return this.copyTo(k),k},ne.prototype.copyTo=function(k){var se=0,me=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(se=0;se<me.length;++se)k[me[se]]=this[me[se]];for(se=0;se<this.blocks.length;++se)k.blocks[se]=this.blocks[se]};function He(k,se,me){var de,Qe=A(k);if(k=Qe[0],Qe[1]){for(var ue=[],Ue=k.length,K=0,Je,de=0;de<Ue;++de)Je=k.charCodeAt(de),Je<128?ue[K++]=Je:Je<2048?(ue[K++]=192|Je>>>6,ue[K++]=128|Je&63):Je<55296||Je>=57344?(ue[K++]=224|Je>>>12,ue[K++]=128|Je>>>6&63,ue[K++]=128|Je&63):(Je=65536+((Je&1023)<<10|k.charCodeAt(++de)&1023),ue[K++]=240|Je>>>18,ue[K++]=128|Je>>>12&63,ue[K++]=128|Je>>>6&63,ue[K++]=128|Je&63);k=ue}k.length>128&&(k=new ne(se,!0).update(k).array());for(var Lt=[],_t=[],de=0;de<128;++de){var Gt=k[de]||0;Lt[de]=92^Gt,_t[de]=54^Gt}ne.call(this,se,me),this.update(_t),this.oKeyPad=Lt,this.inner=!0,this.sharedMemory=me}He.prototype=new ne,He.prototype.finalize=function(){if(ne.prototype.finalize.call(this),this.inner){this.inner=!1;var k=this.array();ne.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(k),ne.prototype.finalize.call(this)}},He.prototype.clone=function(){var k=new He([],this.bits,!1);this.copyTo(k),k.inner=this.inner;for(var se=0;se<this.oKeyPad.length;++se)k.oKeyPad[se]=this.oKeyPad[se];return k};var bt=be(512);bt.sha512=bt,bt.sha384=be(384),bt.sha512_256=be(256),bt.sha512_224=be(224),bt.sha512.hmac=fe(512),bt.sha384.hmac=fe(384),bt.sha512_256.hmac=fe(256),bt.sha512_224.hmac=fe(224),a?Xp.exports=bt:(r.sha512=bt.sha512,r.sha384=bt.sha384,r.sha512_256=bt.sha512_256,r.sha512_224=bt.sha512_224,c&&define(function(){return bt}))})()});function _D(t,e){return Object.is(t,e)}var Un=null,jc=!1,uf=1,bo=Symbol("SIGNAL");function yt(t){let e=Un;return Un=t,e}function wD(){return Un}function k4(){return jc}var tu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function av(t){if(jc)throw new Error("");if(Un===null)return;Un.consumerOnSignalRead(t);let e=Un.nextProducerIndex++;if(pf(Un),e<Un.producerNode.length&&Un.producerNode[e]!==t&&Vc(Un)){let n=Un.producerNode[e];hf(n,Un.producerIndexOfThis[e])}Un.producerNode[e]!==t&&(Un.producerNode[e]=t,Un.producerIndexOfThis[e]=Vc(Un)?ED(t,Un,e):0),Un.producerLastReadVersion[e]=t.version}function L4(){uf++}function CD(t){if(!(Vc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===uf)){if(!t.producerMustRecompute(t)&&!df(t)){t.dirty=!1,t.lastCleanEpoch=uf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=uf}}function bD(t){if(t.liveConsumerNode===void 0)return;let e=jc;jc=!0;try{for(let n of t.liveConsumerNode)n.dirty||DD(n)}finally{jc=e}}function xD(){return Un?.consumerAllowSignalWrites!==!1}function DD(t){t.dirty=!0,bD(t),t.consumerMarkedDirty?.(t)}function Bc(t){return t&&(t.nextProducerIndex=0),yt(t)}function lf(t,e){if(yt(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Vc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)hf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function df(t){pf(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(CD(n),r!==n.version))return!0}return!1}function ff(t){if(pf(t),Vc(t))for(let e=0;e<t.producerNode.length;e++)hf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ED(t,e,n){if(ID(t),t.liveConsumerNode.length===0&&SD(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=ED(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function hf(t,e){if(ID(t),t.liveConsumerNode.length===1&&SD(t))for(let r=0;r<t.producerNode.length;r++)hf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];pf(i),i.producerIndexOfThis[r]=e}}function Vc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function pf(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ID(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function SD(t){return t.producerNode!==void 0}function FD(t){let e=Object.create(j4);e.computation=t;let n=()=>{if(CD(e),av(e),e.value===cf)throw e.error;return e.value};return n[bo]=e,n}var iv=Symbol("UNSET"),ov=Symbol("COMPUTING"),cf=Symbol("ERRORED"),j4=ve(q({},tu),{value:iv,dirty:!0,error:null,equal:_D,producerMustRecompute(t){return t.value===iv||t.value===ov},producerRecomputeValue(t){if(t.value===ov)throw new Error("Detected cycle in computations.");let e=t.value;t.value=ov;let n=Bc(t),r;try{r=t.computation()}catch(i){r=cf,t.error=i}finally{lf(t,n)}if(e!==iv&&e!==cf&&r!==cf&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function V4(){throw new Error}var TD=V4;function MD(){TD()}function AD(t){TD=t}var B4=null;function ND(t){let e=Object.create(OD);e.value=t;let n=()=>(av(e),e.value);return n[bo]=e,n}function uv(t,e){xD()||MD(),t.equal(t.value,e)||(t.value=e,$4(t))}function RD(t,e){xD()||MD(),uv(t,e(t.value))}var OD=ve(q({},tu),{equal:_D,value:void 0});function $4(t){t.version++,L4(),bD(t),B4?.()}function PD(t,e,n){let r=Object.create(U4);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=l=>{r.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function a(l){o(l)||(ff(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=sv)}let c=()=>{if(r.fn===null)return;if(k4())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!df(r))return;r.hasRun=!0;let l=Bc(r);try{r.cleanupFn(),r.cleanupFn=sv,r.fn(i)}finally{lf(r,l)}};return r.ref={notify:()=>DD(r),run:c,cleanup:()=>r.cleanupFn(),destroy:()=>a(r),[bo]:r},r.ref}var sv=()=>{},U4=ve(q({},tu),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:sv});function it(t){return typeof t=="function"}function nu(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var gf=nu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function $c(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var On=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(it(r))try{r()}catch(o){e=o instanceof gf?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{kD(o)}catch(a){e=e??[],a instanceof gf?e=[...e,...a.errors]:e.push(a)}}if(e)throw new gf(e)}}add(e){var n;if(e&&e!==this)if(this.closed)kD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$c(n,e)}remove(e){let{_finalizers:n}=this;n&&$c(n,e),e instanceof t&&e._removeParent(this)}};On.EMPTY=(()=>{let t=new On;return t.closed=!0,t})();var cv=On.EMPTY;function mf(t){return t instanceof On||t&&"closed"in t&&it(t.remove)&&it(t.add)&&it(t.unsubscribe)}function kD(t){it(t)?t():t.unsubscribe()}var Ni={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ru={setTimeout(t,e,...n){let{delegate:r}=ru;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ru;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function vf(t){ru.setTimeout(()=>{let{onUnhandledError:e}=Ni;if(e)e(t);else throw t})}function Uc(){}var LD=lv("C",void 0,void 0);function jD(t){return lv("E",void 0,t)}function VD(t){return lv("N",t,void 0)}function lv(t,e,n){return{kind:t,value:e,error:n}}var Ks=null;function iu(t){if(Ni.useDeprecatedSynchronousErrorHandling){let e=!Ks;if(e&&(Ks={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ks;if(Ks=null,n)throw r}}else t()}function BD(t){Ni.useDeprecatedSynchronousErrorHandling&&Ks&&(Ks.errorThrown=!0,Ks.error=t)}var Zs=class extends On{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,mf(e)&&e.add(this)):this.destination=z4}static create(e,n,r){return new ou(e,n,r)}next(e){this.isStopped?fv(VD(e),this):this._next(e)}error(e){this.isStopped?fv(jD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fv(LD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},q4=Function.prototype.bind;function dv(t,e){return q4.call(t,e)}var hv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){yf(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){yf(r)}else yf(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){yf(n)}}},ou=class extends Zs{constructor(e,n,r){super();let i;if(it(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ni.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&dv(e.next,o),error:e.error&&dv(e.error,o),complete:e.complete&&dv(e.complete,o)}):i=e}this.destination=new hv(i)}};function yf(t){Ni.useDeprecatedSynchronousErrorHandling?BD(t):vf(t)}function H4(t){throw t}function fv(t,e){let{onStoppedNotification:n}=Ni;n&&ru.setTimeout(()=>n(t,e))}var z4={closed:!0,next:Uc,error:H4,complete:Uc};var su=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Wr(t){return t}function pv(...t){return gv(t)}function gv(t){return t.length===0?Wr:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var St=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=W4(n)?n:new ou(n,r,i);return iu(()=>{let{operator:a,source:c}=this;o.add(a?a.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=$D(r),new r((i,o)=>{let a=new ou({next:c=>{try{n(c)}catch(l){o(l),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[su](){return this}pipe(...n){return gv(n)(this)}toPromise(n){return n=$D(n),new n((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return t.create=e=>new t(e),t})();function $D(t){var e;return(e=t??Ni.Promise)!==null&&e!==void 0?e:Promise}function G4(t){return t&&it(t.next)&&it(t.error)&&it(t.complete)}function W4(t){return t&&t instanceof Zs||G4(t)&&mf(t)}function mv(t){return it(t?.lift)}function Ft(t){return e=>{if(mv(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ct(t,e,n,r,i){return new vv(t,e,n,r,i)}var vv=class extends Zs{constructor(e,n,r,i,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(c){try{n(c)}catch(l){e.error(l)}}:super._next,this._error=i?function(c){try{i(c)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function au(){return Ft((t,e)=>{let n=null;t._refCount++;let r=Ct(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var uu=class extends St{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,mv(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new On;let n=this.getSubject();e.add(this.source.subscribe(Ct(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=On.EMPTY)}return e}refCount(){return au()(this)}};var UD=nu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Kn=(()=>{class t extends St{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new _f(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new UD}next(n){iu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){iu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){iu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?cv:(this.currentObservers=null,o.push(n),new On(()=>{this.currentObservers=null,$c(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new St;return n.source=this,n}}return t.create=(e,n)=>new _f(e,n),t})(),_f=class extends Kn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:cv}};var Xn=class extends Kn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Kr=new St(t=>t.complete());function qD(t){return t&&it(t.schedule)}function HD(t){return t[t.length-1]}function wf(t){return it(HD(t))?t.pop():void 0}function as(t){return qD(HD(t))?t.pop():void 0}function GD(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(p){try{d(r.next(p))}catch(g){a(g)}}function l(p){try{d(r.throw(p))}catch(g){a(g)}}function d(p){p.done?o(p.value):i(p.value).then(c,l)}d((r=r.apply(t,e||[])).next())})}function zD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ys(t){return this instanceof Ys?(this.v=t,this):new Ys(t)}function WD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},c("next"),c("throw"),c("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(_){return function(C){return Promise.resolve(C).then(_,g)}}function c(_,C){r[_]&&(i[_]=function(O){return new Promise(function(j,A){o.push([_,O,j,A])>1||l(_,O)})},C&&(i[_]=C(i[_])))}function l(_,C){try{d(r[_](C))}catch(O){y(o[0][3],O)}}function d(_){_.value instanceof Ys?Promise.resolve(_.value.v).then(p,g):y(o[0][2],_)}function p(_){l("next",_)}function g(_){l("throw",_)}function y(_,C){_(C),o.shift(),o.length&&l(o[0][0],o[0][1])}}function KD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof zD=="function"?zD(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(c,l){a=t[o](a),i(c,l,a.done,a.value)})}}function i(o,a,c,l){Promise.resolve(l).then(function(d){o({value:d,done:c})},a)}}var Cf=t=>t&&typeof t.length=="number"&&typeof t!="function";function bf(t){return it(t?.then)}function xf(t){return it(t[su])}function Df(t){return Symbol.asyncIterator&&it(t?.[Symbol.asyncIterator])}function Ef(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function K4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var If=K4();function Sf(t){return it(t?.[If])}function Ff(t){return WD(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ys(n.read());if(i)return yield Ys(void 0);yield yield Ys(r)}}finally{n.releaseLock()}})}function Tf(t){return it(t?.getReader)}function Pn(t){if(t instanceof St)return t;if(t!=null){if(xf(t))return Z4(t);if(Cf(t))return Y4(t);if(bf(t))return Q4(t);if(Df(t))return ZD(t);if(Sf(t))return J4(t);if(Tf(t))return X4(t)}throw Ef(t)}function Z4(t){return new St(e=>{let n=t[su]();if(it(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Y4(t){return new St(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Q4(t){return new St(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,vf)})}function J4(t){return new St(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function ZD(t){return new St(e=>{e8(t,e).catch(n=>e.error(n))})}function X4(t){return ZD(Ff(t))}function e8(t,e){var n,r,i,o;return GD(this,void 0,void 0,function*(){try{for(n=KD(t);r=yield n.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Tr(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Mf(t,e=0){return Ft((n,r)=>{n.subscribe(Ct(r,i=>Tr(r,t,()=>r.next(i),e),()=>Tr(r,t,()=>r.complete(),e),i=>Tr(r,t,()=>r.error(i),e)))})}function Af(t,e=0){return Ft((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function YD(t,e){return Pn(t).pipe(Af(e),Mf(e))}function QD(t,e){return Pn(t).pipe(Af(e),Mf(e))}function JD(t,e){return new St(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function XD(t,e){return new St(n=>{let r;return Tr(n,e,()=>{r=t[If](),Tr(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){n.error(a);return}o?n.complete():n.next(i)},0,!0)}),()=>it(r?.return)&&r.return()})}function Nf(t,e){if(!t)throw new Error("Iterable cannot be null");return new St(n=>{Tr(n,e,()=>{let r=t[Symbol.asyncIterator]();Tr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function eE(t,e){return Nf(Ff(t),e)}function tE(t,e){if(t!=null){if(xf(t))return YD(t,e);if(Cf(t))return JD(t,e);if(bf(t))return QD(t,e);if(Df(t))return Nf(t,e);if(Sf(t))return XD(t,e);if(Tf(t))return eE(t,e)}throw Ef(t)}function mn(t,e){return e?tE(t,e):Pn(t)}function ke(...t){let e=as(t);return mn(t,e)}function vn(t,e){let n=it(t)?t:()=>t,r=i=>i.error(n());return new St(e?i=>e.schedule(r,0,i):r)}function yv(t){return!!t&&(t instanceof St||it(t.lift)&&it(t.subscribe))}var xo=nu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function qe(t,e){return Ft((n,r)=>{let i=0;n.subscribe(Ct(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:t8}=Array;function n8(t,e){return t8(e)?t(...e):t(e)}function Rf(t){return qe(e=>n8(t,e))}var{isArray:r8}=Array,{getPrototypeOf:i8,prototype:o8,keys:s8}=Object;function Of(t){if(t.length===1){let e=t[0];if(r8(e))return{args:e,keys:null};if(a8(e)){let n=s8(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function a8(t){return t&&typeof t=="object"&&i8(t)===o8}function Pf(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function kf(...t){let e=as(t),n=wf(t),{args:r,keys:i}=Of(t);if(r.length===0)return mn([],e);let o=new St(u8(r,e,i?a=>Pf(i,a):Wr));return n?o.pipe(Rf(n)):o}function u8(t,e,n=Wr){return r=>{nE(e,()=>{let{length:i}=t,o=new Array(i),a=i,c=i;for(let l=0;l<i;l++)nE(e,()=>{let d=mn(t[l],e),p=!1;d.subscribe(Ct(r,g=>{o[l]=g,p||(p=!0,c--),c||r.next(n(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}function nE(t,e,n){t?Tr(n,t,e):e()}function rE(t,e,n,r,i,o,a,c){let l=[],d=0,p=0,g=!1,y=()=>{g&&!l.length&&!d&&e.complete()},_=O=>d<r?C(O):l.push(O),C=O=>{o&&e.next(O),d++;let j=!1;Pn(n(O,p++)).subscribe(Ct(e,A=>{i?.(A),o?_(A):e.next(A)},()=>{j=!0},void 0,()=>{if(j)try{for(d--;l.length&&d<r;){let A=l.shift();a?Tr(e,a,()=>C(A)):C(A)}y()}catch(A){e.error(A)}}))};return t.subscribe(Ct(e,_,()=>{g=!0,y()})),()=>{c?.()}}function qn(t,e,n=1/0){return it(e)?qn((r,i)=>qe((o,a)=>e(r,o,i,a))(Pn(t(r,i))),n):(typeof e=="number"&&(n=e),Ft((r,i)=>rE(r,i,t,n)))}function _v(t=1/0){return qn(Wr,t)}function iE(){return _v(1)}function cu(...t){return iE()(mn(t,as(t)))}function Lf(t){return new St(e=>{Pn(t()).subscribe(e)})}function qc(...t){let e=wf(t),{args:n,keys:r}=Of(t),i=new St(o=>{let{length:a}=n;if(!a){o.complete();return}let c=new Array(a),l=a,d=a;for(let p=0;p<a;p++){let g=!1;Pn(n[p]).subscribe(Ct(o,y=>{g||(g=!0,d--),c[p]=y},()=>l--,void 0,()=>{(!l||!g)&&(d||o.next(r?Pf(r,c):c),o.complete())}))}});return e?i.pipe(Rf(e)):i}function Zr(t,e){return Ft((n,r)=>{let i=0;n.subscribe(Ct(r,o=>t.call(e,o,i++)&&r.next(o)))})}function qt(t){return Ft((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Ct(n,void 0,void 0,a=>{o=Pn(t(a,qt(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function oE(t,e,n,r,i){return(o,a)=>{let c=n,l=e,d=0;o.subscribe(Ct(a,p=>{let g=d++;l=c?t(l,p,g):(c=!0,p),r&&a.next(l)},i&&(()=>{c&&a.next(l),a.complete()})))}}function us(t,e){return it(e)?qn(t,e,1):qn(t,1)}function cs(t){return Ft((e,n)=>{let r=!1;e.subscribe(Ct(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function mi(t){return t<=0?()=>Kr:Ft((e,n)=>{let r=0;e.subscribe(Ct(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function wv(t){return qe(()=>t)}function jf(t=c8){return Ft((e,n)=>{let r=!1;e.subscribe(Ct(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function c8(){return new xo}function vi(t){return Ft((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Zi(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Zr((i,o)=>t(i,o,r)):Wr,mi(1),n?cs(e):jf(()=>new xo))}function lu(t){return t<=0?()=>Kr:Ft((e,n)=>{let r=[];e.subscribe(Ct(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Cv(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Zr((i,o)=>t(i,o,r)):Wr,lu(1),n?cs(e):jf(()=>new xo))}function bv(t,e){return Ft(oE(t,e,arguments.length>=2,!0))}function Qs(...t){let e=as(t);return Ft((n,r)=>{(e?cu(t,n,e):cu(t,n)).subscribe(r)})}function Yr(t,e){return Ft((n,r)=>{let i=null,o=0,a=!1,c=()=>a&&!i&&r.complete();n.subscribe(Ct(r,l=>{i?.unsubscribe();let d=0,p=o++;Pn(t(l,p)).subscribe(i=Ct(r,g=>r.next(e?e(l,g,p,d++):g),()=>{i=null,c()}))},()=>{a=!0,c()}))})}function xv(t){return Ft((e,n)=>{Pn(t).subscribe(Ct(n,()=>n.complete(),Uc)),!n.closed&&e.subscribe(n)})}function dt(t,e,n){let r=it(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ft((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let c=!0;i.subscribe(Ct(o,l=>{var d;(d=r.next)===null||d===void 0||d.call(r,l),o.next(l)},()=>{var l;c=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var d;c=!1,(d=r.error)===null||d===void 0||d.call(r,l),o.error(l)},()=>{var l,d;c&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Wr}var zE="https://g.co/ng/security#xss",xe=class extends Error{constructor(e,n){super(bh(e,n)),this.code=e}};function bh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function nl(t){return{toString:t}.toString()}var Vf="__parameters__";function l8(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function GE(t,e,n){return nl(()=>{let r=l8(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let a=new i(...o);return c.annotation=a,c;function c(l,d,p){let g=l.hasOwnProperty(Vf)?l[Vf]:Object.defineProperty(l,Vf,{value:[]})[Vf];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(a),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ta=globalThis;function Kt(t){for(let e in t)if(t[e]===Kt)return e;throw Error("Could not find renamed property on target object.")}function d8(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ar(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ar).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function sE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var f8=Kt({__forward_ref__:Kt});function Rr(t){return t.__forward_ref__=Rr,t.toString=function(){return Ar(this())},t}function _r(t){return WE(t)?t():t}function WE(t){return typeof t=="function"&&t.hasOwnProperty(f8)&&t.__forward_ref__===Rr}function oe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ms(t){return{providers:t.providers||[],imports:t.imports||[]}}function xh(t){return aE(t,ZE)||aE(t,YE)}function KE(t){return xh(t)!==null}function aE(t,e){return t.hasOwnProperty(e)?t[e]:null}function h8(t){let e=t&&(t[ZE]||t[YE]);return e||null}function uE(t){return t&&(t.hasOwnProperty(cE)||t.hasOwnProperty(p8))?t[cE]:null}var ZE=Kt({\u0275prov:Kt}),cE=Kt({\u0275inj:Kt}),YE=Kt({ngInjectableDef:Kt}),p8=Kt({ngInjectorDef:Kt}),De=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=oe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function QE(t){return t&&!!t.\u0275providers}var g8=Kt({\u0275cmp:Kt}),m8=Kt({\u0275dir:Kt}),v8=Kt({\u0275pipe:Kt}),y8=Kt({\u0275mod:Kt}),Qf=Kt({\u0275fac:Kt}),Gc=Kt({__NG_ELEMENT_ID__:Kt}),lE=Kt({__NG_ENV_ID__:Kt});function mu(t){return typeof t=="string"?t:t==null?"":String(t)}function _8(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():mu(t)}function w8(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new xe(-200,t)}function L0(t,e){throw new xe(-201,!1)}var ht=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ht||{}),jv;function JE(){return jv}function Mr(t){let e=jv;return jv=t,e}function XE(t,e,n){let r=xh(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ht.Optional)return null;if(e!==void 0)return e;L0(t,"Injector")}var C8={},Wc=C8,Vv="__NG_DI_FLAG__",Jf="ngTempTokenPath",b8="ngTokenPath",x8=/\n/gm,D8="\u0275",dE="__source",pu;function E8(){return pu}function ls(t){let e=pu;return pu=t,e}function I8(t,e=ht.Default){if(pu===void 0)throw new xe(-203,!1);return pu===null?XE(t,void 0,e):pu.get(t,e&ht.Optional?null:void 0,e)}function et(t,e=ht.Default){return(JE()||I8)(_r(t),e)}function M(t,e=ht.Default){return et(t,Dh(e))}function Dh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Bv(t){let e=[];for(let n=0;n<t.length;n++){let r=_r(t[n]);if(Array.isArray(r)){if(r.length===0)throw new xe(900,!1);let i,o=ht.Default;for(let a=0;a<r.length;a++){let c=r[a],l=S8(c);typeof l=="number"?l===-1?i=c.token:o|=l:i=c}e.push(et(i,o))}else e.push(et(r))}return e}function eI(t,e){return t[Vv]=e,t.prototype[Vv]=e,t}function S8(t){return t[Vv]}function F8(t,e,n,r){let i=t[Jf];throw e[dE]&&i.unshift(e[dE]),t.message=T8(`
`+t.message,i,n,r),t[b8]=i,t[Jf]=null,t}function T8(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==D8?t.slice(2):t;let i=Ar(e);if(Array.isArray(e))i=e.map(Ar).join(" -> ");else if(typeof e=="object"){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let c=e[a];o.push(a+":"+(typeof c=="string"?JSON.stringify(c):Ar(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(x8,`
  `)}`}var j0=eI(GE("Optional"),8);var tI=eI(GE("SkipSelf"),4);function ra(t,e){let n=t.hasOwnProperty(Qf);return n?t[Qf]:null}function M8(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function A8(t){return t.flat(Number.POSITIVE_INFINITY)}function V0(t,e){t.forEach(n=>Array.isArray(n)?V0(n,e):e(n))}function nI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Xf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function N8(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function R8(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function O8(t,e,n){let r=rl(t,e);return r>=0?t[r|1]=n:(r=~r,R8(t,r,e,n)),r}function Dv(t,e){let n=rl(t,e);if(n>=0)return t[n|1]}function rl(t,e){return P8(t,e,1)}function P8(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),a=t[o<<n];if(e===a)return o<<n;a>e?i=o:r=o+1}return~(i<<n)}var vu={},yi=[],yu=new De(""),rI=new De("",-1),iI=new De(""),eh=class{get(e,n=Wc){if(n===Wc){let r=new Error(`NullInjectorError: No provider for ${Ar(e)}!`);throw r.name="NullInjectorError",r}return n}},oI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(oI||{}),Ji=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ji||{}),hs=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(hs||{});function k8(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function $v(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],a=n[r++],c=n[r++];t.setAttribute(e,a,c,o)}else{let o=i,a=n[++r];L8(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),r++}}return r}function sI(t){return t===3||t===4||t===6}function L8(t){return t.charCodeAt(0)===64}function Kc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?fE(t,n,i,null,e[++r]):fE(t,n,i,null,null))}}return t}function fE(t,e,n,r,i){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){a=-1;break}else if(c>e){a=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var aI="ng-template";function j8(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&k8(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(B0(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function B0(t){return t.type===4&&t.value!==aI}function V8(t,e,n){let r=t.type===4&&!n?aI:t.value;return e===r}function B8(t,e,n){let r=4,i=t.attrs,o=i!==null?q8(i):0,a=!1;for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="number"){if(!a&&!Ri(r)&&!Ri(l))return!1;if(a&&Ri(l))continue;a=!1,r=l|r&1;continue}if(!a)if(r&4){if(r=2|r&1,l!==""&&!V8(t,l,n)||l===""&&e.length===1){if(Ri(r))return!1;a=!0}}else if(r&8){if(i===null||!j8(t,i,l,n)){if(Ri(r))return!1;a=!0}}else{let d=e[++c],p=$8(l,i,B0(t),n);if(p===-1){if(Ri(r))return!1;a=!0;continue}if(d!==""){let g;if(p>o?g="":g=i[p+1].toLowerCase(),r&2&&d!==g){if(Ri(r))return!1;a=!0}}}}return Ri(r)||a}function Ri(t){return(t&1)===0}function $8(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let a=e[i];if(a===t)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return H8(e,t)}function uI(t,e,n=!1){for(let r=0;r<e.length;r++)if(B8(t,e[r],n))return!0;return!1}function U8(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function q8(t){for(let e=0;e<t.length;e++){let n=t[e];if(sI(n))return e}return t.length}function H8(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function z8(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function hE(t,e){return t?":not("+e.trim()+")":e}function G8(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(r&2){let c=t[++n];i+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!Ri(a)&&(e+=hE(o,i),i=""),r=a,o=o||!Ri(r);n++}return i!==""&&(e+=hE(o,i)),e}function W8(t){return t.map(G8).join(",")}function K8(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ri(i))break;i=o}r++}return{attrs:e,classes:n}}function We(t){return nl(()=>{let e=hI(t),n=ve(q({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===oI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ji.Emulated,styles:t.styles||yi,_:null,schemas:t.schemas||null,tView:null,id:""});pI(n);let r=t.dependencies;return n.directiveDefs=gE(r,!1),n.pipeDefs=gE(r,!0),n.id=Q8(n),n})}function Z8(t){return ia(t)||cI(t)}function Y8(t){return t!==null}function vs(t){return nl(()=>({type:t.type,bootstrap:t.bootstrap||yi,declarations:t.declarations||yi,imports:t.imports||yi,exports:t.exports||yi,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function pE(t,e){if(t==null)return vu;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,a,c=hs.None;Array.isArray(i)?(c=i[0],o=i[1],a=i[2]??o):(o=i,a=i),e?(n[o]=c!==hs.None?[r,c]:r,e[o]=a):n[o]=r}return n}function rn(t){return nl(()=>{let e=hI(t);return pI(e),e})}function Pi(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ia(t){return t[g8]||null}function cI(t){return t[m8]||null}function lI(t){return t[v8]||null}function dI(t){let e=ia(t)||cI(t)||lI(t);return e!==null?e.standalone:!1}function fI(t,e){let n=t[y8]||null;if(!n&&e===!0)throw new Error(`Type ${Ar(t)} does not have '\u0275mod' property.`);return n}function hI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||vu,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||yi,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pE(t.inputs,e),outputs:pE(t.outputs),debugInfo:null}}function pI(t){t.features?.forEach(e=>e(t))}function gE(t,e){if(!t)return null;let n=e?lI:Z8;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Y8)}function Q8(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Tu(t){return{\u0275providers:t}}function J8(...t){return{\u0275providers:gI(!0,t),\u0275fromNgModule:!0}}function gI(t,...e){let n=[],r=new Set,i,o=a=>{n.push(a)};return V0(e,a=>{let c=a;Uv(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&mI(i,o),n}function mI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];$0(i,o=>{e(o,r)})}}function Uv(t,e,n,r){if(t=_r(t),!t)return!1;let i=null,o=uE(t),a=!o&&ia(t);if(!o&&!a){let l=t.ngModule;if(o=uE(l),o)i=l;else return!1}else{if(a&&!a.standalone)return!1;i=t}let c=r.has(i);if(a){if(c)return!1;if(r.add(i),a.dependencies){let l=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let d of l)Uv(d,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let d;try{V0(o.imports,p=>{Uv(p,e,n,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&mI(d,e)}if(!c){let d=ra(i)||(()=>new i);e({provide:i,useFactory:d,deps:yi},i),e({provide:iI,useValue:i,multi:!0},i),e({provide:yu,useValue:()=>et(i),multi:!0},i)}let l=o.providers;if(l!=null&&!c){let d=t;$0(l,p=>{e(p,d)})}}else return!1;return i!==t&&t.providers!==void 0}function $0(t,e){for(let n of t)QE(n)&&(n=n.\u0275providers),Array.isArray(n)?$0(n,e):e(n)}var X8=Kt({provide:String,useValue:Kt});function vI(t){return t!==null&&typeof t=="object"&&X8 in t}function eq(t){return!!(t&&t.useExisting)}function tq(t){return!!(t&&t.useFactory)}function _u(t){return typeof t=="function"}function nq(t){return!!t.useClass}var Eh=new De(""),Hf={},rq={},Ev;function U0(){return Ev===void 0&&(Ev=new eh),Ev}var Nr=class{},Zc=class extends Nr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hv(e,a=>this.processProvider(a)),this.records.set(rI,du(void 0,this)),i.has("environment")&&this.records.set(Nr,du(void 0,this));let o=this.records.get(Eh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(iI,yi,ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=yt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),yt(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ls(this),r=Mr(void 0),i;try{return e()}finally{ls(n),Mr(r)}}get(e,n=Wc,r=ht.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(lE))return e[lE](this);r=Dh(r);let i,o=ls(this),a=Mr(void 0);try{if(!(r&ht.SkipSelf)){let l=this.records.get(e);if(l===void 0){let d=uq(e)&&xh(e);d&&this.injectableDefInScope(d)?l=du(qv(e),Hf):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let c=r&ht.Self?U0():this.parent;return n=r&ht.Optional&&n===Wc?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Jf]=c[Jf]||[]).unshift(Ar(e)),o)throw c;return F8(c,e,"R3InjectorError",this.source)}else throw c}finally{Mr(a),ls(o)}}resolveInjectorInitializers(){let e=yt(null),n=ls(this),r=Mr(void 0),i;try{let o=this.get(yu,yi,ht.Self);for(let a of o)a()}finally{ls(n),Mr(r),yt(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ar(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(e){e=_r(e);let n=_u(e)?e:_r(e&&e.provide),r=oq(e);if(!_u(e)&&e.multi===!0){let i=this.records.get(n);i||(i=du(void 0,Hf,!0),i.factory=()=>Bv(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=yt(null);try{return n.value===Hf&&(n.value=rq,n.value=n.factory()),typeof n.value=="object"&&n.value&&aq(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{yt(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=_r(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function qv(t){let e=xh(t),n=e!==null?e.factory:ra(t);if(n!==null)return n;if(t instanceof De)throw new xe(204,!1);if(t instanceof Function)return iq(t);throw new xe(204,!1)}function iq(t){if(t.length>0)throw new xe(204,!1);let n=h8(t);return n!==null?()=>n.factory(t):()=>new t}function oq(t){if(vI(t))return du(void 0,t.useValue);{let e=yI(t);return du(e,Hf)}}function yI(t,e,n){let r;if(_u(t)){let i=_r(t);return ra(i)||qv(i)}else if(vI(t))r=()=>_r(t.useValue);else if(tq(t))r=()=>t.useFactory(...Bv(t.deps||[]));else if(eq(t))r=()=>et(_r(t.useExisting));else{let i=_r(t&&(t.useClass||t.provide));if(sq(t))r=()=>new i(...Bv(t.deps));else return ra(i)||qv(i)}return r}function du(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function sq(t){return!!t.deps}function aq(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function uq(t){return typeof t=="function"||typeof t=="object"&&t instanceof De}function Hv(t,e){for(let n of t)Array.isArray(n)?Hv(n,e):n&&QE(n)?Hv(n.\u0275providers,e):e(n)}function ki(t,e){t instanceof Zc&&t.assertNotDestroyed();let n,r=ls(t),i=Mr(void 0);try{return e()}finally{ls(r),Mr(i)}}function _I(){return JE()!==void 0||E8()!=null}function cq(t){if(!_I())throw new xe(-203,!1)}function lq(t){return typeof t=="function"}var Fo=0,Ye=1,ze=2,lr=3,Oi=4,Or=5,wu=6,th=7,ur=8,Cu=9,Xi=10,kn=11,Yc=12,mE=13,Mu=14,Qr=15,oa=16,fu=17,Do=18,Ih=19,wI=20,ds=21,zf=22,_i=23,dr=25,CI=1;var sa=7,nh=8,bu=9,cr=10,rh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(rh||{});function fs(t){return Array.isArray(t)&&typeof t[CI]=="object"}function To(t){return Array.isArray(t)&&t[CI]===!0}function bI(t){return(t.flags&4)!==0}function Sh(t){return t.componentOffset>-1}function q0(t){return(t.flags&1)===1}function ps(t){return!!t.template}function zv(t){return(t[ze]&512)!==0}var Gv=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function xI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Li(){return DI}function DI(t){return t.type.prototype.ngOnChanges&&(t.setInput=fq),dq}Li.ngInherit=!0;function dq(){let t=II(this),e=t?.current;if(e){let n=t.previous;if(n===vu)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function fq(t,e,n,r,i){let o=this.declaredInputs[r],a=II(t)||hq(t,{previous:vu,current:null}),c=a.current||(a.current={}),l=a.previous,d=l[o];c[o]=new Gv(d&&d.currentValue,n,l===vu),xI(t,e,i,n)}var EI="__ngSimpleChanges__";function II(t){return t[EI]||null}function hq(t,e){return t[EI]=e}var vE=null;var Yi=function(t,e,n){vE?.(t,e,n)},pq="svg",gq="math";function eo(t){for(;Array.isArray(t);)t=t[Fo];return t}function SI(t,e){return eo(e[t])}function wi(t,e){return eo(e[t.index])}function H0(t,e){return t.data[e]}function FI(t,e){return t[e]}function ys(t,e){let n=e[t];return fs(n)?n:n[Fo]}function mq(t){return(t[ze]&4)===4}function z0(t){return(t[ze]&128)===128}function vq(t){return To(t[lr])}function xu(t,e){return e==null?null:t[e]}function TI(t){t[fu]=0}function MI(t){t[ze]&1024||(t[ze]|=1024,z0(t)&&Th(t))}function yq(t,e){for(;t>0;)e=e[Mu],t--;return e}function Fh(t){return!!(t[ze]&9216||t[_i]?.dirty)}function Wv(t){t[Xi].changeDetectionScheduler?.notify(8),t[ze]&64&&(t[ze]|=1024),Fh(t)&&Th(t)}function Th(t){t[Xi].changeDetectionScheduler?.notify(0);let e=aa(t);for(;e!==null&&!(e[ze]&8192||(e[ze]|=8192,!z0(e)));)e=aa(e)}function AI(t,e){if((t[ze]&256)===256)throw new xe(911,!1);t[ds]===null&&(t[ds]=[]),t[ds].push(e)}function _q(t,e){if(t[ds]===null)return;let n=t[ds].indexOf(e);n!==-1&&t[ds].splice(n,1)}function aa(t){let e=t[lr];return To(e)?e[lr]:e}var pt={lFrame:qI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var NI=!1;function wq(){return pt.lFrame.elementDepthCount}function Cq(){pt.lFrame.elementDepthCount++}function bq(){pt.lFrame.elementDepthCount--}function RI(){return pt.bindingsEnabled}function OI(){return pt.skipHydrationRootTNode!==null}function xq(t){return pt.skipHydrationRootTNode===t}function Dq(){pt.skipHydrationRootTNode=null}function gt(){return pt.lFrame.lView}function Zn(){return pt.lFrame.tView}function je(t){return pt.lFrame.contextLView=t,t[ur]}function Ve(t){return pt.lFrame.contextLView=null,t}function Pr(){let t=PI();for(;t!==null&&t.type===64;)t=t.parent;return t}function PI(){return pt.lFrame.currentTNode}function Eq(){let t=pt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function il(t,e){let n=pt.lFrame;n.currentTNode=t,n.isParent=e}function kI(){return pt.lFrame.isParent}function LI(){pt.lFrame.isParent=!1}function jI(){return NI}function yE(t){NI=t}function G0(){let t=pt.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Iq(){return pt.lFrame.bindingIndex}function Sq(t){return pt.lFrame.bindingIndex=t}function ol(){return pt.lFrame.bindingIndex++}function VI(t){let e=pt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Fq(){return pt.lFrame.inI18n}function Tq(t,e){let n=pt.lFrame;n.bindingIndex=n.bindingRootIndex=t,Kv(e)}function Mq(){return pt.lFrame.currentDirectiveIndex}function Kv(t){pt.lFrame.currentDirectiveIndex=t}function Aq(t){let e=pt.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function BI(){return pt.lFrame.currentQueryIndex}function W0(t){pt.lFrame.currentQueryIndex=t}function Nq(t){let e=t[Ye];return e.type===2?e.declTNode:e.type===1?t[Or]:null}function $I(t,e,n){if(n&ht.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ht.Host);)if(i=Nq(o),i===null||(o=o[Mu],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=pt.lFrame=UI();return r.currentTNode=e,r.lView=t,!0}function K0(t){let e=UI(),n=t[Ye];pt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function UI(){let t=pt.lFrame,e=t===null?null:t.child;return e===null?qI(t):e}function qI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function HI(){let t=pt.lFrame;return pt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var zI=HI;function Z0(){let t=HI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Rq(t){return(pt.lFrame.contextLView=yq(t,pt.lFrame.contextLView))[ur]}function _s(){return pt.lFrame.selectedIndex}function ua(t){pt.lFrame.selectedIndex=t}function Mh(){let t=pt.lFrame;return H0(t.tView,t.selectedIndex)}function Oq(){return pt.lFrame.currentNamespace}var GI=!0;function Y0(){return GI}function Q0(t){GI=t}function Pq(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let a=DI(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function J0(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:p}=o;a&&(t.contentHooks??=[]).push(-n,a),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),l&&(t.viewHooks??=[]).push(-n,l),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function Gf(t,e,n){WI(t,e,3,n)}function Wf(t,e,n,r){(t[ze]&3)===n&&WI(t,e,n,r)}function Iv(t,e){let n=t[ze];(n&3)===e&&(n&=16383,n+=1,t[ze]=n)}function WI(t,e,n,r){let i=r!==void 0?t[fu]&65535:0,o=r??-1,a=e.length-1,c=0;for(let l=i;l<a;l++)if(typeof e[l+1]=="number"){if(c=e[l],r!=null&&c>=r)break}else e[l]<0&&(t[fu]+=65536),(c<o||o==-1)&&(kq(t,n,e,l),t[fu]=(t[fu]&4294901760)+l+2),l++}function _E(t,e){Yi(4,t,e);let n=yt(null);try{e.call(t)}finally{yt(n),Yi(5,t,e)}}function kq(t,e,n,r){let i=n[r]<0,o=n[r+1],a=i?-n[r]:n[r],c=t[a];i?t[ze]>>14<t[fu]>>16&&(t[ze]&3)===e&&(t[ze]+=16384,_E(c,o)):_E(c,o)}var gu=-1,ca=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Lq(t){return t instanceof ca}function jq(t){return(t.flags&8)!==0}function Vq(t){return(t.flags&16)!==0}var Sv={},Zv=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Dh(r);let i=this.injector.get(e,Sv,r);return i!==Sv||n===Sv?i:this.parentInjector.get(e,n,r)}};function KI(t){return t!==gu}function ih(t){return t&32767}function Bq(t){return t>>16}function oh(t,e){let n=Bq(t),r=e;for(;n>0;)r=r[Mu],n--;return r}var Yv=!0;function sh(t){let e=Yv;return Yv=t,e}var $q=256,ZI=$q-1,YI=5,Uq=0,Qi={};function qq(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Gc)&&(r=n[Gc]),r==null&&(r=n[Gc]=Uq++);let i=r&ZI,o=1<<i;e.data[t+(i>>YI)]|=o}function ah(t,e){let n=QI(t,e);if(n!==-1)return n;let r=e[Ye];r.firstCreatePass&&(t.injectorIndex=e.length,Fv(r.data,t),Fv(e,null),Fv(r.blueprint,null));let i=X0(t,e),o=t.injectorIndex;if(KI(i)){let a=ih(i),c=oh(i,e),l=c[Ye].data;for(let d=0;d<8;d++)e[o+d]=c[a+d]|l[a+d]}return e[o+8]=i,o}function Fv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function QI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function X0(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=n1(i),r===null)return gu;if(n++,i=i[Mu],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return gu}function Qv(t,e,n){qq(t,e,n)}function Hq(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(sI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function JI(t,e,n){if(n&ht.Optional||t!==void 0)return t;L0(e,"NodeInjector")}function XI(t,e,n,r){if(n&ht.Optional&&r===void 0&&(r=null),!(n&(ht.Self|ht.Host))){let i=t[Cu],o=Mr(void 0);try{return i?i.get(e,r,n&ht.Optional):XE(e,r,n&ht.Optional)}finally{Mr(o)}}return JI(r,e,n)}function e1(t,e,n,r=ht.Default,i){if(t!==null){if(e[ze]&2048&&!(r&ht.Self)){let a=Kq(t,e,n,r,Qi);if(a!==Qi)return a}let o=t1(t,e,n,r,Qi);if(o!==Qi)return o}return XI(e,n,r,i)}function t1(t,e,n,r,i){let o=Gq(n);if(typeof o=="function"){if(!$I(e,t,r))return r&ht.Host?JI(i,n,r):XI(e,n,r,i);try{let a;if(a=o(r),a==null&&!(r&ht.Optional))L0(n);else return a}finally{zI()}}else if(typeof o=="number"){let a=null,c=QI(t,e),l=gu,d=r&ht.Host?e[Qr][Or]:null;for((c===-1||r&ht.SkipSelf)&&(l=c===-1?X0(t,e):e[c+8],l===gu||!CE(r,!1)?c=-1:(a=e[Ye],c=ih(l),e=oh(l,e)));c!==-1;){let p=e[Ye];if(wE(o,c,p.data)){let g=zq(c,e,n,a,r,d);if(g!==Qi)return g}l=e[c+8],l!==gu&&CE(r,e[Ye].data[c+8]===d)&&wE(o,c,e)?(a=p,c=ih(l),e=oh(l,e)):c=-1}}return i}function zq(t,e,n,r,i,o){let a=e[Ye],c=a.data[t+8],l=r==null?Sh(c)&&Yv:r!=a&&(c.type&3)!==0,d=i&ht.Host&&o===c,p=Kf(c,a,n,l,d);return p!==null?la(e,a,p,c):Qi}function Kf(t,e,n,r,i){let o=t.providerIndexes,a=e.data,c=o&1048575,l=t.directiveStart,d=t.directiveEnd,p=o>>20,g=r?c:c+p,y=i?c+p:d;for(let _=g;_<y;_++){let C=a[_];if(_<l&&n===C||_>=l&&C.type===n)return _}if(i){let _=a[l];if(_&&ps(_)&&_.type===n)return l}return null}function la(t,e,n,r){let i=t[n],o=e.data;if(Lq(i)){let a=i;a.resolving&&w8(_8(o[n]));let c=sh(a.canSeeViewProviders);a.resolving=!0;let l,d=a.injectImpl?Mr(a.injectImpl):null,p=$I(t,r,ht.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&Pq(n,o[n],e)}finally{d!==null&&Mr(d),sh(c),a.resolving=!1,zI()}}return i}function Gq(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Gc)?t[Gc]:void 0;return typeof e=="number"?e>=0?e&ZI:Wq:e}function wE(t,e,n){let r=1<<t;return!!(n[e+(t>>YI)]&r)}function CE(t,e){return!(t&ht.Self)&&!(t&ht.Host&&e)}var na=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return e1(this._tNode,this._lView,e,Dh(r),n)}};function Wq(){return new na(Pr(),gt())}function Ci(t){return nl(()=>{let e=t.prototype.constructor,n=e[Qf]||Jv(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Qf]||Jv(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Jv(t){return WE(t)?()=>{let e=Jv(_r(t));return e&&e()}:ra(t)}function Kq(t,e,n,r,i){let o=t,a=e;for(;o!==null&&a!==null&&a[ze]&2048&&!(a[ze]&512);){let c=t1(o,a,n,r|ht.Self,Qi);if(c!==Qi)return c;let l=o.parent;if(!l){let d=a[wI];if(d){let p=d.get(n,Qi,r);if(p!==Qi)return p}l=n1(a),a=a[Mu]}o=l}return i}function n1(t){let e=t[Ye],n=e.type;return n===2?e.declTNode:n===1?t[Or]:null}function ey(t){return Hq(Pr(),t)}function bE(t,e=null,n=null,r){let i=r1(t,e,n,r);return i.resolveInjectorInitializers(),i}function r1(t,e=null,n=null,r,i=new Set){let o=[n||yi,J8(t)];return r=r||(typeof t=="object"?void 0:Ar(t)),new Zc(o,e||U0(),r||null,i)}var Xs=class Xs{static create(e,n){if(Array.isArray(e))return bE({name:""},n,e,"");{let r=e.name??"";return bE({name:r},e.parent,e.providers,r)}}};Xs.THROW_IF_NOT_FOUND=Wc,Xs.NULL=new eh,Xs.\u0275prov=oe({token:Xs,providedIn:"any",factory:()=>et(rI)}),Xs.__NG_ELEMENT_ID__=-1;var Eo=Xs;var Zq=new De("");Zq.__NG_ELEMENT_ID__=t=>{let e=Pr();if(e===null)throw new xe(204,!1);if(e.type&2)return e.value;if(t&ht.Optional)return null;throw new xe(204,!1)};var Yq="ngOriginalError";function Tv(t){return t[Yq]}var i1=!0,ty=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Qq,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Xv=class extends ty{constructor(e){super(),this._lView=e}onDestroy(e){return AI(this._lView,e),()=>_q(this._lView,e)}};function Qq(){return new Xv(gt())}var Mo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=oe({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var e0=class extends Kn{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,_I()&&(this.destroyRef=M(ty,{optional:!0})??void 0,this.pendingTasks=M(Mo,{optional:!0})??void 0)}emit(e){let n=yt(null);try{super.next(e)}finally{yt(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),a=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let c=super.subscribe({next:i,error:o,complete:a});return e instanceof On&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ht=e0;function uh(...t){}function o1(t){let e,n;function r(){t=uh;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function xE(t){return queueMicrotask(()=>t()),()=>{t=uh}}var ny="isAngularZone",ch=ny+"_ID",Jq=0,bn=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ht(!1),this.onMicrotaskEmpty=new Ht(!1),this.onStable=new Ht(!1),this.onError=new Ht(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=i1}=e;if(typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,tH(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ny)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new xe(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,e,Xq,uh,uh);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Xq={};function ry(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function eH(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){o1(()=>{t.callbackScheduled=!1,t0(t),t.isCheckStableRunning=!0,ry(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),t0(t)}function tH(t){let e=()=>{eH(t)},n=Jq++;t._inner=t._inner.fork({name:"angular",properties:{[ny]:!0,[ch]:n,[ch+n]:!0},onInvokeTask:(r,i,o,a,c,l)=>{if(nH(l))return r.invokeTask(o,a,c,l);try{return DE(t),r.invokeTask(o,a,c,l)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),EE(t)}},onInvoke:(r,i,o,a,c,l,d)=>{try{return DE(t),r.invoke(o,a,c,l,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!rH(l)&&e(),EE(t)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,t0(t),ry(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function t0(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function DE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function EE(t){t._nesting--,ry(t)}var lh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ht,this.onMicrotaskEmpty=new Ht,this.onStable=new Ht,this.onError=new Ht}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function nH(t){return s1(t,"__ignore_ng_zone__")}function rH(t){return s1(t,"__scheduler_tick__")}function s1(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var to=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Tv(e);for(;n&&Tv(n);)n=Tv(n);return n||null}},iH=new De("",{providedIn:"root",factory:()=>{let t=M(bn),e=M(to);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function oH(){return Au(Pr(),gt())}function Au(t,e){return new Jr(wi(t,e))}var Jr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=oH;let t=e;return t})();function sH(t){return t instanceof Jr?t.nativeElement:t}function aH(){return this._results[Symbol.iterator]()}var n0=class t{get changes(){return this._changes??=new Ht}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=aH)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=A8(e);(this._changesDetected=!M8(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function a1(t){return(t.flags&128)===128}var u1=new Map,uH=0;function cH(){return uH++}function lH(t){u1.set(t[Ih],t)}function r0(t){u1.delete(t[Ih])}var IE="__ngContext__";function da(t,e){fs(e)?(t[IE]=e[Ih],lH(e)):t[IE]=e}function c1(t){return d1(t[Yc])}function l1(t){return d1(t[Oi])}function d1(t){for(;t!==null&&!To(t);)t=t[Oi];return t}var i0;function f1(t){i0=t}function dH(){if(i0!==void 0)return i0;if(typeof document<"u")return document;throw new xe(210,!1)}var iy=new De("",{providedIn:"root",factory:()=>fH}),fH="ng",oy=new De(""),ws=new De("",{providedIn:"platform",factory:()=>"unknown"});var sy=new De("",{providedIn:"root",factory:()=>dH().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var hH="h",pH="b";var gH=()=>null;function ay(t,e,n=!1){return gH(t,e,n)}var h1=!1,mH=new De("",{providedIn:"root",factory:()=>h1});var Bf;function vH(){if(Bf===void 0&&(Bf=null,ta.trustedTypes))try{Bf=ta.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bf}function SE(t){return vH()?.createScriptURL(t)||t}var dh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zE})`}};function sl(t){return t instanceof dh?t.changingThisBreaksApplicationSecurity:t}function uy(t,e){let n=yH(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${zE})`)}return n===e}function yH(t){return t instanceof dh&&t.getTypeName()||null}var _H=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function p1(t){return t=String(t),t.match(_H)?t:"unsafe:"+t}var Ah=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ah||{});function wH(t){let e=m1();return e?e.sanitize(Ah.URL,t)||"":uy(t,"URL")?sl(t):p1(mu(t))}function CH(t){let e=m1();if(e)return SE(e.sanitize(Ah.RESOURCE_URL,t)||"");if(uy(t,"ResourceURL"))return SE(sl(t));throw new xe(904,!1)}function bH(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?CH:wH}function g1(t,e,n){return bH(e,n)(t)}function m1(){let t=gt();return t&&t[Xi].sanitizer}function v1(t){return t instanceof Function?t():t}var Io=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Io||{}),xH;function cy(t,e){return xH(t,e)}function hu(t,e,n,r,i){if(r!=null){let o,a=!1;To(r)?o=r:fs(r)&&(a=!0,r=r[Fo]);let c=eo(r);t===0&&n!==null?i==null?b1(e,n,c):fh(e,n,c,i||null,!0):t===1&&n!==null?fh(e,n,c,i||null,!0):t===2?kH(e,c,a):t===3&&e.destroyNode(c),o!=null&&jH(e,t,o,n,i)}}function DH(t,e){return t.createText(e)}function EH(t,e,n){t.setValue(e,n)}function y1(t,e,n){return t.createElement(e,n)}function IH(t,e){_1(t,e),e[Fo]=null,e[Or]=null}function SH(t,e,n,r,i,o){r[Fo]=i,r[Or]=e,Rh(t,r,n,1,i,o)}function _1(t,e){e[Xi].changeDetectionScheduler?.notify(9),Rh(t,e,e[kn],2,null,null)}function FH(t){let e=t[Yc];if(!e)return Mv(t[Ye],t);for(;e;){let n=null;if(fs(e))n=e[Yc];else{let r=e[cr];r&&(n=r)}if(!n){for(;e&&!e[Oi]&&e!==t;)fs(e)&&Mv(e[Ye],e),e=e[lr];e===null&&(e=t),fs(e)&&Mv(e[Ye],e),n=e&&e[Oi]}e=n}}function TH(t,e,n,r){let i=cr+r,o=n.length;r>0&&(n[i-1][Oi]=e),r<o-cr?(e[Oi]=n[i],nI(n,cr+r,e)):(n.push(e),e[Oi]=null),e[lr]=n;let a=e[oa];a!==null&&n!==a&&w1(a,e);let c=e[Do];c!==null&&c.insertView(t),Wv(e),e[ze]|=128}function w1(t,e){let n=t[bu],r=e[lr];if(fs(r))t[ze]|=rh.HasTransplantedViews;else{let i=r[lr][Qr];e[Qr]!==i&&(t[ze]|=rh.HasTransplantedViews)}n===null?t[bu]=[e]:n.push(e)}function ly(t,e){let n=t[bu],r=n.indexOf(e);n.splice(r,1)}function Qc(t,e){if(t.length<=cr)return;let n=cr+e,r=t[n];if(r){let i=r[oa];i!==null&&i!==t&&ly(i,r),e>0&&(t[n-1][Oi]=r[Oi]);let o=Xf(t,cr+e);IH(r[Ye],r);let a=o[Do];a!==null&&a.detachView(o[Ye]),r[lr]=null,r[Oi]=null,r[ze]&=-129}return r}function Nh(t,e){if(!(e[ze]&256)){let n=e[kn];n.destroyNode&&Rh(t,e,n,3,null,null),FH(e)}}function Mv(t,e){if(e[ze]&256)return;let n=yt(null);try{e[ze]&=-129,e[ze]|=256,e[_i]&&ff(e[_i]),AH(t,e),MH(t,e),e[Ye].type===1&&e[kn].destroy();let r=e[oa];if(r!==null&&To(e[lr])){r!==e[lr]&&ly(r,e);let i=e[Do];i!==null&&i.detachView(t)}r0(e)}finally{yt(n)}}function MH(t,e){let n=t.cleanup,r=e[th];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[n[o+1]];n[o].call(a)}r!==null&&(e[th]=null);let i=e[ds];if(i!==null){e[ds]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}}function AH(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ca)){let o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let c=i[o[a]],l=o[a+1];Yi(4,c,l);try{l.call(c)}finally{Yi(5,c,l)}}else{Yi(4,i,o);try{o.call(i)}finally{Yi(5,i,o)}}}}}function C1(t,e,n){return NH(t,e.parent,n)}function NH(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Fo];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ji.None||o===Ji.Emulated)return null}return wi(r,n)}}function fh(t,e,n,r,i){t.insertBefore(e,n,r,i)}function b1(t,e,n){t.appendChild(e,n)}function FE(t,e,n,r,i){r!==null?fh(t,e,n,r,i):b1(t,e,n)}function x1(t,e){return t.parentNode(e)}function RH(t,e){return t.nextSibling(e)}function D1(t,e,n){return PH(t,e,n)}function OH(t,e,n){return t.type&40?wi(t,n):null}var PH=OH,TE;function dy(t,e,n,r){let i=C1(t,r,e),o=e[kn],a=r.parent||e[Or],c=D1(a,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)FE(o,i,n[l],c,!1);else FE(o,i,n,c,!1);TE!==void 0&&TE(o,r,e,n,i)}function Hc(t,e){if(e!==null){let n=e.type;if(n&3)return wi(e,t);if(n&4)return o0(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Hc(t,r);{let i=t[e.index];return To(i)?o0(-1,i):eo(i)}}else{if(n&128)return Hc(t,e.next);if(n&32)return cy(e,t)()||eo(t[e.index]);{let r=E1(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=aa(t[Qr]);return Hc(i,r)}else return Hc(t,e.next)}}}return null}function E1(t,e){if(e!==null){let r=t[Qr][Or],i=e.projection;return r.projection[i]}return null}function o0(t,e){let n=cr+t+1;if(n<e.length){let r=e[n],i=r[Ye].firstChild;if(i!==null)return Hc(r,i)}return e[sa]}function kH(t,e,n){t.removeChild(null,e,n)}function fy(t,e,n,r,i,o,a){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(a&&e===0&&(c&&da(eo(c),r),n.flags|=2),(n.flags&32)!==32)if(l&8)fy(t,e,n.child,r,i,o,!1),hu(e,t,i,c,o);else if(l&32){let d=cy(n,r),p;for(;p=d();)hu(e,t,i,p,o);hu(e,t,i,c,o)}else l&16?I1(t,e,r,n,i,o):hu(e,t,i,c,o);n=a?n.projectionNext:n.next}}function Rh(t,e,n,r,i,o){fy(n,r,t.firstChild,e,i,o,!1)}function LH(t,e,n){let r=e[kn],i=C1(t,n,e),o=n.parent||e[Or],a=D1(o,n,e);I1(r,0,e,n,i,a)}function I1(t,e,n,r,i,o){let a=n[Qr],l=a[Or].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let p=l[d];hu(e,t,i,p,o)}else{let d=l,p=a[lr];a1(r)&&(d.flags|=128),fy(t,e,d,p,i,o,!0)}}function jH(t,e,n,r,i){let o=n[sa],a=eo(n);o!==a&&hu(e,t,r,o,i);for(let c=cr;c<n.length;c++){let l=n[c];Rh(l[Ye],l,t,e,r,o)}}function VH(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Io.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Io.Important),t.setStyle(n,r,i,o))}}function BH(t,e,n){t.setAttribute(e,"style",n)}function S1(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function F1(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&$v(t,e,r),i!==null&&S1(t,e,i),o!==null&&BH(t,e,o)}var Xr={};function P(t=1){T1(Zn(),gt(),_s()+t,!1)}function T1(t,e,n,r){if(!r)if((e[ze]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Gf(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Wf(e,o,0,n)}ua(n)}function Le(t,e=ht.Default){let n=gt();if(n===null)return et(t,e);let r=Pr();return e1(r,n,_r(t),e)}function M1(t,e,n,r,i,o){let a=yt(null);try{let c=null;i&hs.SignalBased&&(c=e[r][bo]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&hs.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,r):xI(e,c,r,o)}finally{yt(a)}}function $H(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ua(~i);else{let o=i,a=n[++r],c=n[++r];Tq(a,o);let l=e[o];c(2,l)}}}finally{ua(-1)}}function Oh(t,e,n,r,i,o,a,c,l,d,p){let g=e.blueprint.slice();return g[Fo]=i,g[ze]=r|4|128|8|64,(d!==null||t&&t[ze]&2048)&&(g[ze]|=2048),TI(g),g[lr]=g[Mu]=t,g[ur]=n,g[Xi]=a||t&&t[Xi],g[kn]=c||t&&t[kn],g[Cu]=l||t&&t[Cu]||null,g[Or]=o,g[Ih]=cH(),g[wu]=p,g[wI]=d,g[Qr]=e.type==2?t[Qr]:g,g}function al(t,e,n,r,i){let o=t.data[e];if(o===null)o=UH(t,e,n,r,i),Fq()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let a=Eq();o.injectorIndex=a===null?-1:a.injectorIndex}return il(o,!0),o}function UH(t,e,n,r,i){let o=PI(),a=kI(),c=a?o:o&&o.parent,l=t.data[e]=KH(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),o!==null&&(a?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function A1(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function N1(t,e,n,r,i){let o=_s(),a=r&2;try{ua(-1),a&&e.length>dr&&T1(t,e,dr,!1),Yi(a?2:0,i),n(r,i)}finally{ua(o),Yi(a?3:1,i)}}function R1(t,e,n){if(bI(e)){let r=yt(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let a=i;a<o;a++){let c=t.data[a];if(c.contentQueries){let l=n[a];c.contentQueries(1,l,a)}}}finally{yt(r)}}}function O1(t,e,n){RI()&&(e5(t,e,n,wi(n,e)),(n.flags&64)===64&&V1(t,e,n))}function P1(t,e,n=wi){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],c=a===-1?n(e,t):t[a];t[i++]=c}}}function k1(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=hy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function hy(t,e,n,r,i,o,a,c,l,d,p){let g=dr+r,y=g+i,_=qH(g,y),C=typeof d=="function"?d():d;return _[Ye]={type:t,blueprint:_,template:n,queries:null,viewQuery:c,declTNode:e,data:_.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:l,consts:C,incompleteFirstPass:!1,ssrId:p}}function qH(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Xr);return n}function HH(t,e,n,r){let o=r.get(mH,h1)||n===Ji.ShadowDom,a=t.selectRootElement(e,o);return zH(a),a}function zH(t){GH(t)}var GH=()=>null;function WH(t,e,n,r){let i=U1(e);i.push(n),t.firstCreatePass&&q1(t).push(r,i.length-1)}function KH(t,e,n,r,i,o){let a=e?e.injectorIndex:-1,c=0;return OI()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ME(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let a=e[o];if(a===void 0)continue;r??={};let c,l=hs.None;Array.isArray(a)?(c=a[0],l=a[1]):c=a;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}t===0?AE(r,n,d,c,l):AE(r,n,d,c)}return r}function AE(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function ZH(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,a=e.attrs,c=[],l=null,d=null;for(let p=r;p<i;p++){let g=o[p],y=n?n.get(g):null,_=y?y.inputs:null,C=y?y.outputs:null;l=ME(0,g.inputs,p,l,_),d=ME(1,g.outputs,p,d,C);let O=l!==null&&a!==null&&!B0(e)?d5(l,p,a):null;c.push(O)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=l,e.outputs=d}function YH(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function py(t,e,n,r,i,o,a,c){let l=wi(e,n),d=e.inputs,p;!c&&d!=null&&(p=d[r])?(gy(t,n,p,r,i),Sh(e)&&QH(n,e.index)):e.type&3?(r=YH(r),i=a!=null?a(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function QH(t,e){let n=ys(e,t);n[ze]&16||(n[ze]|=64)}function L1(t,e,n,r){if(RI()){let i=r===null?null:{"":-1},o=n5(t,n),a,c;o===null?a=c=null:[a,c]=o,a!==null&&j1(t,e,n,a,i,c),i&&r5(n,r,i)}n.mergedAttrs=Kc(n.mergedAttrs,n.attrs)}function j1(t,e,n,r,i,o){for(let d=0;d<r.length;d++)Qv(ah(n,e),t,r[d].type);o5(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let a=!1,c=!1,l=A1(t,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];n.mergedAttrs=Kc(n.mergedAttrs,p.hostAttrs),s5(t,n,e,l,p),i5(l,p,i),p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let g=p.type.prototype;!a&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),l++}ZH(t,n,o)}function JH(t,e,n,r,i){let o=i.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let c=~e.index;XH(a)!=c&&a.push(c),a.push(n,r,o)}}function XH(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function e5(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Sh(n)&&a5(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ah(n,e),da(r,e);let a=n.initialInputs;for(let c=i;c<o;c++){let l=t.data[c],d=la(e,t,c,n);if(da(d,e),a!==null&&l5(e,c-i,d,l,n,a),ps(l)){let p=ys(n.index,e);p[ur]=la(e,t,c,n)}}}function V1(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Mq();try{ua(o);for(let c=r;c<i;c++){let l=t.data[c],d=e[c];Kv(c),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&t5(l,d)}}finally{ua(-1),Kv(a)}}function t5(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function n5(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let a=n[o];if(uI(e,a.selectors,!1))if(r||(r=[]),ps(a))if(a.findHostDirectiveDefs!==null){let c=[];i=i||new Map,a.findHostDirectiveDefs(a,c,i),r.unshift(...c,a);let l=c.length;s0(t,e,l)}else r.unshift(a),s0(t,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return r===null?null:[r,i]}function s0(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function r5(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new xe(-301,!1);r.push(e[i],o)}}}function i5(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ps(e)&&(n[""]=t)}}function o5(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function s5(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ra(i.type,!0)),a=new ca(o,ps(i),Le);t.blueprint[r]=a,n[r]=a,JH(t,e,r,A1(t,n,i.hostVars,Xr),i)}function a5(t,e,n){let r=wi(e,t),i=k1(n),o=t[Xi].rendererFactory,a=16;n.signals?a=4096:n.onPush&&(a=64);let c=Ph(t,Oh(t,i,null,a,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=c}function u5(t,e,n,r,i,o){let a=wi(t,e);c5(e[kn],a,o,t.value,n,r,i)}function c5(t,e,n,r,i,o,a){if(o==null)t.removeAttribute(e,i,n);else{let c=a==null?mu(o):a(o,r||"",i);t.setAttribute(e,i,c,n)}}function l5(t,e,n,r,i,o){let a=o[e];if(a!==null)for(let c=0;c<a.length;){let l=a[c++],d=a[c++],p=a[c++],g=a[c++];M1(r,n,l,d,p,g)}}function d5(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let a=t[o];for(let c=0;c<a.length;c+=3)if(a[c]===e){r.push(o,a[c+1],a[c+2],n[i+1]);break}}i+=2}return r}function B1(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function $1(t,e){let n=t.contentQueries;if(n!==null){let r=yt(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a!==-1){let c=t.data[a];W0(o),c.contentQueries(2,e[a],a)}}}finally{yt(r)}}}function Ph(t,e){return t[Yc]?t[mE][Oi]=e:t[Yc]=e,t[mE]=e,e}function a0(t,e,n){W0(0);let r=yt(null);try{e(t,n)}finally{yt(r)}}function U1(t){return t[th]??=[]}function q1(t){return t.cleanup??=[]}function H1(t,e){let n=t[Cu],r=n?n.get(to,null):null;r&&r.handleError(e)}function gy(t,e,n,r,i){for(let o=0;o<n.length;){let a=n[o++],c=n[o++],l=n[o++],d=e[a],p=t.data[a];M1(p,d,r,c,l,i)}}function z1(t,e,n){let r=SI(e,t);EH(t[kn],r,n)}function f5(t,e){let n=ys(e,t),r=n[Ye];h5(r,n);let i=n[Fo];i!==null&&n[wu]===null&&(n[wu]=ay(i,n[Cu])),my(r,n,n[ur])}function h5(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function my(t,e,n){K0(e);try{let r=t.viewQuery;r!==null&&a0(1,r,n);let i=t.template;i!==null&&N1(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Do]?.finishViewCreation(t),t.staticContentQueries&&$1(t,e),t.staticViewQueries&&a0(2,t.viewQuery,n);let o=t.components;o!==null&&p5(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ze]&=-5,Z0()}}function p5(t,e){for(let n=0;n<e.length;n++)f5(t,e[n])}function ul(t,e,n,r){let i=yt(null);try{let o=e.tView,c=t[ze]&4096?4096:16,l=Oh(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];l[oa]=d;let p=t[Do];return p!==null&&(l[Do]=p.createEmbeddedView(o)),my(o,l,n),l}finally{yt(i)}}function G1(t,e){let n=cr+e;if(n<t.length)return t[n]}function Du(t,e){return!e||e.firstChild===null||a1(t)}function cl(t,e,n,r=!0){let i=e[Ye];if(TH(i,e,t,n),r){let a=o0(n,t),c=e[kn],l=x1(c,t[sa]);l!==null&&SH(i,t[Or],c,e,l,a)}let o=e[wu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function W1(t,e){let n=Qc(t,e);return n!==void 0&&Nh(n[Ye],n),n}function hh(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(eo(o)),To(o)&&g5(o,r);let a=n.type;if(a&8)hh(t,e,n.child,r);else if(a&32){let c=cy(n,e),l;for(;l=c();)r.push(l)}else if(a&16){let c=E1(e,n);if(Array.isArray(c))r.push(...c);else{let l=aa(e[Qr]);hh(l[Ye],l,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function g5(t,e){for(let n=cr;n<t.length;n++){let r=t[n],i=r[Ye].firstChild;i!==null&&hh(r[Ye],r,i,e)}t[sa]!==t[Fo]&&e.push(t[sa])}var K1=[];function m5(t){return t[_i]??v5(t)}function v5(t){let e=K1.pop()??Object.create(_5);return e.lView=t,e}function y5(t){t.lView[_i]!==t&&(t.lView=null,K1.push(t))}var _5=ve(q({},tu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Th(t.lView)},consumerOnSignalRead(){this.lView[_i]=this}});function w5(t){let e=t[_i]??Object.create(C5);return e.lView=t,e}var C5=ve(q({},tu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=aa(t.lView);for(;e&&!Z1(e[Ye]);)e=aa(e);e&&MI(e)},consumerOnSignalRead(){this.lView[_i]=this}});function Z1(t){return t.type!==2}var b5=100;function Y1(t,e=!0,n=0){let r=t[Xi],i=r.rendererFactory,o=!1;o||i.begin?.();try{x5(t,n)}catch(a){throw e&&H1(t,a),a}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function x5(t,e){let n=jI();try{yE(!0),u0(t,e);let r=0;for(;Fh(t);){if(r===b5)throw new xe(103,!1);r++,u0(t,1)}}finally{yE(n)}}function D5(t,e,n,r){let i=e[ze];if((i&256)===256)return;let o=!1,a=!1;!o&&e[Xi].inlineEffectRunner?.flush(),K0(e);let c=!0,l=null,d=null;o||(Z1(t)?(d=m5(e),l=Bc(d)):wD()===null?(c=!1,d=w5(e),l=Bc(d)):e[_i]&&(ff(e[_i]),e[_i]=null));try{TI(e),Sq(t.bindingStartIndex),n!==null&&N1(t,e,n,2,r);let p=(i&3)===3;if(!o)if(p){let _=t.preOrderCheckHooks;_!==null&&Gf(e,_,null)}else{let _=t.preOrderHooks;_!==null&&Wf(e,_,0,null),Iv(e,0)}if(a||E5(e),Q1(e,0),t.contentQueries!==null&&$1(t,e),!o)if(p){let _=t.contentCheckHooks;_!==null&&Gf(e,_)}else{let _=t.contentHooks;_!==null&&Wf(e,_,1),Iv(e,1)}$H(t,e);let g=t.components;g!==null&&X1(e,g,0);let y=t.viewQuery;if(y!==null&&a0(2,y,r),!o)if(p){let _=t.viewCheckHooks;_!==null&&Gf(e,_)}else{let _=t.viewHooks;_!==null&&Wf(e,_,2),Iv(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[zf]){for(let _ of e[zf])_();e[zf]=null}o||(e[ze]&=-73)}catch(p){throw o||Th(e),p}finally{d!==null&&(lf(d,l),c&&y5(d)),Z0()}}function Q1(t,e){for(let n=c1(t);n!==null;n=l1(n))for(let r=cr;r<n.length;r++){let i=n[r];J1(i,e)}}function E5(t){for(let e=c1(t);e!==null;e=l1(e)){if(!(e[ze]&rh.HasTransplantedViews))continue;let n=e[bu];for(let r=0;r<n.length;r++){let i=n[r];MI(i)}}}function I5(t,e,n){let r=ys(e,t);J1(r,n)}function J1(t,e){z0(t)&&u0(t,e)}function u0(t,e){let r=t[Ye],i=t[ze],o=t[_i],a=!!(e===0&&i&16);if(a||=!!(i&64&&e===0),a||=!!(i&1024),a||=!!(o?.dirty&&df(o)),a||=!1,o&&(o.dirty=!1),t[ze]&=-9217,a)D5(r,t,r.template,t[ur]);else if(i&8192){Q1(t,1);let c=r.components;c!==null&&X1(t,c,1)}}function X1(t,e,n){for(let r=0;r<e.length;r++)I5(t,e[r],n)}function vy(t,e){let n=jI()?64:1088;for(t[Xi].changeDetectionScheduler?.notify(e);t;){t[ze]|=n;let r=aa(t);if(zv(t)&&!r)return t;t=r}return null}var fa=class{get rootNodes(){let e=this._lView,n=e[Ye];return hh(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ur]}set context(e){this._lView[ur]=e}get destroyed(){return(this._lView[ze]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[lr];if(To(e)){let n=e[nh],r=n?n.indexOf(this):-1;r>-1&&(Qc(e,r),Xf(n,r))}this._attachedToViewContainer=!1}Nh(this._lView[Ye],this._lView)}onDestroy(e){AI(this._lView,e)}markForCheck(){vy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ze]&=-129}reattach(){Wv(this._lView),this._lView[ze]|=128}detectChanges(){this._lView[ze]|=1024,Y1(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=zv(this._lView),n=this._lView[oa];n!==null&&!e&&ly(n,this._lView),_1(this._lView[Ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=e;let n=zv(this._lView),r=this._lView[oa];r!==null&&!n&&w1(r,this._lView),Wv(this._lView)}},Jc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=T5;let t=e;return t})(),S5=Jc,F5=class extends S5{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ul(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new fa(i)}};function T5(){return yy(Pr(),gt())}function yy(t,e){return t.type&4?new F5(e,t,Au(t,e)):null}var X0e=new RegExp(`^(\\d+)*(${pH}|${hH})*(.*)`);var M5=()=>null;function Eu(t,e){return M5(t,e)}var ha=class{},_y=new De("",{providedIn:"root",factory:()=>!1});var eS=new De(""),wy=new De(""),c0=class{},ph=class{};function A5(t){let e=Error(`No component factory found for ${Ar(t)}.`);return e[N5]=t,e}var N5="ngComponent";var l0=class{resolveComponentFactory(e){throw A5(e)}},Fy=class Fy{};Fy.NULL=new l0;var Iu=Fy,Su=class{},Ao=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>R5();let t=e;return t})();function R5(){let t=gt(),e=Pr(),n=ys(e.index,t);return(fs(n)?n:t)[kn]}var O5=(()=>{let e=class e{};e.\u0275prov=oe({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function d0(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number")o=c;else if(o==1)i=sE(i,c);else if(o==2){let l=c,d=e[++a];r=sE(r,l+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var gh=class extends Iu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ia(e);return new Xc(n,this.ngModule)}};function NE(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),a=o?i[0]:i,c=o?i[1]:hs.None;e?n.push({propName:a,templateName:r,isSignal:(c&hs.SignalBased)!==0}):n.push({propName:a,templateName:r})}return n}function P5(t){let e=t.toLowerCase();return e==="svg"?pq:e==="math"?gq:null}var Xc=class extends ph{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=NE(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return NE(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=W8(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=yt(null);try{i=i||this.ngModule;let a=i instanceof Nr?i:i?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let c=a?new Zv(e,a):e,l=c.get(Su,null);if(l===null)throw new xe(407,!1);let d=c.get(O5,null),p=c.get(ha,null),g={rendererFactory:l,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},y=l.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",C=r?HH(y,r,this.componentDef.encapsulation,c):y1(y,_,P5(_)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let j=null;C!==null&&(j=ay(C,c,!0));let A=hy(0,null,null,1,0,null,null,null,null,null,null),J=Oh(null,A,null,O,null,null,g,y,c,null,j);K0(J);let be,_e,fe=null;try{let ne=this.componentDef,He,bt=null;ne.findHostDirectiveDefs?(He=[],bt=new Map,ne.findHostDirectiveDefs(ne,He,bt),He.push(ne)):He=[ne];let k=k5(J,C);fe=L5(k,C,ne,He,J,g,y),_e=H0(A,dr),C&&B5(y,ne,C,r),n!==void 0&&$5(_e,this.ngContentSelectors,n),be=V5(fe,ne,He,bt,J,[U5]),my(A,J,null)}catch(ne){throw fe!==null&&r0(fe),r0(J),ne}finally{Z0()}return new f0(this.componentType,be,Au(_e,J),J,_e)}finally{yt(o)}}},f0=class extends c0{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new fa(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;gy(o[Ye],o,i,e,n),this.previousInputValues.set(e,n);let a=ys(this._tNode.index,o);vy(a,1)}}get injector(){return new na(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function k5(t,e){let n=t[Ye],r=dr;return t[r]=e,al(n,r,2,"#host",null)}function L5(t,e,n,r,i,o,a){let c=i[Ye];j5(r,t,e,a);let l=null;e!==null&&(l=ay(e,i[Cu]));let d=o.rendererFactory.createRenderer(e,n),p=16;n.signals?p=4096:n.onPush&&(p=64);let g=Oh(i,k1(n),null,p,i[t.index],t,o,d,null,null,l);return c.firstCreatePass&&s0(c,t,r.length-1),Ph(i,g),i[t.index]=g}function j5(t,e,n,r){for(let i of t)e.mergedAttrs=Kc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(d0(e,e.mergedAttrs,!0),n!==null&&F1(r,n,e))}function V5(t,e,n,r,i,o){let a=Pr(),c=i[Ye],l=wi(a,i);j1(c,i,a,n,null,r);for(let p=0;p<n.length;p++){let g=a.directiveStart+p,y=la(i,c,g,a);da(y,i)}V1(c,i,a),l&&da(l,i);let d=la(i,c,a.directiveStart+a.componentOffset,a);if(t[ur]=i[ur]=d,o!==null)for(let p of o)p(d,e);return R1(c,a,i),d}function B5(t,e,n,r){if(r)$v(t,n,["ng-version","18.2.3"]);else{let{attrs:i,classes:o}=K8(e.selectors[0]);i&&$v(t,n,i),o&&o.length>0&&S1(t,n,o.join(" "))}}function $5(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function U5(){let t=Pr();J0(gt()[Ye],t)}var Nu=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=q5;let t=e;return t})();function q5(){let t=Pr();return nS(t,gt())}var H5=Nu,tS=class extends H5{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Au(this._hostTNode,this._hostLView)}get injector(){return new na(this._hostTNode,this._hostLView)}get parentInjector(){let e=X0(this._hostTNode,this._hostLView);if(KI(e)){let n=oh(e,this._hostLView),r=ih(e),i=n[Ye].data[r+8];return new na(i,n)}else return new na(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=RE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-cr}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=Eu(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(c,i,Du(this._hostTNode,a)),c}createComponent(e,n,r,i,o){let a=e&&!lq(e),c;if(a)c=n;else{let C=n||{};c=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let l=a?e:new Xc(ia(e)),d=r||this.parentInjector;if(!o&&l.ngModule==null){let O=(a?d:this.parentInjector).get(Nr,null);O&&(o=O)}let p=ia(l.componentType??{}),g=Eu(this._lContainer,p?.id??null),y=g?.firstChild??null,_=l.create(d,i,y,o);return this.insertImpl(_.hostView,c,Du(this._hostTNode,g)),_}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(vq(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let l=i[lr],d=new tS(l,l[Or],l[lr]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return cl(a,i,o,r),e.attachToViewContainerRef(),nI(Av(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=RE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Qc(this._lContainer,n);r&&(Xf(Av(this._lContainer),n),Nh(r[Ye],r))}detach(e){let n=this._adjustIndex(e,-1),r=Qc(this._lContainer,n);return r&&Xf(Av(this._lContainer),n)!=null?new fa(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function RE(t){return t[nh]}function Av(t){return t[nh]||(t[nh]=[])}function nS(t,e){let n,r=e[t.index];return To(r)?n=r:(n=B1(r,e,null,t),e[t.index]=n,Ph(e,n)),G5(n,e,t,r),new tS(n,t,e)}function z5(t,e){let n=t[kn],r=n.createComment(""),i=wi(e,t),o=x1(n,i);return fh(n,o,r,RH(n,i),!1),r}var G5=Z5,W5=()=>!1;function K5(t,e,n){return W5(t,e,n)}function Z5(t,e,n,r){if(t[sa])return;let i;n.type&8?i=eo(r):i=z5(e,n),t[sa]=i}var h0=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},p0=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let a=n.getByIndex(o),c=this.queries[a.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Cy(e,n).matches!==null&&this.queries[n].setDirty()}},g0=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=rz(e):this.predicate=e}},m0=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},v0=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,Y5(n,o)),this.matchTNodeWithReadOption(e,n,Kf(n,e,o,!1,!1))}else r===Jc?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Kf(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Jr||i===Nu||i===Jc&&n.type&4)this.addMatch(n.index,-2);else{let o=Kf(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Y5(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Q5(t,e){return t.type&11?Au(t,e):t.type&4?yy(t,e):null}function J5(t,e,n,r){return n===-1?Q5(e,t):n===-2?X5(t,e,r):la(t,t[Ye],n,e)}function X5(t,e,n){if(n===Jr)return Au(e,t);if(n===Jc)return yy(e,t);if(n===Nu)return nS(e,t)}function rS(t,e,n,r){let i=e[Do].queries[r];if(i.matches===null){let o=t.data,a=n.matches,c=[];for(let l=0;a!==null&&l<a.length;l+=2){let d=a[l];if(d<0)c.push(null);else{let p=o[d];c.push(J5(e,p,a[l+1],n.metadata.read))}}i.matches=c}return i.matches}function y0(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let a=rS(t,e,i,n);for(let c=0;c<o.length;c+=2){let l=o[c];if(l>0)r.push(a[c/2]);else{let d=o[c+1],p=e[-l];for(let g=cr;g<p.length;g++){let y=p[g];y[oa]===y[lr]&&y0(y[Ye],y,d,r)}if(p[bu]!==null){let g=p[bu];for(let y=0;y<g.length;y++){let _=g[y];y0(_[Ye],_,d,r)}}}}}return r}function ez(t,e){return t[Do].queries[e].queryList}function tz(t,e,n){let r=new n0((n&4)===4);return WH(t,e,r,r.destroy),(e[Do]??=new p0).queries.push(new h0(r))-1}function nz(t,e,n){let r=Zn();return r.firstCreatePass&&(iz(r,new g0(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),tz(r,gt(),e)}function rz(t){return t.split(",").map(e=>e.trim())}function iz(t,e,n){t.queries===null&&(t.queries=new m0),t.queries.track(new v0(e,n))}function Cy(t,e){return t.queries.getByIndex(e)}function oz(t,e){let n=t[Ye],r=Cy(n,e);return r.crossesNgTemplate?y0(n,t,e,[]):rS(n,t,r,e)}var OE=new Set;function No(t){OE.has(t)||(OE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function ge(t,e){No("NgSignals");let n=ND(t),r=n[bo];return e?.equal&&(r.equal=e.equal),n.set=i=>uv(r,i),n.update=i=>RD(r,i),n.asReadonly=sz.bind(n),n}function sz(){let t=this[bo];if(t.readonlyFn===void 0){let e=()=>this();e[bo]=t,t.readonlyFn=e}return t.readonlyFn}function az(t){return Object.getPrototypeOf(t.prototype).constructor}function er(t){let e=az(t.type),n=!0,r=[t];for(;e;){let i;if(ps(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new xe(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let a=t;a.inputs=$f(t.inputs),a.inputTransforms=$f(t.inputTransforms),a.declaredInputs=$f(t.declaredInputs),a.outputs=$f(t.outputs);let c=i.hostBindings;c&&fz(t,c);let l=i.viewQuery,d=i.contentQueries;if(l&&lz(t,l),d&&dz(t,d),uz(t,i),d8(t.outputs,i.outputs),ps(i)&&i.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let a=0;a<o.length;a++){let c=o[a];c&&c.ngInherit&&c(t),c===er&&(n=!1)}}e=Object.getPrototypeOf(e)}cz(r)}function uz(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function cz(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Kc(i.hostAttrs,n=Kc(n,i.hostAttrs))}}function $f(t){return t===vu?{}:t===yi?[]:t}function lz(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function dz(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function fz(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function by(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var gs=class{},el=class{};var _0=class extends gs{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gh(this);let o=fI(e);this._bootstrapComponents=v1(o.bootstrap),this._r3Injector=r1(e,n,[{provide:gs,useValue:this},{provide:Iu,useValue:this.componentFactoryResolver},...r],Ar(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},w0=class extends el{constructor(e){super(),this.moduleType=e}create(e){return new _0(this.moduleType,e,[])}};var mh=class extends gs{constructor(e){super(),this.componentFactoryResolver=new gh(this),this.instance=null;let n=new Zc([...e.providers,{provide:gs,useValue:this},{provide:Iu,useValue:this.componentFactoryResolver}],e.parent||U0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function xy(t,e,n=null){return new mh({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function iS(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Dy(t,e,n){return t[e]=n}function hz(t,e){return t[e]}function So(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function oS(t,e,n,r){let i=So(t,e,n);return So(t,e+1,r)||i}function pz(t){return(t.flags&32)===32}function gz(t,e,n,r,i,o,a,c,l){let d=e.consts,p=al(e,t,4,a||null,c||null);L1(e,n,p,xu(d,l)),J0(e,p);let g=p.tView=hy(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}function vh(t,e,n,r,i,o,a,c,l,d){let p=n+dr,g=e.firstCreatePass?gz(p,e,t,r,i,o,a,c,l):e.data[p];il(g,!1);let y=mz(e,t,g,n);Y0()&&dy(e,t,y,g),da(y,t);let _=B1(y,t,y,g);return t[p]=_,Ph(t,_),K5(_,g,t),q0(g)&&O1(e,t,g),l!=null&&P1(t,g,d),g}function Se(t,e,n,r,i,o,a,c){let l=gt(),d=Zn(),p=xu(d.consts,o);return vh(l,d,t,e,n,r,i,p,a,c),Se}var mz=vz;function vz(t,e,n,r){return Q0(!0),e[kn].createComment("")}var zc=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(zc||{}),yz=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=oe({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),ea=class ea{constructor(){this.ngZone=M(bn),this.scheduler=M(ha),this.errorHandler=M(to,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of ea.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};ea.PHASES=[zc.EarlyRead,zc.Write,zc.MixedReadWrite,zc.Read],ea.\u0275prov=oe({token:ea,providedIn:"root",factory:()=>new ea});var PE=ea;function tr(t,e,n,r){let i=gt(),o=ol();if(So(i,o,e)){let a=Zn(),c=Mh();u5(c,i,t,e,n,r)}return tr}function sS(t,e,n,r){return So(t,ol(),n)?e+mu(n)+r:Xr}function aS(t,e,n,r,i,o){let a=Iq(),c=oS(t,a,n,i);return VI(2),c?e+mu(n)+r+mu(i)+o:Xr}function Uf(t,e){return t<<17|e<<2}function pa(t){return t>>17&32767}function _z(t){return(t&2)==2}function wz(t,e){return t&131071|e<<17}function C0(t){return t|2}function Fu(t){return(t&131068)>>2}function Nv(t,e){return t&-131069|e<<2}function Cz(t){return(t&1)===1}function b0(t){return t|1}function bz(t,e,n,r,i,o){let a=o?e.classBindings:e.styleBindings,c=pa(a),l=Fu(a);t[r]=n;let d=!1,p;if(Array.isArray(n)){let g=n;p=g[1],(p===null||rl(g,p)>0)&&(d=!0)}else p=n;if(i)if(l!==0){let y=pa(t[c+1]);t[r+1]=Uf(y,c),y!==0&&(t[y+1]=Nv(t[y+1],r)),t[c+1]=wz(t[c+1],r)}else t[r+1]=Uf(c,0),c!==0&&(t[c+1]=Nv(t[c+1],r)),c=r;else t[r+1]=Uf(l,0),c===0?c=r:t[l+1]=Nv(t[l+1],r),l=r;d&&(t[r+1]=C0(t[r+1])),kE(t,p,r,!0),kE(t,p,r,!1),xz(e,p,t,r,o),a=Uf(c,l),o?e.classBindings=a:e.styleBindings=a}function xz(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&rl(o,e)>=0&&(n[r+1]=b0(n[r+1]))}function kE(t,e,n,r){let i=t[n+1],o=e===null,a=r?pa(i):Fu(i),c=!1;for(;a!==0&&(c===!1||o);){let l=t[a],d=t[a+1];Dz(l,e)&&(c=!0,t[a+1]=r?b0(d):C0(d)),a=r?pa(d):Fu(d)}c&&(t[n+1]=r?C0(i):b0(i))}function Dz(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?rl(t,e)>=0:!1}function ye(t,e,n){let r=gt(),i=ol();if(So(r,i,e)){let o=Zn(),a=Mh();py(o,a,r,t,e,r[kn],n,!1)}return ye}function LE(t,e,n,r,i){let o=e.inputs,a=i?"class":"style";gy(t,n,o[a],a,r)}function Ro(t,e,n){return uS(t,e,n,!1),Ro}function on(t,e){return uS(t,e,null,!0),on}function uS(t,e,n,r){let i=gt(),o=Zn(),a=VI(2);if(o.firstUpdatePass&&Iz(o,t,a,r),e!==Xr&&So(i,a,e)){let c=o.data[_s()];Az(o,c,i,i[kn],t,i[a+1]=Nz(e,n),r,a)}}function Ez(t,e){return e>=t.expandoStartIndex}function Iz(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[_s()],a=Ez(t,n);Rz(o,r)&&e===null&&!a&&(e=!1),e=Sz(i,o,e,r),bz(i,o,e,n,a,r)}}function Sz(t,e,n,r){let i=Aq(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Rv(null,t,e,n,r),n=tl(n,e.attrs,r),o=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==i)if(n=Rv(i,t,e,n,r),o===null){let l=Fz(t,e,r);l!==void 0&&Array.isArray(l)&&(l=Rv(null,t,e,l[1],r),l=tl(l,e.attrs,r),Tz(t,e,r,l))}else o=Mz(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function Fz(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Fu(r)!==0)return t[pa(r)]}function Tz(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[pa(i)]=r}function Mz(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let a=t[o].hostAttrs;r=tl(r,a,n)}return tl(r,e.attrs,n)}function Rv(t,e,n,r,i){let o=null,a=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<a&&(o=e[c],r=tl(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function tl(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?i=a:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),O8(t,a,n?!0:e[++o]))}return t===void 0?null:t}function Az(t,e,n,r,i,o,a,c){if(!(e.type&3))return;let l=t.data,d=l[c+1],p=Cz(d)?jE(l,e,n,i,Fu(d),a):void 0;if(!yh(p)){yh(o)||_z(d)&&(o=jE(l,null,n,i,c,a));let g=SI(_s(),n);VH(r,a,g,i,o)}}function jE(t,e,n,r,i,o){let a=e===null,c;for(;i>0;){let l=t[i],d=Array.isArray(l),p=d?l[1]:l,g=p===null,y=n[i+1];y===Xr&&(y=g?yi:void 0);let _=g?Dv(y,r):p===r?y:void 0;if(d&&!yh(_)&&(_=Dv(l,r)),yh(_)&&(c=_,a))return c;let C=t[i+1];i=a?pa(C):Fu(C)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(c=Dv(l,r))}return c}function yh(t){return t!==void 0}function Nz(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ar(sl(t)))),t}function Rz(t,e){return(t.flags&(e?8:16))!==0}var x0=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let a=this.detach(r);this.attach(r,o),this.attach(i,a)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Ov(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function Oz(t,e,n){let r,i,o=0,a=t.length-1,c=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=a&&o<=l;){let d=t.at(o),p=e[o],g=Ov(o,d,o,p,n);if(g!==0){g<0&&t.updateValue(o,p),o++;continue}let y=t.at(a),_=e[l],C=Ov(a,y,l,_,n);if(C!==0){C<0&&t.updateValue(a,_),a--,l--;continue}let O=n(o,d),j=n(a,y),A=n(o,p);if(Object.is(A,j)){let J=n(l,_);Object.is(J,O)?(t.swap(o,a),t.updateValue(a,_),l--,a--):t.move(a,o),t.updateValue(o,p),o++;continue}if(r??=new _h,i??=BE(t,o,a,n),D0(t,r,o,A))t.updateValue(o,p),o++,a++;else if(i.has(A))r.set(O,t.detach(o)),a--;else{let J=t.create(o,e[o]);t.attach(o,J),o++,a++}}for(;o<=l;)VE(t,r,n,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),d=l.next();for(;!d.done&&o<=a;){let p=t.at(o),g=d.value,y=Ov(o,p,o,g,n);if(y!==0)y<0&&t.updateValue(o,g),o++,d=l.next();else{r??=new _h,i??=BE(t,o,a,n);let _=n(o,g);if(D0(t,r,o,_))t.updateValue(o,g),o++,a++,d=l.next();else if(!i.has(_))t.attach(o,t.create(o,g)),o++,a++,d=l.next();else{let C=n(o,p);r.set(C,t.detach(o)),a--}}}for(;!d.done;)VE(t,r,n,t.length,d.value),d=l.next()}for(;o<=a;)t.destroy(t.detach(a--));r?.forEach(l=>{t.destroy(l)})}function D0(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function VE(t,e,n,r,i){if(D0(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function BE(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var _h=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Me(t,e){No("NgControlFlow");let n=gt(),r=ol(),i=n[r]!==Xr?n[r]:-1,o=i!==-1?wh(n,dr+i):void 0,a=0;if(So(n,r,t)){let c=yt(null);try{if(o!==void 0&&W1(o,a),t!==-1){let l=dr+t,d=wh(n,l),p=F0(n[Ye],l),g=Eu(d,p.tView.ssrId),y=ul(n,p,e,{dehydratedView:g});cl(d,y,a,Du(p,g))}}finally{yt(c)}}else if(o!==void 0){let c=G1(o,a);c!==void 0&&(c[ur]=e)}}var E0=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-cr}};function zt(t){return t}function cS(t,e){return e}var I0=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Dt(t,e,n,r,i,o,a,c,l,d,p,g,y){No("NgControlFlow");let _=gt(),C=Zn(),O=l!==void 0,j=gt(),A=c?a.bind(j[Qr][ur]):a,J=new I0(O,A);j[dr+t]=J,vh(_,C,t+1,e,n,r,i,xu(C.consts,o)),O&&vh(_,C,t+2,l,d,p,g,xu(C.consts,y))}var S0=class extends x0{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-cr}at(e){return this.getLView(e)[ur].$implicit}attach(e,n){let r=n[wu];this.needsIndexUpdate||=e!==this.length,cl(this.lContainer,n,e,Du(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Pz(this.lContainer,e)}create(e,n){let r=Eu(this.lContainer,this.templateTNode.tView.ssrId),i=ul(this.hostLView,this.templateTNode,new E0(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Nh(e[Ye],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[ur].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ur].$index=e}getLView(e){return kz(this.lContainer,e)}};function Et(t){let e=yt(null),n=_s();try{let r=gt(),i=r[Ye],o=r[n],a=n+1,c=wh(r,a);if(o.liveCollection===void 0){let d=F0(i,a);o.liveCollection=new S0(c,r,d)}else o.liveCollection.reset();let l=o.liveCollection;if(Oz(l,t,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let d=ol(),p=l.length===0;if(So(r,d,p)){let g=n+2,y=wh(r,g);if(p){let _=F0(i,g),C=Eu(y,_.tView.ssrId),O=ul(r,_,void 0,{dehydratedView:C});cl(y,O,0,Du(_,C))}else W1(y,0)}}}finally{yt(e)}}function wh(t,e){return t[e]}function Pz(t,e){return Qc(t,e)}function kz(t,e){return G1(t,e)}function F0(t,e){return H0(t,e)}function Lz(t,e,n,r,i,o){let a=e.consts,c=xu(a,i),l=al(e,t,2,r,c);return L1(e,n,l,xu(a,o)),l.attrs!==null&&d0(l,l.attrs,!1),l.mergedAttrs!==null&&d0(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function x(t,e,n,r){let i=gt(),o=Zn(),a=dr+t,c=i[kn],l=o.firstCreatePass?Lz(a,o,i,e,n,r):o.data[a],d=jz(o,i,l,c,e,t);i[a]=d;let p=q0(l);return il(l,!0),F1(c,d,l),!pz(l)&&Y0()&&dy(o,i,d,l),wq()===0&&da(d,i),Cq(),p&&(O1(o,i,l),R1(o,l,i)),r!==null&&P1(i,l),x}function D(){let t=Pr();kI()?LI():(t=t.parent,il(t,!1));let e=t;xq(e)&&Dq(),bq();let n=Zn();return n.firstCreatePass&&(J0(n,t),bI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&jq(e)&&LE(n,e,gt(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Vq(e)&&LE(n,e,gt(),e.stylesWithoutHost,!1),D}function Y(t,e,n,r){return x(t,e,n,r),D(),Y}var jz=(t,e,n,r,i,o)=>(Q0(!0),y1(r,i,Oq()));function It(){return gt()}var Js=void 0;function Vz(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var Bz=["en",[["a","p"],["AM","PM"],Js],[["AM","PM"],Js,Js],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Js,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Js,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Js,"{1} 'at' {0}",Js],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Vz],Pv={};function kr(t){let e=$z(t),n=$E(e);if(n)return n;let r=e.split("-")[0];if(n=$E(r),n)return n;if(r==="en")return Bz;throw new xe(701,!1)}function $E(t){return t in Pv||(Pv[t]=ta.ng&&ta.ng.common&&ta.ng.common.locales&&ta.ng.common.locales[t]),Pv[t]}var yn=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(yn||{});function $z(t){return t.toLowerCase().replace(/_/g,"-")}var Ch="en-US",Uz="USD";var qz=Ch;function Hz(t){typeof t=="string"&&(qz=t.toLowerCase().replace(/_/g,"-"))}var zz=(t,e,n)=>{};function re(t,e,n,r){let i=gt(),o=Zn(),a=Pr();return Wz(o,i,i[kn],a,t,e,r),re}function Gz(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===n&&i[o+1]===r){let c=e[th],l=i[o+2];return c.length>l?c[l]:null}typeof a=="string"&&(o+=2)}return null}function Wz(t,e,n,r,i,o,a){let c=q0(r),d=t.firstCreatePass&&q1(t),p=e[ur],g=U1(e),y=!0;if(r.type&3||a){let O=wi(r,e),j=a?a(O):O,A=g.length,J=a?_e=>a(eo(_e[r.index])):r.index,be=null;if(!a&&c&&(be=Gz(t,e,i,r.index)),be!==null){let _e=be.__ngLastListenerFn__||be;_e.__ngNextListenerFn__=o,be.__ngLastListenerFn__=o,y=!1}else{o=qE(r,e,p,o),zz(O,i,o);let _e=n.listen(j,i,o);g.push(o,_e),d&&d.push(i,J,A,A+1)}}else o=qE(r,e,p,o);let _=r.outputs,C;if(y&&_!==null&&(C=_[i])){let O=C.length;if(O)for(let j=0;j<O;j+=2){let A=C[j],J=C[j+1],fe=e[A][J].subscribe(o),ne=g.length;g.push(o,fe),d&&d.push(i,r.index,ne,-(ne+1))}}}function UE(t,e,n,r){let i=yt(null);try{return Yi(6,e,n),n(r)!==!1}catch(o){return H1(t,o),!1}finally{Yi(7,e,n),yt(i)}}function qE(t,e,n,r){return function i(o){if(o===Function)return r;let a=t.componentOffset>-1?ys(t.index,e):e;vy(a,5);let c=UE(e,n,r,o),l=i.__ngNextListenerFn__;for(;l;)c=UE(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return c}}function G(t=1){return Rq(t)}function Kz(t,e){let n=null,r=U8(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?uI(t,o,!0):z8(r,o))return i}return n}function kh(t){let e=gt()[Qr][Or];if(!e.projection){let n=t?t.length:1,r=e.projection=N8(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let a=t?Kz(o,t):0;a!==null&&(i[a]?i[a].projectionNext=o:r[a]=o,i[a]=o)}o=o.next}}}function Lh(t,e=0,n,r,i,o){let a=gt(),c=Zn(),l=r?t+1:null;l!==null&&vh(a,c,l,r,i,o,null,n);let d=al(c,dr+t,16,null,n||null);d.projection===null&&(d.projection=e),LI();let g=!a[wu]||OI();a[Qr][Or].projection[d.projection]===null&&l!==null?Zz(a,c,l):g&&(d.flags&32)!==32&&LH(c,a,d)}function Zz(t,e,n){let r=dr+n,i=e.data[r],o=t[r],a=Eu(o,i.tView.ssrId),c=ul(t,i,void 0,{dehydratedView:a});cl(o,c,0,Du(i,a))}function fr(t,e,n){return lS(t,"",e,"",n),fr}function lS(t,e,n,r,i){let o=gt(),a=sS(o,e,n,r);if(a!==Xr){let c=Zn(),l=Mh();py(c,l,o,t,a,o[kn],i,!1)}return lS}function Ey(t,e,n,r,i,o,a){let c=gt(),l=aS(c,e,n,r,i,o);if(l!==Xr){let d=Zn(),p=Mh();py(d,p,c,t,l,c[kn],a,!1)}return Ey}function Ru(t,e,n){nz(t,e,n)}function ga(t){let e=gt(),n=Zn(),r=BI();W0(r+1);let i=Cy(n,r);if(t.dirty&&mq(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=oz(e,r);t.reset(o,sH),t.notifyOnChanges()}return!0}return!1}function ma(){return ez(gt(),BI())}function Yz(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function S(t,e=""){let n=gt(),r=Zn(),i=t+dr,o=r.firstCreatePass?al(r,i,1,e,null):r.data[i],a=Qz(r,n,o,e,t);n[i]=a,Y0()&&dy(r,n,a,o),il(o,!1)}var Qz=(t,e,n,r,i)=>(Q0(!0),DH(e[kn],r));function tt(t){return Zt("",t,""),tt}function Zt(t,e,n){let r=gt(),i=sS(r,t,e,n);return i!==Xr&&z1(r,_s(),i),Zt}function Oo(t,e,n,r,i){let o=gt(),a=aS(o,t,e,n,r,i);return a!==Xr&&z1(o,_s(),a),Oo}function Jz(t,e,n){let r=Zn();if(r.firstCreatePass){let i=ps(t);T0(n,r.data,r.blueprint,i,!0),T0(e,r.data,r.blueprint,i,!1)}}function T0(t,e,n,r,i){if(t=_r(t),Array.isArray(t))for(let o=0;o<t.length;o++)T0(t[o],e,n,r,i);else{let o=Zn(),a=gt(),c=Pr(),l=_u(t)?t:_r(t.provide),d=yI(t),p=c.providerIndexes&1048575,g=c.directiveStart,y=c.providerIndexes>>20;if(_u(t)||!t.multi){let _=new ca(d,i,Le),C=Lv(l,e,i?p:p+y,g);C===-1?(Qv(ah(c,a),o,l),kv(o,t,e.length),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(_),a.push(_)):(n[C]=_,a[C]=_)}else{let _=Lv(l,e,p+y,g),C=Lv(l,e,p,p+y),O=_>=0&&n[_],j=C>=0&&n[C];if(i&&!j||!i&&!O){Qv(ah(c,a),o,l);let A=t7(i?e7:Xz,n.length,i,r,d);!i&&j&&(n[C].providerFactory=A),kv(o,t,e.length,0),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(A),a.push(A)}else{let A=dS(n[i?C:_],d,!i&&r);kv(o,t,_>-1?_:C,A)}!i&&r&&j&&n[C].componentProviders++}}}function kv(t,e,n,r){let i=_u(e),o=nq(e);if(i||o){let l=(o?_r(e.useClass):e).prototype.ngOnDestroy;if(l){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(n);p===-1?d.push(n,[r,l]):d[p+1].push(r,l)}else d.push(n,l)}}}function dS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Lv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Xz(t,e,n,r){return M0(this.multi,[])}function e7(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=la(n,n[Ye],this.providerFactory.index,r);o=c.slice(0,a),M0(i,o);for(let l=a;l<c.length;l++)o.push(c[l])}else o=[],M0(i,o);return o}function M0(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function t7(t,e,n,r,i){let o=new ca(t,n,Le);return o.multi=[],o.index=e,o.componentProviders=0,dS(o,i,r&&!n),o}function Lr(t,e=[]){return n=>{n.providersResolver=(r,i)=>Jz(r,i?i(t):t,e)}}var n7=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=gI(!1,r.type),o=i.length>0?xy([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=oe({token:e,providedIn:"environment",factory:()=>new e(et(Nr))});let t=e;return t})();function Ke(t){No("NgStandalone"),t.getStandaloneInjector=e=>e.get(n7).getOrCreateStandaloneInjector(t)}function fS(t,e,n){let r=G0()+t,i=gt();return i[r]===Xr?Dy(i,r,n?e.call(n):e()):hz(i,r)}function hS(t,e){let n=t[e];return n===Xr?void 0:n}function r7(t,e,n,r,i,o){let a=e+n;return So(t,a,i)?Dy(t,a+1,o?r.call(o,i):r(i)):hS(t,a+1)}function i7(t,e,n,r,i,o,a){let c=e+n;return oS(t,c,i,o)?Dy(t,c+2,a?r.call(a,i,o):r(i,o)):hS(t,c+2)}function At(t,e){let n=Zn(),r,i=t+dr;n.firstCreatePass?(r=o7(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ra(r.type,!0)),a,c=Mr(Le);try{let l=sh(!1),d=o();return sh(l),Yz(n,gt(),i,d),d}finally{Mr(c)}}function o7(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function wr(t,e,n){let r=t+dr,i=gt(),o=FI(i,r);return pS(i,r)?r7(i,G0(),e,o.transform,n,o):o.transform(n)}function xn(t,e,n,r){let i=t+dr,o=gt(),a=FI(o,i);return pS(o,i)?i7(o,G0(),e,a.transform,n,r,a):a.transform(n,r)}function pS(t,e){return t[Ye].data[e].pure}var jh=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var gS=new De("");function va(t){return!!t&&typeof t.then=="function"}function mS(t){return!!t&&typeof t.subscribe=="function"}var Vh=new De(""),vS=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=M(Vh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let a=o();if(va(a))r.push(a);else if(mS(a)){let c=new Promise((l,d)=>{a.subscribe({complete:l,error:d})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bh=new De("");function s7(){AD(()=>{throw new xe(600,!1)})}function a7(t){return t.isBoundToModule}var u7=10;function c7(t,e,n){try{let r=n();return va(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Cs=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=M(iH),this.afterRenderManager=M(yz),this.zonelessEnabled=M(_y),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Kn,this.afterTick=new Kn,this.componentTypes=[],this.components=[],this.isStable=M(Mo).hasPendingTasks.pipe(qe(r=>!r)),this._injector=M(Nr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof ph;if(!this._injector.get(vS).done){let _=!o&&dI(r),C=!1;throw new xe(405,C)}let c;o?c=r:c=this._injector.get(Iu).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let l=a7(c)?void 0:this._injector.get(gs),d=i||c.selector,p=c.create(Eo.NULL,[],d,l),g=p.location.nativeElement,y=p.injector.get(gS,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Zf(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),p}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new xe(101,!1);let r=yt(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,yt(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Su,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<u7;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:o,notifyErrorHandler:a}of this._views)l7(o,a,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Fh(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Zf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Bh,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Zf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new xe(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Zf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function l7(t,e,n,r){if(!n&&!Fh(t))return;Y1(t,e,n&&!r?0:1)}var A0=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Iy=(()=>{let e=class e{compileModuleSync(r){return new w0(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=fI(r),a=v1(o.declarations).reduce((c,l)=>{let d=ia(l);return d&&c.push(new Xc(d)),c},[]);return new A0(i,a)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var d7=(()=>{let e=class e{constructor(){this.zone=M(bn),this.changeDetectionScheduler=M(ha),this.applicationRef=M(Cs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function f7({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new bn(ve(q({},h7()),{scheduleInRootZone:n})),[{provide:bn,useFactory:t},{provide:yu,multi:!0,useFactory:()=>{let r=M(d7,{optional:!0});return()=>r.initialize()}},{provide:yu,multi:!0,useFactory:()=>{let r=M(p7);return()=>{r.initialize()}}},e===!0?{provide:eS,useValue:!0}:[],{provide:wy,useValue:n??i1}]}function h7(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var p7=(()=>{let e=class e{constructor(){this.subscription=new On,this.initialized=!1,this.zone=M(bn),this.pendingTasks=M(Mo)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{bn.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{bn.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yS=(()=>{let e=class e{constructor(){this.appRef=M(Cs),this.taskService=M(Mo),this.ngZone=M(bn),this.zonelessEnabled=M(_y),this.disableScheduling=M(eS,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new On,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ch):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(wy,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof lh||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?xE:o1;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ch+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _S(){return No("NgZoneless"),Tu([{provide:ha,useExisting:yS},{provide:bn,useClass:lh},{provide:_y,useValue:!0},{provide:wy,useValue:!1},[]])}function g7(){return typeof $localize<"u"&&$localize.locale||Ch}var Ou=new De("",{providedIn:"root",factory:()=>M(Ou,ht.Optional|ht.SkipSelf)||g7()}),wS=new De("",{providedIn:"root",factory:()=>Uz});var CS=new De("");function qf(t){return!!t.platformInjector}function m7(t){let e=qf(t)?t.r3Injector:t.moduleRef.injector,n=e.get(bn);return n.run(()=>{qf(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(to,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),qf(t)){let o=()=>e.destroy(),a=t.platformInjector.get(CS);a.add(o),e.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else t.moduleRef.onDestroy(()=>{Zf(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return c7(r,n,()=>{let o=e.get(vS);return o.runInitializers(),o.donePromise.then(()=>{let a=e.get(Ou,Ch);if(Hz(a||Ch),qf(t)){let c=e.get(Cs);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return v7(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function v7(t,e){let n=t.injector.get(Cs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new xe(-403,!1);e.push(t)}var Yf=null;function y7(t=[],e){return Eo.create({name:e,providers:[{provide:Eh,useValue:"platform"},{provide:CS,useValue:new Set([()=>Yf=null])},...t]})}function _7(t=[]){if(Yf)return Yf;let e=y7(t);return Yf=e,s7(),w7(e),e}function w7(t){t.get(oy,null)?.forEach(n=>n())}var ya=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=C7;let t=e;return t})();function C7(t){return b7(Pr(),gt(),(t&16)===16)}function b7(t,e,n){if(Sh(t)&&!n){let r=ys(t.index,e);return new fa(r,r)}else if(t.type&175){let r=e[Qr];return new fa(r,e)}return null}var N0=class{constructor(){}supports(e){return e instanceof Map||iS(e)}create(){return new R0}},R0=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||iS(e)))throw new xe(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,a=i._next;return o&&(o._next=a),a&&(a._prev=o),i._next=null,i._prev=null,i}let r=new O0(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},O0=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function HE(){return new Sy([new N0])}var Sy=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||HE()),deps:[[e,new tI,new j0]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i)return i;throw new xe(901,!1)}};e.\u0275prov=oe({token:e,providedIn:"root",factory:HE});let t=e;return t})();function bS(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=_7(r),o=[f7({}),{provide:ha,useExisting:yS},...n||[]],a=new mh({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return m7({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var xS=new De("");function Pu(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ei(t,e){No("NgSignals");let n=FD(t);return e?.equal&&(n[bo].equal=e.equal),n}function Po(t){let e=yt(null);try{return t()}finally{yt(e)}}var x7=new De("",{providedIn:"root",factory:()=>M(D7)}),D7=(()=>{let e=class e{};e.\u0275prov=oe({token:e,providedIn:"root",factory:()=>new P0});let t=e;return t})(),P0=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=M(Mo),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},k0=class{constructor(e,n,r,i,o,a){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=PD(c=>this.runEffect(c),()=>this.schedule(),a),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(to,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function ko(t,e){No("NgSignals"),!e?.injector&&cq(ko);let n=e?.injector??M(Eo),r=e?.manualCleanup!==!0?n.get(ty):null,i=new k0(n.get(x7),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(ya,null,{optional:!0});return!o||!(o._lView[ze]&8)?i.watcher.notify():(o._lView[zf]??=[]).push(i.watcher.notify),i}var MS=null;function Vo(){return MS}function AS(t){MS??=t}var Zh=class{};var br=new De(""),NS=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:()=>M(I7),providedIn:"platform"});let t=e;return t})();var I7=(()=>{let e=class e extends NS{constructor(){super(),this._doc=M(br),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vo().getBaseHref(this._doc)}onPopState(r){let i=Vo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Vo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function RS(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function DS(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function _a(t){return t&&t[0]!=="?"?"?"+t:t}var Lu=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:()=>M(OS),providedIn:"root"});let t=e;return t})(),S7=new De(""),OS=(()=>{let e=class e extends Lu{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??M(br).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return RS(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+_a(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,a){let c=this.prepareExternalUrl(o+_a(a));this._platformLocation.pushState(r,i,c)}replaceState(r,i,o,a){let c=this.prepareExternalUrl(o+_a(a));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(et(NS),et(S7,8))},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wa=(()=>{let e=class e{constructor(r){this._subject=new Ht,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=M7(DS(ES(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+_a(i))}normalize(r){return e.stripTrailingSlash(T7(this._basePath,ES(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+_a(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+_a(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=_a,e.joinWithSlash=RS,e.stripTrailingSlash=DS,e.\u0275fac=function(i){return new(i||e)(et(Lu))},e.\u0275prov=oe({token:e,factory:()=>F7(),providedIn:"root"});let t=e;return t})();function F7(){return new wa(et(Lu))}function T7(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ES(t){return t.replace(/\/index.html$/,"")}function M7(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var PS={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Py=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Py||{});var Cr=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Cr||{}),Yt=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Yt||{}),ti=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(ti||{}),hr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function A7(t){return kr(t)[yn.LocaleId]}function N7(t,e,n){let r=kr(t),i=[r[yn.DayPeriodsFormat],r[yn.DayPeriodsStandalone]],o=bi(i,e);return bi(o,n)}function R7(t,e,n){let r=kr(t),i=[r[yn.DaysFormat],r[yn.DaysStandalone]],o=bi(i,e);return bi(o,n)}function O7(t,e,n){let r=kr(t),i=[r[yn.MonthsFormat],r[yn.MonthsStandalone]],o=bi(i,e);return bi(o,n)}function P7(t,e){let r=kr(t)[yn.Eras];return bi(r,e)}function $h(t,e){let n=kr(t);return bi(n[yn.DateFormat],e)}function Uh(t,e){let n=kr(t);return bi(n[yn.TimeFormat],e)}function qh(t,e){let r=kr(t)[yn.DateTimeFormat];return bi(r,e)}function no(t,e){let n=kr(t),r=n[yn.NumberSymbols][e];if(typeof r>"u"){if(e===hr.CurrencyDecimal)return n[yn.NumberSymbols][hr.Decimal];if(e===hr.CurrencyGroup)return n[yn.NumberSymbols][hr.Group]}return r}function kS(t,e){return kr(t)[yn.NumberFormats][e]}function k7(t){return kr(t)[yn.Currencies]}function LS(t){if(!t[yn.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[yn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function L7(t){let e=kr(t);return LS(e),(e[yn.ExtraData][2]||[]).map(r=>typeof r=="string"?Ty(r):[Ty(r[0]),Ty(r[1])])}function j7(t,e,n){let r=kr(t);LS(r);let i=[r[yn.ExtraData][0],r[yn.ExtraData][1]],o=bi(i,e)||[];return bi(o,n)||[]}function bi(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Ty(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}function V7(t,e,n="en"){let r=k7(n)[t]||PS[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var B7=2;function $7(t){let e,n=PS[t];return n&&(e=n[2]),typeof e=="number"?e:B7}var U7=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Hh={},q7=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,jo=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(jo||{}),kt=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(kt||{}),Pt=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Pt||{});function H7(t,e,n,r){let i=X7(t);e=Lo(n,e)||e;let a=[],c;for(;e;)if(c=q7.exec(e),c){a=a.concat(c.slice(1));let p=a.pop();if(!p)break;e=p}else{a.push(e);break}let l=i.getTimezoneOffset();r&&(l=VS(r,l),i=J7(i,r,!0));let d="";return a.forEach(p=>{let g=Y7(p);d+=g?g(i,n,l):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function Yh(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Lo(t,e){let n=A7(t);if(Hh[n]??={},Hh[n][e])return Hh[n][e];let r="";switch(e){case"shortDate":r=$h(t,ti.Short);break;case"mediumDate":r=$h(t,ti.Medium);break;case"longDate":r=$h(t,ti.Long);break;case"fullDate":r=$h(t,ti.Full);break;case"shortTime":r=Uh(t,ti.Short);break;case"mediumTime":r=Uh(t,ti.Medium);break;case"longTime":r=Uh(t,ti.Long);break;case"fullTime":r=Uh(t,ti.Full);break;case"short":let i=Lo(t,"shortTime"),o=Lo(t,"shortDate");r=zh(qh(t,ti.Short),[i,o]);break;case"medium":let a=Lo(t,"mediumTime"),c=Lo(t,"mediumDate");r=zh(qh(t,ti.Medium),[a,c]);break;case"long":let l=Lo(t,"longTime"),d=Lo(t,"longDate");r=zh(qh(t,ti.Long),[l,d]);break;case"full":let p=Lo(t,"fullTime"),g=Lo(t,"fullDate");r=zh(qh(t,ti.Full),[p,g]);break}return r&&(Hh[n][e]=r),r}function zh(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function ji(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let a=String(t);for(;a.length<e;)a="0"+a;return r&&(a=a.slice(a.length-e)),o+a}function z7(t,e){return ji(t,3).substring(0,e)}function Ln(t,e,n=0,r=!1,i=!1){return function(o,a){let c=G7(t,o);if((n>0||c>-n)&&(c+=n),t===kt.Hours)c===0&&n===-12&&(c=12);else if(t===kt.FractionalSeconds)return z7(c,e);let l=no(a,hr.MinusSign);return ji(c,e,l,r,i)}}function G7(t,e){switch(t){case kt.FullYear:return e.getFullYear();case kt.Month:return e.getMonth();case kt.Date:return e.getDate();case kt.Hours:return e.getHours();case kt.Minutes:return e.getMinutes();case kt.Seconds:return e.getSeconds();case kt.FractionalSeconds:return e.getMilliseconds();case kt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Jt(t,e,n=Cr.Format,r=!1){return function(i,o){return W7(i,o,t,e,n,r)}}function W7(t,e,n,r,i,o){switch(n){case Pt.Months:return O7(e,i,r)[t.getMonth()];case Pt.Days:return R7(e,i,r)[t.getDay()];case Pt.DayPeriods:let a=t.getHours(),c=t.getMinutes();if(o){let d=L7(e),p=j7(e,i,r),g=d.findIndex(y=>{if(Array.isArray(y)){let[_,C]=y,O=a>=_.hours&&c>=_.minutes,j=a<C.hours||a===C.hours&&c<C.minutes;if(_.hours<C.hours){if(O&&j)return!0}else if(O||j)return!0}else if(y.hours===a&&y.minutes===c)return!0;return!1});if(g!==-1)return p[g]}return N7(e,i,r)[a<12?0:1];case Pt.Eras:return P7(e,r)[t.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function Gh(t){return function(e,n,r){let i=-1*r,o=no(n,hr.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case jo.Short:return(i>=0?"+":"")+ji(a,2,o)+ji(Math.abs(i%60),2,o);case jo.ShortGMT:return"GMT"+(i>=0?"+":"")+ji(a,1,o);case jo.Long:return"GMT"+(i>=0?"+":"")+ji(a,2,o)+":"+ji(Math.abs(i%60),2,o);case jo.Extended:return r===0?"Z":(i>=0?"+":"")+ji(a,2,o)+":"+ji(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var K7=0,Kh=4;function Z7(t){let e=Yh(t,K7,1).getDay();return Yh(t,0,1+(e<=Kh?Kh:Kh+7)-e)}function jS(t){let e=t.getDay(),n=e===0?-3:Kh-e;return Yh(t.getFullYear(),t.getMonth(),t.getDate()+n)}function My(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+o)/7)}else{let o=jS(n),a=Z7(o.getFullYear()),c=o.getTime()-a.getTime();i=1+Math.round(c/6048e5)}return ji(i,t,no(r,hr.MinusSign))}}function Wh(t,e=!1){return function(n,r){let o=jS(n).getFullYear();return ji(o,t,no(r,hr.MinusSign),e)}}var Ay={};function Y7(t){if(Ay[t])return Ay[t];let e;switch(t){case"G":case"GG":case"GGG":e=Jt(Pt.Eras,Yt.Abbreviated);break;case"GGGG":e=Jt(Pt.Eras,Yt.Wide);break;case"GGGGG":e=Jt(Pt.Eras,Yt.Narrow);break;case"y":e=Ln(kt.FullYear,1,0,!1,!0);break;case"yy":e=Ln(kt.FullYear,2,0,!0,!0);break;case"yyy":e=Ln(kt.FullYear,3,0,!1,!0);break;case"yyyy":e=Ln(kt.FullYear,4,0,!1,!0);break;case"Y":e=Wh(1);break;case"YY":e=Wh(2,!0);break;case"YYY":e=Wh(3);break;case"YYYY":e=Wh(4);break;case"M":case"L":e=Ln(kt.Month,1,1);break;case"MM":case"LL":e=Ln(kt.Month,2,1);break;case"MMM":e=Jt(Pt.Months,Yt.Abbreviated);break;case"MMMM":e=Jt(Pt.Months,Yt.Wide);break;case"MMMMM":e=Jt(Pt.Months,Yt.Narrow);break;case"LLL":e=Jt(Pt.Months,Yt.Abbreviated,Cr.Standalone);break;case"LLLL":e=Jt(Pt.Months,Yt.Wide,Cr.Standalone);break;case"LLLLL":e=Jt(Pt.Months,Yt.Narrow,Cr.Standalone);break;case"w":e=My(1);break;case"ww":e=My(2);break;case"W":e=My(1,!0);break;case"d":e=Ln(kt.Date,1);break;case"dd":e=Ln(kt.Date,2);break;case"c":case"cc":e=Ln(kt.Day,1);break;case"ccc":e=Jt(Pt.Days,Yt.Abbreviated,Cr.Standalone);break;case"cccc":e=Jt(Pt.Days,Yt.Wide,Cr.Standalone);break;case"ccccc":e=Jt(Pt.Days,Yt.Narrow,Cr.Standalone);break;case"cccccc":e=Jt(Pt.Days,Yt.Short,Cr.Standalone);break;case"E":case"EE":case"EEE":e=Jt(Pt.Days,Yt.Abbreviated);break;case"EEEE":e=Jt(Pt.Days,Yt.Wide);break;case"EEEEE":e=Jt(Pt.Days,Yt.Narrow);break;case"EEEEEE":e=Jt(Pt.Days,Yt.Short);break;case"a":case"aa":case"aaa":e=Jt(Pt.DayPeriods,Yt.Abbreviated);break;case"aaaa":e=Jt(Pt.DayPeriods,Yt.Wide);break;case"aaaaa":e=Jt(Pt.DayPeriods,Yt.Narrow);break;case"b":case"bb":case"bbb":e=Jt(Pt.DayPeriods,Yt.Abbreviated,Cr.Standalone,!0);break;case"bbbb":e=Jt(Pt.DayPeriods,Yt.Wide,Cr.Standalone,!0);break;case"bbbbb":e=Jt(Pt.DayPeriods,Yt.Narrow,Cr.Standalone,!0);break;case"B":case"BB":case"BBB":e=Jt(Pt.DayPeriods,Yt.Abbreviated,Cr.Format,!0);break;case"BBBB":e=Jt(Pt.DayPeriods,Yt.Wide,Cr.Format,!0);break;case"BBBBB":e=Jt(Pt.DayPeriods,Yt.Narrow,Cr.Format,!0);break;case"h":e=Ln(kt.Hours,1,-12);break;case"hh":e=Ln(kt.Hours,2,-12);break;case"H":e=Ln(kt.Hours,1);break;case"HH":e=Ln(kt.Hours,2);break;case"m":e=Ln(kt.Minutes,1);break;case"mm":e=Ln(kt.Minutes,2);break;case"s":e=Ln(kt.Seconds,1);break;case"ss":e=Ln(kt.Seconds,2);break;case"S":e=Ln(kt.FractionalSeconds,1);break;case"SS":e=Ln(kt.FractionalSeconds,2);break;case"SSS":e=Ln(kt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Gh(jo.Short);break;case"ZZZZZ":e=Gh(jo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Gh(jo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Gh(jo.Long);break;default:return null}return Ay[t]=e,e}function VS(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Q7(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function J7(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=VS(e,i);return Q7(t,r*(o-i))}function X7(t){if(IS(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,a=1]=t.split("-").map(c=>+c);return Yh(i,o-1,a)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(U7))return eG(r)}let e=new Date(t);if(!IS(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function eG(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let a=Number(t[4]||0)-n,c=Number(t[5]||0)-r,l=Number(t[6]||0),d=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,a,c,l,d),e}function IS(t){return t instanceof Date&&!isNaN(t.valueOf())}var tG=/^(\d+)?\.((\d+)(-(\d+))?)?$/,SS=22,Qh=".",ll="0",nG=";",rG=",",Ny="#",FS="\xA4";function BS(t,e,n,r,i,o,a=!1){let c="",l=!1;if(!isFinite(t))c=no(n,hr.Infinity);else{let d=aG(t);a&&(d=sG(d));let p=e.minInt,g=e.minFrac,y=e.maxFrac;if(o){let J=o.match(tG);if(J===null)throw new Error(`${o} is not a valid digit info`);let be=J[1],_e=J[3],fe=J[5];be!=null&&(p=Ry(be)),_e!=null&&(g=Ry(_e)),fe!=null?y=Ry(fe):_e!=null&&g>y&&(y=g)}uG(d,g,y);let _=d.digits,C=d.integerLen,O=d.exponent,j=[];for(l=_.every(J=>!J);C<p;C++)_.unshift(0);for(;C<0;C++)_.unshift(0);C>0?j=_.splice(C,_.length):(j=_,_=[0]);let A=[];for(_.length>=e.lgSize&&A.unshift(_.splice(-e.lgSize,_.length).join(""));_.length>e.gSize;)A.unshift(_.splice(-e.gSize,_.length).join(""));_.length&&A.unshift(_.join("")),c=A.join(no(n,r)),j.length&&(c+=no(n,i)+j.join("")),O&&(c+=no(n,hr.Exponential)+"+"+O)}return t<0&&!l?c=e.negPre+c+e.negSuf:c=e.posPre+c+e.posSuf,c}function iG(t,e,n,r,i){let o=kS(e,Py.Currency),a=$S(o,no(e,hr.MinusSign));return a.minFrac=$7(r),a.maxFrac=a.minFrac,BS(t,a,e,hr.CurrencyGroup,hr.CurrencyDecimal,i).replace(FS,n).replace(FS,"").trim()}function oG(t,e,n){let r=kS(e,Py.Decimal),i=$S(r,no(e,hr.MinusSign));return BS(t,i,e,hr.Group,hr.Decimal,n)}function $S(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(nG),i=r[0],o=r[1],a=i.indexOf(Qh)!==-1?i.split(Qh):[i.substring(0,i.lastIndexOf(ll)+1),i.substring(i.lastIndexOf(ll)+1)],c=a[0],l=a[1]||"";n.posPre=c.substring(0,c.indexOf(Ny));for(let p=0;p<l.length;p++){let g=l.charAt(p);g===ll?n.minFrac=n.maxFrac=p+1:g===Ny?n.maxFrac=p+1:n.posSuf+=g}let d=c.split(rG);if(n.gSize=d[1]?d[1].length:0,n.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,o){let p=i.length-n.posPre.length-n.posSuf.length,g=o.indexOf(Ny);n.negPre=o.substring(0,g).replace(/'/g,""),n.negSuf=o.slice(g+p).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function sG(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function aG(t){let e=Math.abs(t)+"",n=0,r,i,o,a,c;for((i=e.indexOf(Qh))>-1&&(e=e.replace(Qh,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===ll;o++);if(o===(c=e.length))r=[0],i=1;else{for(c--;e.charAt(c)===ll;)c--;for(i-=o,r=[],a=0;o<=c;o++,a++)r[a]=Number(e.charAt(o))}return i>SS&&(r=r.splice(0,SS-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function uG(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),a=o+t.integerLen,c=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(let g=a;g<r.length;g++)r[g]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(let g=1;g<a;g++)r[g]=0}if(c>=5)if(a-1<0){for(let g=0;g>a;g--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,d=e+t.integerLen,p=r.reduceRight(function(g,y,_,C){return y=y+g,C[_]=y<10?y:y-10,l&&(C[_]===0&&_>=d?C.pop():l=!1),y>=10?1:0},0);p&&(r.unshift(p),t.integerLen++)}function Ry(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Jh(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}function ky(t,e){return new xe(2100,!1)}var cG="mediumDate",lG=new De(""),dG=new De(""),ro=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,a){if(r==null||r===""||r!==r)return null;try{let c=i??this.defaultOptions?.dateFormat??cG,l=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return H7(r,c,a||this.locale,l)}catch(c){throw ky(e,c.message)}}};e.\u0275fac=function(i){return new(i||e)(Le(Ou,16),Le(lG,24),Le(dG,24))},e.\u0275pipe=Pi({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();function fG(t,e){return{key:t,value:e}}var Xh=(()=>{let e=class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=TS}transform(r,i=TS){if(!r||!(r instanceof Map)&&typeof r!="object")return null;this.differ??=this.differs.find(r).create();let o=this.differ.diff(r),a=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(c=>{this.keyValues.push(fG(c.key,c.currentValue))})),(o||a)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}};e.\u0275fac=function(i){return new(i||e)(Le(Sy,16))},e.\u0275pipe=Pi({name:"keyvalue",type:e,pure:!1,standalone:!0});let t=e;return t})();function TS(t,e){let n=t.key,r=e.key;if(n===r)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(n===null)return 1;if(r===null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),o=String(r);return i==o?0:i<o?-1:1}var US=(()=>{let e=class e{constructor(r){this._locale=r}transform(r,i,o){if(!qS(r))return null;o||=this._locale;try{let a=HS(r);return oG(a,o,i)}catch(a){throw ky(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(Le(Ou,16))},e.\u0275pipe=Pi({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})();var ju=(()=>{let e=class e{constructor(r,i="USD"){this._locale=r,this._defaultCurrencyCode=i}transform(r,i=this._defaultCurrencyCode,o="symbol",a,c){if(!qS(r))return null;c||=this._locale,typeof o=="boolean"&&(o=o?"symbol":"code");let l=i||this._defaultCurrencyCode;o!=="code"&&(o==="symbol"||o==="symbol-narrow"?l=V7(l,o==="symbol"?"wide":"narrow",c):l=o);try{let d=HS(r);return iG(d,c,l,i,a)}catch(d){throw ky(e,d.message)}}};e.\u0275fac=function(i){return new(i||e)(Le(Ou,16),Le(wS,16))},e.\u0275pipe=Pi({name:"currency",type:e,pure:!0,standalone:!0});let t=e;return t})();function qS(t){return!(t==null||t===""||t!==t)}function HS(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Ca=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=vs({type:e}),e.\u0275inj=ms({});let t=e;return t})(),zS="browser",hG="server";function ep(t){return t===hG}var ku=class{};var hl=class{},np=class{},Bo=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),a=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(c=>o.indexOf(c)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var jy=class{encodeKey(e){return GS(e)}encodeValue(e){return GS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function pG(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[a,c]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=n.get(a)||[];l.push(c),n.set(a,l)}),n}var gG=/%(\d[a-f0-9])/gi,mG={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function GS(t){return encodeURIComponent(t).replace(gG,(e,n)=>mG[n]??e)}function tp(t){return`${t}`}var io=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new jy,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=pG(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(tp):[tp(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(tp(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(tp(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Vy=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function vG(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function WS(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function KS(t){return typeof Blob<"u"&&t instanceof Blob}function ZS(t){return typeof FormData<"u"&&t instanceof FormData}function yG(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var fl=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(vG(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Bo,this.context??=new Vy,!this.params)this.params=new io,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let c=n.indexOf("?"),l=c===-1?"?":c<n.length-1?"&":"";this.urlWithParams=n+l+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||WS(this.body)||KS(this.body)||ZS(this.body)||yG(this.body)?this.body:this.body instanceof io?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ZS(this.body)?null:KS(this.body)?this.body.type||null:WS(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof io?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,d=e.headers||this.headers,p=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((y,_)=>y.set(_,e.setHeaders[_]),d)),e.setParams&&(p=Object.keys(e.setParams).reduce((y,_)=>y.set(_,e.setParams[_]),p)),new t(n,r,a,{params:p,headers:d,context:g,reportProgress:l,responseType:i,withCredentials:c,transferCache:o})}},xs=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(xs||{}),pl=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Bo,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},rp=class t extends pl{constructor(e={}){super(e),this.type=xs.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gl=class t extends pl{constructor(e={}){super(e),this.type=xs.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},bs=class extends pl{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},XS=200,_G=204;function Ly(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var nr=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let a;if(r instanceof fl)a=r;else{let d;o.headers instanceof Bo?d=o.headers:d=new Bo(o.headers);let p;o.params&&(o.params instanceof io?p=o.params:p=new io({fromObject:o.params})),a=new fl(r,i,o.body!==void 0?o.body:null,{headers:d,context:o.context,params:p,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let c=ke(a).pipe(us(d=>this.handler.handle(d)));if(r instanceof fl||o.observe==="events")return c;let l=c.pipe(Zr(d=>d instanceof gl));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return l.pipe(qe(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return l.pipe(qe(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return l.pipe(qe(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return l.pipe(qe(d=>d.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new io().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Ly(o,i))}post(r,i,o={}){return this.request("POST",r,Ly(o,i))}put(r,i,o={}){return this.request("PUT",r,Ly(o,i))}};e.\u0275fac=function(i){return new(i||e)(et(hl))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let t=e;return t})(),wG=/^\)\]\}',?\n/,CG="X-Request-URL";function YS(t){if(t.url)return t.url;let e=CG.toLocaleLowerCase();return t.headers.get(e)}var bG=(()=>{let e=class e{constructor(){this.fetchImpl=M(By,{optional:!0})?.fetch??((...r)=>globalThis.fetch(...r)),this.ngZone=M(bn)}handle(r){return new St(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then($y,a=>i.error(new bs({error:a}))),()=>o.abort()})}async doRequest(r,i,o){let a=this.createRequestInit(r),c;try{let C=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,q({signal:i},a)));xG(C),o.next({type:xs.Sent}),c=await C}catch(C){o.error(new bs({error:C,status:C.status??0,statusText:C.statusText,url:r.urlWithParams,headers:C.headers}));return}let l=new Bo(c.headers),d=c.statusText,p=YS(c)??r.urlWithParams,g=c.status,y=null;if(r.reportProgress&&o.next(new rp({headers:l,status:g,statusText:d,url:p})),c.body){let C=c.headers.get("content-length"),O=[],j=c.body.getReader(),A=0,J,be,_e=typeof Zone<"u"&&Zone.current;await this.ngZone.runOutsideAngular(async()=>{for(;;){let{done:ne,value:He}=await j.read();if(ne)break;if(O.push(He),A+=He.length,r.reportProgress){be=r.responseType==="text"?(be??"")+(J??=new TextDecoder).decode(He,{stream:!0}):void 0;let bt=()=>o.next({type:xs.DownloadProgress,total:C?+C:void 0,loaded:A,partialText:be});_e?_e.run(bt):bt()}}});let fe=this.concatChunks(O,A);try{let ne=c.headers.get("Content-Type")??"";y=this.parseBody(r,fe,ne)}catch(ne){o.error(new bs({error:ne,headers:new Bo(c.headers),status:c.status,statusText:c.statusText,url:YS(c)??r.urlWithParams}));return}}g===0&&(g=y?XS:0),g>=200&&g<300?(o.next(new gl({body:y,headers:l,status:g,statusText:d,url:p})),o.complete()):o.error(new bs({error:y,headers:l,status:g,statusText:d,url:p}))}parseBody(r,i,o){switch(r.responseType){case"json":let a=new TextDecoder().decode(i).replace(wG,"");return a===""?null:JSON.parse(a);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((a,c)=>i[a]=c.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let a=r.detectContentTypeHeader();a!==null&&(i["Content-Type"]=a)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),a=0;for(let c of r)o.set(c,a),a+=c.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let t=e;return t})(),By=class{};function $y(){}function xG(t){t.then($y,$y)}function DG(t,e){return e(t)}function EG(t,e,n){return(r,i)=>ki(n,()=>e(r,o=>t(o,i)))}var Uy=new De(""),IG=new De(""),SG=new De("",{providedIn:"root",factory:()=>!0});var QS=(()=>{let e=class e extends hl{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=M(Mo),this.contributeToStability=M(SG)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Uy),...this.injector.get(IG,[])]));this.chain=i.reduceRight((o,a)=>EG(o,a,this.injector),DG)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(vi(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(et(np),et(Nr))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let t=e;return t})();var FG=/^\)\]\}',?\n/;function TG(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var JS=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new xe(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?mn(i.\u0275loadImpl()):ke(null)).pipe(Yr(()=>new St(a=>{let c=i.build();if(c.open(r.method,r.urlWithParams),r.withCredentials&&(c.withCredentials=!0),r.headers.forEach((j,A)=>c.setRequestHeader(j,A.join(","))),r.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let j=r.detectContentTypeHeader();j!==null&&c.setRequestHeader("Content-Type",j)}if(r.responseType){let j=r.responseType.toLowerCase();c.responseType=j!=="json"?j:"text"}let l=r.serializeBody(),d=null,p=()=>{if(d!==null)return d;let j=c.statusText||"OK",A=new Bo(c.getAllResponseHeaders()),J=TG(c)||r.url;return d=new rp({headers:A,status:c.status,statusText:j,url:J}),d},g=()=>{let{headers:j,status:A,statusText:J,url:be}=p(),_e=null;A!==_G&&(_e=typeof c.response>"u"?c.responseText:c.response),A===0&&(A=_e?XS:0);let fe=A>=200&&A<300;if(r.responseType==="json"&&typeof _e=="string"){let ne=_e;_e=_e.replace(FG,"");try{_e=_e!==""?JSON.parse(_e):null}catch(He){_e=ne,fe&&(fe=!1,_e={error:He,text:_e})}}fe?(a.next(new gl({body:_e,headers:j,status:A,statusText:J,url:be||void 0})),a.complete()):a.error(new bs({error:_e,headers:j,status:A,statusText:J,url:be||void 0}))},y=j=>{let{url:A}=p(),J=new bs({error:j,status:c.status||0,statusText:c.statusText||"Unknown Error",url:A||void 0});a.error(J)},_=!1,C=j=>{_||(a.next(p()),_=!0);let A={type:xs.DownloadProgress,loaded:j.loaded};j.lengthComputable&&(A.total=j.total),r.responseType==="text"&&c.responseText&&(A.partialText=c.responseText),a.next(A)},O=j=>{let A={type:xs.UploadProgress,loaded:j.loaded};j.lengthComputable&&(A.total=j.total),a.next(A)};return c.addEventListener("load",g),c.addEventListener("error",y),c.addEventListener("timeout",y),c.addEventListener("abort",y),r.reportProgress&&(c.addEventListener("progress",C),l!==null&&c.upload&&c.upload.addEventListener("progress",O)),c.send(l),a.next({type:xs.Sent}),()=>{c.removeEventListener("error",y),c.removeEventListener("abort",y),c.removeEventListener("load",g),c.removeEventListener("timeout",y),r.reportProgress&&(c.removeEventListener("progress",C),l!==null&&c.upload&&c.upload.removeEventListener("progress",O)),c.readyState!==c.DONE&&c.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(et(ku))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let t=e;return t})(),eF=new De(""),MG="XSRF-TOKEN",AG=new De("",{providedIn:"root",factory:()=>MG}),NG="X-XSRF-TOKEN",RG=new De("",{providedIn:"root",factory:()=>NG}),ip=class{},OG=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Jh(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(et(br),et(ws),et(AG))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let t=e;return t})();function PG(t,e){let n=t.url.toLowerCase();if(!M(eF)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=M(ip).getToken(),i=M(RG);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var tF=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(tF||{});function kG(t,e){return{\u0275kind:t,\u0275providers:e}}function nF(...t){let e=[nr,JS,QS,{provide:hl,useExisting:QS},{provide:np,useFactory:()=>M(bG,{optional:!0})??M(JS)},{provide:Uy,useValue:PG,multi:!0},{provide:eF,useValue:!0},{provide:ip,useClass:OG}];for(let n of t)e.push(...n.\u0275providers);return Tu(e)}function rF(t){return kG(tF.Interceptors,t.map(e=>({provide:Uy,useValue:e,multi:!0})))}var zy=class extends Zh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Gy=class t extends zy{static makeCurrent(){AS(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=LG();return n==null?null:jG(n)}resetBaseElement(){ml=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Jh(document.cookie,e)}},ml=null;function LG(){return ml=ml||document.querySelector("base"),ml?ml.getAttribute("href"):null}function jG(t){return new URL(t,document.baseURI).pathname}var VG=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let t=e;return t})(),op=new De(""),aF=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(a=>a.supports(r)),!i)throw new xe(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(et(op),et(bn))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let t=e;return t})(),vl=class{constructor(e){this._doc=e}},qy="ng-app-id",uF=(()=>{let e=class e{constructor(r,i,o,a={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ep(a),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${qy}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let a=o.get(r);return a.usage+=i,a.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,a=o?.get(i);if(a?.parentNode===r)return o.delete(i),a.removeAttribute(qy),a;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(qy,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),a=this.styleRef,c=a.get(i)?.elements;c?c.push(o):a.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(et(br),et(iy),et(sy,8),et(ws))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let t=e;return t})(),Hy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ky=/%COMP%/g,cF="%COMP%",BG=`_nghost-${cF}`,$G=`_ngcontent-${cF}`,UG=!0,qG=new De("",{providedIn:"root",factory:()=>UG});function HG(t){return $G.replace(Ky,t)}function zG(t){return BG.replace(Ky,t)}function lF(t,e){return e.map(n=>n.replace(Ky,t))}var iF=(()=>{let e=class e{constructor(r,i,o,a,c,l,d,p=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=c,this.platformId=l,this.ngZone=d,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=ep(l),this.defaultRenderer=new yl(r,c,d,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ji.ShadowDom&&(i=ve(q({},i),{encapsulation:Ji.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof sp?o.applyToHost(r):o instanceof _l&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,a=o.get(i.id);if(!a){let c=this.doc,l=this.ngZone,d=this.eventManager,p=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case Ji.Emulated:a=new sp(d,p,i,this.appId,g,c,l,y);break;case Ji.ShadowDom:return new Wy(d,p,r,i,c,l,this.nonce,y);default:a=new _l(d,p,i,g,c,l,y);break}o.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(et(aF),et(uF),et(iy),et(qG),et(br),et(ws),et(bn),et(sy))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let t=e;return t})(),yl=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Hy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(oF(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(oF(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new xe(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Hy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Hy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Io.DashCase|Io.Important)?e.style.setProperty(n,r,i&Io.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Io.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Vo().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function oF(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Wy=class extends yl{constructor(e,n,r,i,o,a,c,l){super(e,o,a,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=lF(i.id,i.styles);for(let p of d){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=p,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},_l=class extends yl{constructor(e,n,r,i,o,a,c,l){super(e,o,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?lF(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},sp=class extends _l{constructor(e,n,r,i,o,a,c,l){let d=i+"-"+r.id;super(e,n,r,o,a,c,l,d),this.contentAttr=HG(d),this.hostAttr=zG(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},GG=(()=>{let e=class e extends vl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(et(br))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let t=e;return t})(),WG=(()=>{let e=class e extends vl{constructor(r){super(r),this.delegate=M(xS,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(et(br))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let t=e;return t})(),sF=["alt","control","meta","shift"],KG={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZG={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},YG=(()=>{let e=class e extends vl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let a=e.parseEventName(i),c=e.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vo().onAndCancel(r,a.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let a=e._normalizeKey(i.pop()),c="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),c="code."),sF.forEach(p=>{let g=i.indexOf(p);g>-1&&(i.splice(g,1),c+=p+".")}),c+=a,i.length!=0||a.length===0)return null;let d={};return d.domEventName=o,d.fullKey=c,d}static matchEventFullKeyCode(r,i){let o=KG[r.key]||r.key,a="";return i.indexOf("code.")>-1&&(o=r.code,a="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),sF.forEach(c=>{if(c!==o){let l=ZG[c];l(r)&&(a+=c+".")}}),a+=o,a===i)}static eventCallback(r,i,o){return a=>{e.matchEventFullKeyCode(a,r)&&o.runGuarded(()=>i(a))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(et(br))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let t=e;return t})();function dF(t,e){return bS(q({rootComponent:t},QG(e)))}function QG(t){return{appProviders:[...n9,...t?.providers??[]],platformProviders:t9}}function JG(){Gy.makeCurrent()}function XG(){return new to}function e9(){return f1(document),document}var t9=[{provide:ws,useValue:zS},{provide:oy,useValue:JG,multi:!0},{provide:br,useFactory:e9,deps:[]}];var n9=[{provide:Eh,useValue:"root"},{provide:to,useFactory:XG,deps:[]},{provide:op,useClass:GG,multi:!0,deps:[br,bn,ws]},{provide:op,useClass:YG,multi:!0,deps:[br]},{provide:op,useClass:WG,multi:!0},iF,uF,aF,{provide:Su,useExisting:iF},{provide:ku,useClass:VG,deps:[]},[]];var fF=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(et(br))},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rc=dn(MF(),1),ql=dn(up(),1),j2=dn(mN(),1),V2=dn(ON(),1),Qp=dn(M_(),1);var oee=Object.prototype.toString;function see(t){return oee.call(t)==="[object Function]"}var WN=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ep=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function qN(t){return t.split("").map(function(e){return"(?:"+e.toUpperCase()+"|"+e.toLowerCase()+")"}).join("")}function Yu(t,e){for(var n=t.length-1;n>=0;n--)t[n]===e&&Array.prototype.splice.call(t,n,1)}function aee(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var A_={},HN=function(){Ep(t,null,[{key:"getInstance",value:function(n){return A_[n]=A_[n]||new t,A_[n]}}]);function t(){WN(this,t),this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[],this.acronyms={},this.acronymRegex=/(?=a)b/}return Ep(t,[{key:"acronym",value:function(n){this.acronyms[n.toLowerCase()]=n;var r=[];for(var i in this.acronyms)aee(this.acronyms,i)&&r.push(this.acronyms[i]);this.acronymRegex=new RegExp(r.join("|"))}},{key:"plural",value:function(n,r){typeof n=="string"&&Yu(this.uncountables,n),Yu(this.uncountables,r),this.plurals.unshift([n,r])}},{key:"singular",value:function(n,r){typeof n=="string"&&Yu(this.uncountables,n),Yu(this.uncountables,r),this.singulars.unshift([n,r])}},{key:"irregular",value:function(n,r){Yu(this.uncountables,n),Yu(this.uncountables,r);var i=n[0],o=n.substr(1),a=r[0],c=r.substr(1);if(i.toUpperCase()===a.toUpperCase())this.plural(new RegExp("("+i+")"+o+"$","i"),"$1"+c),this.plural(new RegExp("("+a+")"+c+"$","i"),"$1"+c),this.singular(new RegExp("("+i+")"+o+"$","i"),"$1"+o),this.singular(new RegExp("("+a+")"+c+"$","i"),"$1"+o);else{var l=qN(o),d=qN(c);this.plural(new RegExp(i.toUpperCase()+l+"$"),a.toUpperCase()+c),this.plural(new RegExp(i.toLowerCase()+l+"$"),a.toLowerCase()+c),this.plural(new RegExp(a.toUpperCase()+d+"$"),a.toUpperCase()+c),this.plural(new RegExp(a.toLowerCase()+d+"$"),a.toLowerCase()+c),this.singular(new RegExp(i.toUpperCase()+l+"$"),i.toUpperCase()+o),this.singular(new RegExp(i.toLowerCase()+l+"$"),i.toLowerCase()+o),this.singular(new RegExp(a.toUpperCase()+d+"$"),i.toUpperCase()+o),this.singular(new RegExp(a.toLowerCase()+d+"$"),i.toLowerCase()+o)}}},{key:"uncountable",value:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];this.uncountables=this.uncountables.concat(r)}},{key:"human",value:function(n,r){this.humans.unshift([n,r])}},{key:"clear",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"all";n==="all"?(this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[]):this[n]=[]}}]),t}();function uee(t){t.plural(/$/,"s"),t.plural(/s$/i,"s"),t.plural(/^(ax|test)is$/i,"$1es"),t.plural(/(octop|vir)us$/i,"$1i"),t.plural(/(octop|vir)i$/i,"$1i"),t.plural(/(alias|status)$/i,"$1es"),t.plural(/(bu)s$/i,"$1ses"),t.plural(/(buffal|tomat)o$/i,"$1oes"),t.plural(/([ti])um$/i,"$1a"),t.plural(/([ti])a$/i,"$1a"),t.plural(/sis$/i,"ses"),t.plural(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),t.plural(/(hive)$/i,"$1s"),t.plural(/([^aeiouy]|qu)y$/i,"$1ies"),t.plural(/(x|ch|ss|sh)$/i,"$1es"),t.plural(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),t.plural(/^(m|l)ouse$/i,"$1ice"),t.plural(/^(m|l)ice$/i,"$1ice"),t.plural(/^(ox)$/i,"$1en"),t.plural(/^(oxen)$/i,"$1"),t.plural(/(quiz)$/i,"$1zes"),t.singular(/s$/i,""),t.singular(/(ss)$/i,"$1"),t.singular(/(n)ews$/i,"$1ews"),t.singular(/([ti])a$/i,"$1um"),t.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"),t.singular(/(^analy)(sis|ses)$/i,"$1sis"),t.singular(/([^f])ves$/i,"$1fe"),t.singular(/(hive)s$/i,"$1"),t.singular(/(tive)s$/i,"$1"),t.singular(/([lr])ves$/i,"$1f"),t.singular(/([^aeiouy]|qu)ies$/i,"$1y"),t.singular(/(s)eries$/i,"$1eries"),t.singular(/(m)ovies$/i,"$1ovie"),t.singular(/(x|ch|ss|sh)es$/i,"$1"),t.singular(/^(m|l)ice$/i,"$1ouse"),t.singular(/(bus)(es)?$/i,"$1"),t.singular(/(o)es$/i,"$1"),t.singular(/(shoe)s$/i,"$1"),t.singular(/(cris|test)(is|es)$/i,"$1is"),t.singular(/^(a)x[ie]s$/i,"$1xis"),t.singular(/(octop|vir)(us|i)$/i,"$1us"),t.singular(/(alias|status)(es)?$/i,"$1"),t.singular(/^(ox)en/i,"$1"),t.singular(/(vert|ind)ices$/i,"$1ex"),t.singular(/(matr)ices$/i,"$1ix"),t.singular(/(quiz)zes$/i,"$1"),t.singular(/(database)s$/i,"$1"),t.irregular("person","people"),t.irregular("man","men"),t.irregular("child","children"),t.irregular("sex","sexes"),t.irregular("move","moves"),t.irregular("zombie","zombies"),t.uncountable("equipment","information","rice","money","species","series","fish","sheep","jeans","police")}var zN={en:uee};function Es(t,e){if(see(t)&&(e=t,t=null),t=t||"en",e)e(HN.getInstance(t));else return HN.getInstance(t)}for(N_ in zN)Es(N_,zN[N_]);var N_;function KN(t,e){var n=""+t,r,i,o;if(n.length===0)return n;var a=n.toLowerCase().match(/\b\w+$/);if(a&&Es().uncountables.indexOf(a[0])>-1)return n;for(var c=0,l=e.length;c<l;c++)if(r=e[c],i=r[0],o=r[1],n.match(i)){n=n.replace(i,o);break}return n}function O_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en";return KN(t,Es(e).plurals)}function P_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en";return KN(t,Es(e).singulars)}function Ip(t){var e=t==null?"":String(t);return e.charAt(0).toUpperCase()+e.slice(1)}function ZN(t,e){e==null&&(e=!0);var n=""+t;return e?n=n.replace(/^[a-z\d]*/,function(r){return Es().acronyms[r]||Ip(r)}):n=n.replace(new RegExp("^(?:"+Es().acronymRegex.source+"(?=\\b|[A-Z_])|\\w)"),function(r){return r.toLowerCase()}),n=n.replace(/(?:_|(\/))([a-z\d]*)/gi,function(r,i,o,a,c){return i||(i=""),""+i+(Es().acronyms[o]||Ip(o))}),n}function YN(t){var e=""+t;return e=e.replace(new RegExp("(?:([A-Za-z\\d])|^)("+Es().acronymRegex.source+")(?=\\b|[^a-z])","g"),function(n,r,i){return""+(r||"")+(r?"_":"")+i.toLowerCase()}),e=e.replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2"),e=e.replace(/([a-z\d])([A-Z])/g,"$1_$2"),e=e.replace(/-/g,"_"),e.toLowerCase()}function QN(t){return t.replace(/_/g,"-")}var GN={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00C6:"AE",\u00C7:"C",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00D0:"D",\u00D1:"N",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O","\xD7":"x",\u00D8:"O",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00DD:"Y",\u00DE:"Th",\u00DF:"ss",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00E6:"ae",\u00E7:"c",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00F0:"d",\u00F1:"n",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00FD:"y",\u00FE:"th",\u00FF:"y",\u0100:"A",\u0101:"a",\u0102:"A",\u0103:"a",\u0104:"A",\u0105:"a",\u0106:"C",\u0107:"c",\u0108:"C",\u0109:"c",\u010A:"C",\u010B:"c",\u010C:"C",\u010D:"c",\u010E:"D",\u010F:"d",\u0110:"D",\u0111:"d",\u0112:"E",\u0113:"e",\u0114:"E",\u0115:"e",\u0116:"E",\u0117:"e",\u0118:"E",\u0119:"e",\u011A:"E",\u011B:"e",\u011C:"G",\u011D:"g",\u011E:"G",\u011F:"g",\u0120:"G",\u0121:"g",\u0122:"G",\u0123:"g",\u0124:"H",\u0125:"h",\u0126:"H",\u0127:"h",\u0128:"I",\u0129:"i",\u012A:"I",\u012B:"i",\u012C:"I",\u012D:"i",\u012E:"I",\u012F:"i",\u0130:"I",\u0131:"i",\u0132:"IJ",\u0133:"ij",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013A:"l",\u013B:"L",\u013C:"l",\u013D:"L",\u013E:"l",\u013F:"L",\u0140:"l",\u0141:"L",\u0142:"l",\u0143:"N",\u0144:"n",\u0145:"N",\u0146:"n",\u0147:"N",\u0148:"n",\u0149:"'n",\u014A:"NG",\u014B:"ng",\u014C:"O",\u014D:"o",\u014E:"O",\u014F:"o",\u0150:"O",\u0151:"o",\u0152:"OE",\u0153:"oe",\u0154:"R",\u0155:"r",\u0156:"R",\u0157:"r",\u0158:"R",\u0159:"r",\u015A:"S",\u015B:"s",\u015C:"S",\u015D:"s",\u015E:"S",\u015F:"s",\u0160:"S",\u0161:"s",\u0162:"T",\u0163:"t",\u0164:"T",\u0165:"t",\u0166:"T",\u0167:"t",\u0168:"U",\u0169:"u",\u016A:"U",\u016B:"u",\u016C:"U",\u016D:"u",\u016E:"U",\u016F:"u",\u0170:"U",\u0171:"u",\u0172:"U",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017A:"z",\u017B:"Z",\u017C:"z",\u017D:"Z",\u017E:"z",\u0410:"A",\u0411:"B",\u0412:"V",\u0413:"G",\u0414:"D",\u0415:"E",\u0401:"E",\u0416:"ZH",\u0417:"Z",\u0418:"I",\u0419:"J",\u041A:"K",\u041B:"L",\u041C:"M",\u041D:"N",\u041E:"O",\u041F:"P",\u0420:"R",\u0421:"S",\u0422:"T",\u0423:"U",\u0424:"F",\u0425:"KH",\u0426:"C",\u0427:"CH",\u0428:"SH",\u0429:"SHCH",\u042A:"",\u042B:"Y",\u042C:"",\u042D:"E",\u042E:"YU",\u042F:"YA",\u0430:"a",\u0431:"b",\u0432:"v",\u0433:"g",\u0434:"d",\u0435:"e",\u0451:"e",\u0436:"zh",\u0437:"z",\u0438:"i",\u0439:"j",\u043A:"k",\u043B:"l",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"p",\u0440:"r",\u0441:"s",\u0442:"t",\u0443:"u",\u0444:"f",\u0445:"kh",\u0446:"c",\u0447:"ch",\u0448:"sh",\u0449:"shch",\u044A:"",\u044B:"y",\u044C:"",\u044D:"e",\u044E:"yu",\u044F:"ya"},cee="?",R_={},ACe=function(){Ep(t,null,[{key:"getInstance",value:function(n){return R_[n]=R_[n]||new t,R_[n]}}]);function t(){WN(this,t),this.approximations={};for(var e in GN)this.approximate(e,GN[e])}return Ep(t,[{key:"approximate",value:function(n,r){this.approximations[n]=r}},{key:"transliterate",value:function(n,r){var i=this;return n.replace(/[^\u0000-\u007f]/g,function(o){return i.approximations[o]||r||cee})}}]),t}();var B2=dn(vR(),1),Vp=dn(_R(),1),$2=dn(IR(),1),U2=dn(BO(),1),Ho=dn(sP(),1),Hl=dn(uP(),1),q2=dn(fP(),1),Lp=dn(mP(),1),Bp=dn(yP(),1),Iw=dn(D_(),1),Sw=dn(wP(),1),H2=dn(DP(),1),z2=dn(PP(),1),$p=dn($P(),1),jp=dn(o2(),1),pw=dn(a2(),1);typeof global<"u"&&typeof global.self>"u"&&(global.self={},global.__pretenderNodePolyfill=!0);var Sse=Object.create;function G_(){var t=Sse(null);return t.__=void 0,delete t.__,t}var f2=function(e,n,r){this.path=e,this.matcher=n,this.delegate=r};f2.prototype.to=function(e,n){var r=this.delegate;if(r&&r.willAddRoute&&(e=r.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),n){if(n.length===0)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,e,n,this.delegate)}};var Mp=function(e){this.routes=G_(),this.children=G_(),this.target=e};Mp.prototype.add=function(e,n){this.routes[e]=n};Mp.prototype.addChild=function(e,n,r,i){var o=new Mp(n);this.children[e]=o;var a=W_(e,o,i);i&&i.contextEntered&&i.contextEntered(n,a),r(a)};function W_(t,e,n){function r(i,o){var a=t+i;if(o)o(W_(a,e,n));else return new f2(a,e,n)}return r}function Fse(t,e,n){for(var r=0,i=0;i<t.length;i++)r+=t[i].path.length;e=e.substr(r);var o={path:e,handler:n};t.push(o)}function h2(t,e,n,r){for(var i=e.routes,o=Object.keys(i),a=0;a<o.length;a++){var c=o[a],l=t.slice();Fse(l,c,i[c]);var d=e.children[c];d?h2(l,d,n,r):n.call(r,l)}}var Tse=function(t,e){var n=new Mp;t(W_("",n,this.delegate)),h2([],n,function(r){e?e(this,r):this.add(r)},this)};function p2(t){return t.split("/").map(K_).join("/")}var Mse=/%|\//g;function K_(t){return t.length<3||t.indexOf("%")===-1?t:decodeURIComponent(t).replace(Mse,encodeURIComponent)}var Ase=/%(?:2(?:4|6|B|C)|3(?:B|D|A)|40)/g;function g2(t){return encodeURIComponent(t).replace(Ase,decodeURIComponent)}var Nse=/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\)/g,Np=Array.isArray,Rse=Object.prototype.hasOwnProperty;function m2(t,e){if(typeof t!="object"||t===null)throw new Error("You must pass an object as the second argument to `generate`.");if(!Rse.call(t,e))throw new Error("You must provide param `"+e+"` to `generate`.");var n=t[e],r=typeof n=="string"?n:""+n;if(r.length===0)throw new Error("You must provide a param `"+e+"`.");return r}var jl=[];jl[0]=function(t,e){for(var n=e,r=t.value,i=0;i<r.length;i++){var o=r.charCodeAt(i);n=n.put(o,!1,!1)}return n};jl[1]=function(t,e){return e.put(47,!0,!0)};jl[2]=function(t,e){return e.put(-1,!1,!0)};jl[4]=function(t,e){return e};var Vl=[];Vl[0]=function(t){return t.value.replace(Nse,"\\$1")};Vl[1]=function(){return"([^/]+)"};Vl[2]=function(){return"(.+)"};Vl[4]=function(){return""};var Bl=[];Bl[0]=function(t){return t.value};Bl[1]=function(t,e){var n=m2(e,t.value);return xr.ENCODE_AND_DECODE_PATH_SEGMENTS?g2(n):n};Bl[2]=function(t,e){return m2(e,t.value)};Bl[4]=function(){return""};var u2=Object.freeze({}),Ap=Object.freeze([]);function Ose(t,e,n){e.length>0&&e.charCodeAt(0)===47&&(e=e.substr(1));for(var r=e.split("/"),i=void 0,o=void 0,a=0;a<r.length;a++){var c=r[a],l=0,d=0;c===""?d=4:c.charCodeAt(0)===58?d=1:c.charCodeAt(0)===42?d=2:d=0,l=2<<d,l&12&&(c=c.slice(1),i=i||[],i.push(c),o=o||[],o.push((l&4)!==0)),l&14&&n[d]++,t.push({type:d,value:K_(c)})}return{names:i||Ap,shouldDecodes:o||Ap}}function c2(t,e,n){return t.char===e&&t.negate===n}var Xu=function(e,n,r,i,o){this.states=e,this.id=n,this.char=r,this.negate=i,this.nextStates=o?n:null,this.pattern="",this._regex=void 0,this.handlers=void 0,this.types=void 0};Xu.prototype.regex=function(){return this._regex||(this._regex=new RegExp(this.pattern)),this._regex};Xu.prototype.get=function(e,n){var r=this,i=this.nextStates;if(i!==null)if(Np(i))for(var o=0;o<i.length;o++){var a=r.states[i[o]];if(c2(a,e,n))return a}else{var c=this.states[i];if(c2(c,e,n))return c}};Xu.prototype.put=function(e,n,r){var i;if(i=this.get(e,n))return i;var o=this.states;return i=new Xu(o,o.length,e,n,r),o[o.length]=i,this.nextStates==null?this.nextStates=i.id:Np(this.nextStates)?this.nextStates.push(i.id):this.nextStates=[this.nextStates,i.id],i};Xu.prototype.match=function(e){var n=this,r=this.nextStates;if(!r)return[];var i=[];if(Np(r))for(var o=0;o<r.length;o++){var a=n.states[r[o]];l2(a,e)&&i.push(a)}else{var c=this.states[r];l2(c,e)&&i.push(c)}return i};function l2(t,e){return t.negate?t.char!==e&&t.char!==-1:t.char===e||t.char===-1}function Pse(t){return t.sort(function(e,n){var r=e.types||[0,0,0],i=r[0],o=r[1],a=r[2],c=n.types||[0,0,0],l=c[0],d=c[1],p=c[2];if(a!==p)return a-p;if(a){if(i!==l)return l-i;if(o!==d)return d-o}return o!==d?o-d:i!==l?l-i:0})}function kse(t,e){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];n=n.concat(o.match(e))}return n}var Rp=function(e){this.length=0,this.queryParams=e||{}};Rp.prototype.splice=Array.prototype.splice;Rp.prototype.slice=Array.prototype.slice;Rp.prototype.push=Array.prototype.push;function Lse(t,e,n){var r=t.handlers,i=t.regex();if(!i||!r)throw new Error("state not initialized");var o=e.match(i),a=1,c=new Rp(n);c.length=r.length;for(var l=0;l<r.length;l++){var d=r[l],p=d.names,g=d.shouldDecodes,y=u2,_=!1;if(p!==Ap&&g!==Ap)for(var C=0;C<p.length;C++){_=!0;var O=p[C],j=o&&o[a++];y===u2&&(y={}),xr.ENCODE_AND_DECODE_PATH_SEGMENTS&&g[C]?y[O]=j&&decodeURIComponent(j):y[O]=j}c[l]={handler:d.handler,params:y,isDynamic:_}}return c}function d2(t){t=t.replace(/\+/gm,"%20");var e;try{e=decodeURIComponent(t)}catch{e=""}return e}var xr=function(){this.names=G_();var e=[],n=new Xu(e,0,-1,!0,!1);e[0]=n,this.states=e,this.rootState=n};xr.prototype.add=function(e,n){for(var r=this.rootState,i="^",o=[0,0,0],a=new Array(e.length),c=[],l=!0,d=0,p=0;p<e.length;p++){for(var g=e[p],y=Ose(c,g.path,o),_=y.names,C=y.shouldDecodes;d<c.length;d++){var O=c[d];O.type!==4&&(l=!1,r=r.put(47,!1,!1),i+="/",r=jl[O.type](O,r),i+=Vl[O.type](O))}a[p]={handler:g.handler,names:_,shouldDecodes:C}}l&&(r=r.put(47,!1,!1),i+="/"),r.handlers=a,r.pattern=i+"$",r.types=o;var j;typeof n=="object"&&n!==null&&n.as&&(j=n.as),j&&(this.names[j]={segments:c,handlers:a})};xr.prototype.handlersFor=function(e){var n=this.names[e];if(!n)throw new Error("There is no route named "+e);for(var r=new Array(n.handlers.length),i=0;i<n.handlers.length;i++){var o=n.handlers[i];r[i]=o}return r};xr.prototype.hasRoute=function(e){return!!this.names[e]};xr.prototype.generate=function(e,n){var r=this.names[e],i="";if(!r)throw new Error("There is no route named "+e);for(var o=r.segments,a=0;a<o.length;a++){var c=o[a];c.type!==4&&(i+="/",i+=Bl[c.type](c,n))}return i.charAt(0)!=="/"&&(i="/"+i),n&&n.queryParams&&(i+=this.generateQueryString(n.queryParams)),i};xr.prototype.generateQueryString=function(e){var n=[],r=Object.keys(e);r.sort();for(var i=0;i<r.length;i++){var o=r[i],a=e[o];if(a!=null){var c=encodeURIComponent(o);if(Np(a))for(var l=0;l<a.length;l++){var d=o+"[]="+encodeURIComponent(a[l]);n.push(d)}else c+="="+encodeURIComponent(a),n.push(c)}}return n.length===0?"":"?"+n.join("&")};xr.prototype.parseQueryString=function(e){for(var n=e.split("&"),r={},i=0;i<n.length;i++){var o=n[i].split("="),a=d2(o[0]),c=a.length,l=!1,d=void 0;o.length===1?d="true":(c>2&&a.slice(c-2)==="[]"&&(l=!0,a=a.slice(0,c-2),r[a]||(r[a]=[])),d=o[1]?d2(o[1]):""),l?r[a].push(d):r[a]=d}return r};xr.prototype.recognize=function(e){var n,r=[this.rootState],i={},o=!1,a=e.indexOf("#");a!==-1&&(e=e.substr(0,a));var c=e.indexOf("?");if(c!==-1){var l=e.substr(c+1,e.length);e=e.substr(0,c),i=this.parseQueryString(l)}e.charAt(0)!=="/"&&(e="/"+e);var d=e;xr.ENCODE_AND_DECODE_PATH_SEGMENTS?e=p2(e):(e=decodeURI(e),d=decodeURI(d));var p=e.length;p>1&&e.charAt(p-1)==="/"&&(e=e.substr(0,p-1),d=d.substr(0,d.length-1),o=!0);for(var g=0;g<e.length&&(r=kse(r,e.charCodeAt(g)),!!r.length);g++);for(var y=[],_=0;_<r.length;_++)r[_].handlers&&y.push(r[_]);r=Pse(y);var C=y[0];return C&&C.handlers&&(o&&C.pattern&&C.pattern.slice(-5)==="(.+)$"&&(d=d+"/"),n=Lse(C,d,i)),n};xr.VERSION="0.3.4";xr.ENCODE_AND_DECODE_PATH_SEGMENTS=!0;xr.Normalizer={normalizeSegment:K_,normalizePath:p2,encodePathSegment:g2};xr.prototype.map=Tse;var Is=xr;var Ss=function(e,n,r,i){this.type=e,this.bubbles=n,this.cancelable=r,this.target=i};Ss.prototype={stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=!0}};var jse={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};function Vse(t){var e;if(typeof DOMParser<"u"){var n=new DOMParser;e=n.parseFromString(t,"text/xml")}else e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t);return e}var Bse={"Accept-Charset":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0};function $se(t,e){e.addEventListener(t,function(n){var r=e["on"+t];r&&typeof r=="function"&&r.call(n.target,n)})}function Op(){this._eventListeners={};for(var t=["loadstart","progress","load","abort","loadend"],e=t.length-1;e>=0;e--)$se(t[e],this)}Op.prototype={addEventListener:function(e,n){this._eventListeners[e]=this._eventListeners[e]||[],this._eventListeners[e].push(n)},removeEventListener:function(e,n){for(var r=this._eventListeners[e]||[],i=0,o=r.length;i<o;++i)if(r[i]==n)return r.splice(i,1)},dispatchEvent:function(e){for(var n=e.type,r=this._eventListeners[n]||[],i=0;i<r.length;i++)typeof r[i]=="function"?r[i].call(this,e):r[i].handleEvent(e);return!!e.defaultPrevented},_progress:function(e,n,r){var i=new Ss("progress");i.target=this,i.lengthComputable=e,i.loaded=n,i.total=r,this.dispatchEvent(i)}};function en(){Op.call(this),this.readyState=en.UNSENT,this.requestHeaders={},this.requestBody=null,this.status=0,this.statusText="",this.upload=new Op,this.onabort=null,this.onerror=null,this.onload=null,this.onloadend=null,this.onloadstart=null,this.onprogress=null,this.onreadystatechange=null,this.ontimeout=null}en.prototype=new Op;en.UNSENT=0;en.OPENED=1;en.HEADERS_RECEIVED=2;en.LOADING=3;en.DONE=4;var v2={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4,async:!0,withCredentials:!1,open:function(e,n,r,i,o){this.method=e,this.url=n,this.async=typeof r=="boolean"?r:!0,this.username=i,this.password=o,this.responseText=null,this.response=this.responseText,this.responseXML=null,this.responseURL=n,this.requestHeaders={},this.sendFlag=!1,this._readyStateChange(en.OPENED)},setRequestHeader:function(e,n){if(y2(this),Bse[e]||/^(Sec-|Proxy-)/.test(e))throw new Error('Refused to set unsafe header "'+e+'"');this.requestHeaders[e]?this.requestHeaders[e]+=","+n:this.requestHeaders[e]=n},send:function(e){if(y2(this),!/^(get|head)$/i.test(this.method)){var n=!1;Object.keys(this.requestHeaders).forEach(function(r){r.toLowerCase()==="content-type"&&(n=!0)}),!n&&!(e||"").toString().match("FormData")&&(this.requestHeaders["Content-Type"]="text/plain;charset=UTF-8"),this.requestBody=e}this.errorFlag=!1,this.sendFlag=this.async,this._readyStateChange(en.OPENED),typeof this.onSend=="function"&&this.onSend(this),this.dispatchEvent(new Ss("loadstart",!1,!1,this))},abort:function(){this.aborted=!0,this.responseText=null,this.response=this.responseText,this.errorFlag=!0,this.requestHeaders={},this.dispatchEvent(new Ss("abort",!1,!1,this)),this.readyState>en.UNSENT&&this.sendFlag&&(this._readyStateChange(en.UNSENT),this.sendFlag=!1),typeof this.onerror=="function"&&this.onerror()},getResponseHeader:function(e){if(this.readyState<en.HEADERS_RECEIVED||/^Set-Cookie2?$/i.test(e))return null;e=e.toLowerCase();for(var n in this.responseHeaders)if(n.toLowerCase()==e)return this.responseHeaders[n];return null},getAllResponseHeaders:function(){if(this.readyState<en.HEADERS_RECEIVED)return"";var e="";for(var n in this.responseHeaders)this.responseHeaders.hasOwnProperty(n)&&!/^Set-Cookie2?$/i.test(n)&&(e+=n+": "+this.responseHeaders[n]+`\r
`);return e},overrideMimeType:function(e){typeof e=="string"&&(this.forceMimeType=e.toLowerCase())},_readyStateChange:function(e){this.readyState=e,typeof this.onreadystatechange=="function"&&this.onreadystatechange(new Ss("readystatechange")),this.dispatchEvent(new Ss("readystatechange")),this.readyState==en.DONE&&this.dispatchEvent(new Ss("load",!1,!1,this)),(this.readyState==en.UNSENT||this.readyState==en.DONE)&&this.dispatchEvent(new Ss("loadend",!1,!1,this))},_setResponseHeaders:function(e){this.responseHeaders={};for(var n in e)e.hasOwnProperty(n)&&(this.responseHeaders[n]=e[n]);this.forceMimeType&&(this.responseHeaders["Content-Type"]=this.forceMimeType),this.async?this._readyStateChange(en.HEADERS_RECEIVED):this.readyState=en.HEADERS_RECEIVED},_setResponseBody:function(e){Use(this),qse(this),Hse(e);var n=this.chunkSize||10,r=0;this.responseText="",this.response=this.responseText;do this.async&&this._readyStateChange(en.LOADING),this.responseText+=e.substring(r,r+n),this.response=this.responseText,r+=n;while(r<e.length);var i=this.getResponseHeader("Content-Type");if(this.responseText&&(!i||/(text\/xml)|(application\/xml)|(\+xml)/.test(i)))try{this.responseXML=Vse(this.responseText)}catch{}this.async?this._readyStateChange(en.DONE):this.readyState=en.DONE},respond:function(e,n,r){this._setResponseHeaders(n||{}),this.status=typeof e=="number"?e:200,this.statusText=jse[this.status],this._setResponseBody(r||"")}};for(Z_ in v2)en.prototype[Z_]=v2[Z_];var Z_;function y2(t){if(t.readyState!==en.OPENED)throw new Error("INVALID_STATE_ERR");if(t.sendFlag)throw new Error("INVALID_STATE_ERR")}function Use(t){if(t.readyState==en.DONE)throw new Error("Request done")}function qse(t){if(t.async&&t.readyState!=en.HEADERS_RECEIVED)throw new Error("No headers received")}function Hse(t){if(typeof t!="string"){var e=new Error("Attempted to respond to fake XMLHttpRequest with "+t+", which is not a string.");throw e.name="InvalidBodyException",e}}var $l=en;var _2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},I2=function(e,n){if(n=n.split(":")[0],e=+e,!e)return!1;switch(n){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0},zse=Object.prototype.hasOwnProperty,Gse;function w2(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return null}}function Wse(t){for(var e=/([^=?&]+)=?([^&]*)/g,n={},r;r=e.exec(t);){var i=w2(r[1]),o=w2(r[2]);i===null||o===null||i in n||(n[i]=o)}return n}function Kse(t,e){e=e||"";var n=[],r,i;typeof e!="string"&&(e="?");for(i in t)if(zse.call(t,i)){if(r=t[i],!r&&(r===null||r===Gse||isNaN(r))&&(r=""),i=encodeURIComponent(i),r=encodeURIComponent(r),i===null||r===null)continue;n.push(i+"="+r)}return n.length?e+n.join("&"):""}var Zse=Kse,Yse=Wse,Pp={stringify:Zse,parse:Yse},Qse=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Jse=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,Xse=/^[a-zA-Z]:/,eae="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",tae=new RegExp("^"+eae+"+");function ew(t){return(t||"").toString().replace(tae,"")}var J_=[["#","hash"],["?","query"],function(e,n){return qo(n.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],C2={hash:1,query:1};function S2(t){var e;typeof window<"u"?e=window:typeof _2<"u"?e=_2:typeof self<"u"?e=self:e={};var n=e.location||{};t=t||n;var r={},i=typeof t,o;if(t.protocol==="blob:")r=new ao(unescape(t.pathname),{});else if(i==="string"){r=new ao(t,{});for(o in C2)delete r[o]}else if(i==="object"){for(o in t)o in C2||(r[o]=t[o]);r.slashes===void 0&&(r.slashes=Qse.test(t.href))}return r}function qo(t){return t==="file:"||t==="ftp:"||t==="http:"||t==="https:"||t==="ws:"||t==="wss:"}function F2(t,e){t=ew(t),e=e||{};var n=Jse.exec(t),r=n[1]?n[1].toLowerCase():"",i=!!n[2],o=!!n[3],a=0,c;return i?o?(c=n[2]+n[3]+n[4],a=n[2].length+n[3].length):(c=n[2]+n[4],a=n[2].length):o?(c=n[3]+n[4],a=n[3].length):c=n[4],r==="file:"?a>=2&&(c=c.slice(2)):qo(r)?c=n[4]:r?i&&(c=c.slice(2)):a>=2&&qo(e.protocol)&&(c=n[4]),{protocol:r,slashes:i||qo(r),slashesCount:a,rest:c}}function nae(t,e){if(t==="")return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)n[r]==="."?n.splice(r,1):n[r]===".."?(n.splice(r,1),a++):a&&(r===0&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),(i==="."||i==="..")&&n.push(""),n.join("/")}function ao(t,e,n){if(t=ew(t),!(this instanceof ao))return new ao(t,e,n);var r,i,o,a,c,l,d=J_.slice(),p=typeof e,g=this,y=0;for(p!=="object"&&p!=="string"&&(n=e,e=null),n&&typeof n!="function"&&(n=Pp.parse),e=S2(e),i=F2(t||"",e),r=!i.protocol&&!i.slashes,g.slashes=i.slashes||r&&e.slashes,g.protocol=i.protocol||e.protocol||"",t=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||Xse.test(t))||!i.slashes&&(i.protocol||i.slashesCount<2||!qo(g.protocol)))&&(d[3]=[/(.*)/,"pathname"]);y<d.length;y++){if(a=d[y],typeof a=="function"){t=a(t,g);continue}o=a[0],l=a[1],o!==o?g[l]=t:typeof o=="string"?~(c=t.indexOf(o))&&(typeof a[2]=="number"?(g[l]=t.slice(0,c),t=t.slice(c+a[2])):(g[l]=t.slice(c),t=t.slice(0,c))):(c=o.exec(t))&&(g[l]=c[1],t=t.slice(0,c.index)),g[l]=g[l]||r&&a[3]&&e[l]||"",a[4]&&(g[l]=g[l].toLowerCase())}n&&(g.query=n(g.query)),r&&e.slashes&&g.pathname.charAt(0)!=="/"&&(g.pathname!==""||e.pathname!=="")&&(g.pathname=nae(g.pathname,e.pathname)),g.pathname.charAt(0)!=="/"&&qo(g.protocol)&&(g.pathname="/"+g.pathname),I2(g.port,g.protocol)||(g.host=g.hostname,g.port=""),g.username=g.password="",g.auth&&(a=g.auth.split(":"),g.username=a[0]||"",g.password=a[1]||""),g.origin=g.protocol!=="file:"&&qo(g.protocol)&&g.host?g.protocol+"//"+g.host:"null",g.href=g.toString()}function rae(t,e,n){var r=this;switch(t){case"query":typeof e=="string"&&e.length&&(e=(n||Pp.parse)(e)),r[t]=e;break;case"port":r[t]=e,I2(e,r.protocol)?e&&(r.host=r.hostname+":"+e):(r.host=r.hostname,r[t]="");break;case"hostname":r[t]=e,r.port&&(e+=":"+r.port),r.host=e;break;case"host":r[t]=e,/:\d+$/.test(e)?(e=e.split(":"),r.port=e.pop(),r.hostname=e.join(":")):(r.hostname=e,r.port="");break;case"protocol":r.protocol=e.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(e){var i=t==="pathname"?"/":"#";r[t]=e.charAt(0)!==i?i+e:e}else r[t]=e;break;default:r[t]=e}for(var o=0;o<J_.length;o++){var a=J_[o];a[4]&&(r[a[1]]=r[a[1]].toLowerCase())}return r.origin=r.protocol!=="file:"&&qo(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function iae(t){(!t||typeof t!="function")&&(t=Pp.stringify);var e,n=this,r=n.protocol;r&&r.charAt(r.length-1)!==":"&&(r+=":");var i=r+(n.slashes||qo(n.protocol)?"//":"");return n.username&&(i+=n.username,n.password&&(i+=":"+n.password),i+="@"),i+=n.host+n.pathname,e=typeof n.query=="object"?t(n.query):n.query,e&&(i+=e.charAt(0)!=="?"?"?"+e:e),n.hash&&(i+=n.hash),i}ao.prototype={set:rae,toString:iae};ao.extractProtocol=F2;ao.location=S2;ao.trimLeft=ew;ao.qs=Pp;var oae=ao;function ec(t){var e=new oae(t);e.host||(e.href=e.href);var n=e.pathname;n.charAt(0)!=="/"&&(n="/"+n);var r=e.host;return(e.port==="80"||e.port==="443")&&(r=e.hostname),{host:r,protocol:e.protocol,search:e.query,hash:e.hash,href:e.href,pathname:n,fullpath:n+(e.query||"")+(e.hash||"")}}var tw=function(){function t(){this.verbs={GET:new Is,PUT:new Is,POST:new Is,DELETE:new Is,PATCH:new Is,HEAD:new Is,OPTIONS:new Is}}return t}(),X_=function(){function t(){this.registries={}}return t.prototype.forURL=function(e){var n=ec(e).host,r=this.registries[n];return r===void 0&&(r=this.registries[n]=new tw),r.verbs},t}(),pr=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof pr<"u"&&pr,jr={searchParams:"URLSearchParams"in pr,iterable:"Symbol"in pr&&"iterator"in Symbol,blob:"FileReader"in pr&&"Blob"in pr&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in pr,arrayBuffer:"ArrayBuffer"in pr};function sae(t){return t&&DataView.prototype.isPrototypeOf(t)}jr.arrayBuffer&&(b2=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],T2=ArrayBuffer.isView||function(t){return t&&b2.indexOf(Object.prototype.toString.call(t))>-1});var b2,T2;function Ul(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function nw(t){return typeof t!="string"&&(t=String(t)),t}function rw(t){var e={next:function(){var n=t.shift();return{done:n===void 0,value:n}}};return jr.iterable&&(e[Symbol.iterator]=function(){return e}),e}function jn(t){this.map={},t instanceof jn?t.forEach(function(e,n){this.append(n,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}jn.prototype.append=function(t,e){t=Ul(t),e=nw(e);var n=this.map[t];this.map[t]=n?n+", "+e:e};jn.prototype.delete=function(t){delete this.map[Ul(t)]};jn.prototype.get=function(t){return t=Ul(t),this.has(t)?this.map[t]:null};jn.prototype.has=function(t){return this.map.hasOwnProperty(Ul(t))};jn.prototype.set=function(t,e){this.map[Ul(t)]=nw(e)};jn.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)};jn.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),rw(t)};jn.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),rw(t)};jn.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),rw(t)};jr.iterable&&(jn.prototype[Symbol.iterator]=jn.prototype.entries);function Y_(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function M2(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function aae(t){var e=new FileReader,n=M2(e);return e.readAsArrayBuffer(t),n}function uae(t){var e=new FileReader,n=M2(e);return e.readAsText(t),n}function cae(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function x2(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function A2(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:jr.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:jr.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:jr.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():jr.arrayBuffer&&jr.blob&&sae(t)?(this._bodyArrayBuffer=x2(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):jr.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||T2(t))?this._bodyArrayBuffer=x2(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):jr.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},jr.blob&&(this.blob=function(){var t=Y_(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=Y_(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(aae)}),this.text=function(){var t=Y_(this);if(t)return t;if(this._bodyBlob)return uae(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(cae(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},jr.formData&&(this.formData=function(){return this.text().then(fae)}),this.json=function(){return this.text().then(JSON.parse)},this}var lae=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function dae(t){var e=t.toUpperCase();return lae.indexOf(e)>-1?e:t}function Ts(t,e){if(!(this instanceof Ts))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var n=e.body;if(t instanceof Ts){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new jn(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!n&&t._bodyInit!=null&&(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new jn(e.headers)),this.method=dae(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Ts.prototype.clone=function(){return new Ts(this,{body:this._bodyInit})};function fae(t){var e=new FormData;return t.trim().split("&").forEach(function(n){if(n){var r=n.split("="),i=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(o))}}),e}function hae(t){var e=new jn,n=t.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(r){return r.indexOf(`
`)===0?r.substr(1,r.length):r}).forEach(function(r){var i=r.split(":"),o=i.shift().trim();if(o){var a=i.join(":").trim();e.append(o,a)}}),e}A2.call(Ts.prototype);function Bi(t,e){if(!(this instanceof Bi))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new jn(e.headers),this.url=e.url||"",this._initBody(t)}A2.call(Bi.prototype);Bi.prototype.clone=function(){return new Bi(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new jn(this.headers),url:this.url})};Bi.error=function(){var t=new Bi(null,{status:0,statusText:""});return t.type="error",t};var pae=[301,302,303,307,308];Bi.redirect=function(t,e){if(pae.indexOf(e)===-1)throw new RangeError("Invalid status code");return new Bi(null,{status:e,headers:{location:t}})};var Fs=pr.DOMException;try{new Fs}catch{Fs=function(e,n){this.message=e,this.name=n;var r=Error(e);this.stack=r.stack},Fs.prototype=Object.create(Error.prototype),Fs.prototype.constructor=Fs}function iw(t,e){return new Promise(function(n,r){var i=new Ts(t,e);if(i.signal&&i.signal.aborted)return r(new Fs("Aborted","AbortError"));var o=new XMLHttpRequest;function a(){o.abort()}o.onload=function(){var l={status:o.status,statusText:o.statusText,headers:hae(o.getAllResponseHeaders()||"")};l.url="responseURL"in o?o.responseURL:l.headers.get("X-Request-URL");var d="response"in o?o.response:o.responseText;setTimeout(function(){n(new Bi(d,l))},0)},o.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},o.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},o.onabort=function(){setTimeout(function(){r(new Fs("Aborted","AbortError"))},0)};function c(l){try{return l===""&&pr.location.href?pr.location.href:l}catch{return l}}o.open(i.method,c(i.url),!0),i.credentials==="include"?o.withCredentials=!0:i.credentials==="omit"&&(o.withCredentials=!1),"responseType"in o&&(jr.blob?o.responseType="blob":jr.arrayBuffer&&i.headers.get("Content-Type")&&i.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(o.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof jn)?Object.getOwnPropertyNames(e.headers).forEach(function(l){o.setRequestHeader(l,nw(e.headers[l]))}):i.headers.forEach(function(l,d){o.setRequestHeader(d,l)}),i.signal&&(i.signal.addEventListener("abort",a),o.onreadystatechange=function(){o.readyState===4&&i.signal.removeEventListener("abort",a)}),o.send(typeof i._bodyInit>"u"?null:i._bodyInit)})}iw.polyfill=!0;pr.fetch||(pr.fetch=iw,pr.Headers=jn,pr.Request=Ts,pr.Response=Bi);var D2=Object.freeze({__proto__:null,Headers:jn,Request:Ts,Response:Bi,get DOMException(){return Fs},fetch:iw});function gae(t,e){var n=["error","timeout","abort","readystatechange"],r=[],i=["readyState","responseText","response","responseXML","responseURL","status","statusText"],o=t._passthroughRequest=new e;o.open(t.method,t.url,t.async,t.username,t.password),t.responseType==="arraybuffer"&&(i=["readyState","response","status","statusText"],o.responseType=t.responseType),"onload"in o&&n.push("load"),t.async&&t.responseType!=="arraybuffer"&&(n.push("progress"),r.push("progress"));function a(y,_,C){for(var O=0;O<y.length;O++){var j=y[O];j in _&&(C[j]=_[j])}}function c(y,_,C){y.dispatchEvent(C),y["on"+_]&&y["on"+_](C)}function l(y){o["on"+y]=function(_){a(i,o,t),c(t,y,_)}}function d(y){o.upload&&t.upload&&t.upload["on"+y]&&(o.upload["on"+y]=function(_){c(t.upload,y,_)})}var p;for(p=0;p<n.length;p++)l(n[p]);for(p=0;p<r.length;p++)d(r[p]);t.async&&(o.timeout=t.timeout,o.withCredentials=t.withCredentials),!o.timeout&&o.timeout!==0&&(o.timeout=0);for(var g in t.requestHeaders)o.setRequestHeader(g,t.requestHeaders[g]);return o}function mae(t){function e(){$l.call(this)}return e.prototype=Object.create($l.prototype),e.prototype.constructor=e,e.prototype.send=function(){if(this.sendArguments=arguments,!t.pretender.running)throw new Error("You shut down a Pretender instance while there was a pending request. That request just tried to complete. Check to see if you accidentally shut down a pretender earlier than you intended to");$l.prototype.send.apply(this,arguments),t.pretender.checkPassthrough(this)?this.passthrough():t.pretender.handleRequest(this)},e.prototype.passthrough=function(){if(!this.sendArguments)throw new Error("You attempted to passthrough a FakeRequest that was never sent. Call `.send()` on the original request first");var r=gae(this,t.pretender._nativeXMLHttpRequest);return r.send.apply(r,this.sendArguments),r},e.prototype._passthroughCheck=function(n,r){return this._passthroughRequest?this._passthroughRequest[n].apply(this._passthroughRequest,r):$l.prototype[n].apply(this,r)},e.prototype.abort=function(){return this._passthroughCheck("abort",arguments)},e.prototype.getResponseHeader=function(){return this._passthroughCheck("getResponseHeader",arguments)},e.prototype.getAllResponseHeaders=function(){return this._passthroughCheck("getAllResponseHeaders",arguments)},t.pretender._nativeXMLHttpRequest.prototype._passthroughCheck&&console.warn("You created a second Pretender instance while there was already one running. Running two Pretender servers at once will lead to unexpected results and will be removed entirely in a future major version.Please call .shutdown() on your instances when you no longer need them to respond."),e}var Q_=function(){function t(){this.length=0}return t.prototype.push=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 0},t}();function N2(t,e,n){var r=0,i=t.requestBody;i&&(i instanceof FormData?i.forEach(function(o){o instanceof File?r+=o.size:r+=o.length}):r=i.byteLength||i.size||i.length||0),setTimeout(function(){if(!t.aborted&&!t.status){var o=new Date().getTime()-e.getTime(),a=n<=0?0:o/n*r;t.upload._progress(!0,a,r),t._progress(!0,a,r),N2(t,e,n)}else t.status&&(t.upload._progress(!0,r,r),t._progress(!0,r,r))},50)}function vae(t){return Object.prototype.toString.call(t)==="[object Array]"}var E2={};function Ia(t){return function(e,n,r){return this.register(t,e,n,r)}}var kp=function(){function t(){var e=this;this.hosts=new X_,this.handlers=[],this.get=Ia("GET"),this.post=Ia("POST"),this.put=Ia("PUT"),this.delete=Ia("DELETE"),this.patch=Ia("PATCH"),this.head=Ia("HEAD"),this.options=Ia("OPTIONS"),this.passthrough=E2;var n=arguments[arguments.length-1],r=typeof n=="object"?n:null,i=r&&r.trackRequests===!1;this.handledRequests=i?new Q_:[],this.passthroughRequests=i?new Q_:[],this.unhandledRequests=i?new Q_:[],this.requestReferences=[],this.forcePassthrough=r&&r.forcePassthrough===!0,this.disableUnhandled=r&&r.disableUnhandled===!0,this._nativeXMLHttpRequest=self.XMLHttpRequest,this.running=!1;var o={pretender:this};this.ctx=o,self.XMLHttpRequest=mae(o),this._fetchProps=D2?["fetch","Headers","Request","Response"]:[],this._fetchProps.forEach(function(l){e["_native"+l]=self[l],self[l]=D2[l]},this),this.running=!0;for(var a=r?arguments.length-1:arguments.length,c=0;c<a;c++)this.map(arguments[c])}return t.prototype.map=function(e){e.call(this)},t.prototype.register=function(e,n,r,i){if(!r)throw new Error("The function you tried passing to Pretender to handle "+e+" "+n+" is undefined or missing.");var o=r;o.numberOfCalls=0,o.async=i,this.handlers.push(o);var a=this.hosts.forURL(n)[e];return a.add([{path:ec(n).fullpath,handler:o}]),o},t.prototype.checkPassthrough=function(e){var n=e.method.toUpperCase(),r=ec(e.url).fullpath,i=this.hosts.forURL(e.url)[n].recognize(r),o=i&&i[0];return o&&o.handler===E2||this.forcePassthrough?(this.passthroughRequests.push(e),this.passthroughRequest(n,r,e),!0):!1},t.prototype.handleRequest=function(e){var n=e.method.toUpperCase(),r=e.url,i=this._handlerFor(n,r,e);if(i){i.handler.numberOfCalls++;var o=i.handler.async;this.handledRequests.push(e);var a=this,c=function(d){if(!vae(d)){var p="Remember to `return [status, headers, body];` in your route handler.";throw new Error("Nothing returned by handler for "+r+". "+p)}var g=d[0],y=a.prepareHeaders(d[1]),_=a.prepareBody(d[2],y);a.handleResponse(e,o,function(){e.respond(g,y,_),a.handledRequest(n,r,e)})};try{var l=i.handler(e);l&&typeof l.then=="function"?l.then(function(d){c(d)}):c(l)}catch(d){this.erroredRequest(n,r,e,d),this.resolve(e)}}else this.disableUnhandled||(this.unhandledRequests.push(e),this.unhandledRequest(n,r,e))},t.prototype.handleResponse=function(e,n,r){var i=typeof n=="function"?n():n;if(i=typeof i=="boolean"||typeof i=="number"?i:0,i===!1)r();else{var o=this;o.requestReferences.push({request:e,callback:r}),i!==!0&&(N2(e,new Date,i),setTimeout(function(){o.resolve(e)},i))}},t.prototype.resolve=function(e){for(var n=0,r=this.requestReferences.length;n<r;n++){var i=this.requestReferences[n];if(i.request===e){i.callback(),this.requestReferences.splice(n,1);break}}},t.prototype.requiresManualResolution=function(e,n){var r=this._handlerFor(e.toUpperCase(),n,{});if(!r)return!1;var i=r.handler.async;return typeof i=="function"?i()===!0:i===!0},t.prototype.prepareBody=function(e,n){return e},t.prototype.prepareHeaders=function(e){return e},t.prototype.handledRequest=function(e,n,r){},t.prototype.passthroughRequest=function(e,n,r){},t.prototype.unhandledRequest=function(e,n,r){throw new Error("Pretender intercepted "+e+" "+n+" but no handler was defined for this type of request")},t.prototype.erroredRequest=function(e,n,r,i){throw i.message="Pretender intercepted "+e+" "+n+" but encountered an error: "+i.message,i},t.prototype.shutdown=function(){var e=this;self.XMLHttpRequest=this._nativeXMLHttpRequest,this._fetchProps.forEach(function(n){self[n]=e["_native"+n]},this),this.ctx.pretender=void 0,this.running=!1},t.prototype._handlerFor=function(e,n,r){var i=this.hosts.forURL(n)[e],o=i.recognize(ec(n).fullpath),a=o?o[0]:null;return a&&(r.params=a.params,r.queryParams=o.queryParams),a},t.parseURL=ec,t.Hosts=X_,t.Registry=tw,t}();kp.parseURL=ec;kp.Hosts=X_;kp.Registry=tw;var R2=kp;typeof global<"u"&&global.__pretenderNodePolyfill&&(delete global.self,delete global.__pretenderNodePolyfill);function yae(t){for(var e=(0,V2.default)((0,Qp.default)(t)),n=e.length,r=new Array(n),i={},o=n,a=function c(l,d,p){if(p.indexOf(l)>=0)throw new Error("Cyclic dependency in properties ".concat(JSON.stringify(p)));if(!i[d]){i[d]=!0;var g=t.filter(function(O){return O&&O[0]===l});if(d=g.length,d){var y=p.concat(l);do{var _=g[--d],C=_[1];C&&c(C,e.indexOf(C),y)}while(d)}r[--n]=l}};o--;)i[o]||a(e[o],o,[]);return r.reverse()}var Sa=function t(){this.build=function(e){var n={},r=Object.assign({},this.attrs);delete r.afterCreate,Object.keys(r).forEach(o=>{t.isTrait.call(this,o)&&delete r[o]});var i=_ae(r,e);return i.forEach(function(o){var a,c;a=function(p){return(0,j2.default)(p,c)},c=d=>Array.isArray(d)?d.map(c):(0,rc.default)(d)?a(d):(0,ql.default)(d)?d.call(r,e):d;var l=r[o];(0,ql.default)(l)?n[o]=l.call(n,e):n[o]=c(l)}),n}};Sa.extend=function(t){var e=Object.assign({},this.attrs,t),n=function(){this.attrs=e,Sa.call(this)};return n.extend=Sa.extend,n.extractAfterCreateCallbacks=Sa.extractAfterCreateCallbacks,n.isTrait=Sa.isTrait,n.attrs=e,n};Sa.extractAfterCreateCallbacks=function(){var{traits:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=[],n=this.attrs||{},r;return n.afterCreate&&e.push(n.afterCreate),Array.isArray(t)?r=t:r=Object.keys(n),r.filter(i=>this.isTrait(i)&&n[i].extension.afterCreate).forEach(i=>{e.push(n[i].extension.afterCreate)}),e};Sa.isTrait=function(t){var{attrs:e}=this;return(0,rc.default)(e[t])&&e[t].__isTrait__===!0};function _ae(t,e){var n=function(){},r=new n,i=[],o;return Object.keys(t).forEach(function(a){var c;Object.defineProperty(r.constructor.prototype,a,{get(){return i.push([o,a]),c},set(l){c=l},enumerable:!1,configurable:!0})}),Object.keys(t).forEach(function(a){var c=t[a];typeof c!="function"&&(r[a]=c)}),Object.keys(t).forEach(function(a){var c=t[a];o=a,typeof c=="function"&&(r[a]=c.call(r,e)),i.push([a])}),yae(i)}function wae(t){return(+t).toString()===t.toString()}var gw=class{constructor(){this._nextId=1,this._ids={}}get(){return this._nextId}set(e){if(this._ids[e])throw new Error("Attempting to use the ID ".concat(e,", but it's already been used"));wae(e)&&+e>=this._nextId&&(this._nextId=+e+1),this._ids[e]=!0}inc(){var e=this.get()+1;return this._nextId=e,e}fetch(){var e=this.get();return this._ids[e]=!0,this.inc(),e.toString()}reset(){this._nextId=1,this._ids={}}};var Cae=console.warn,rr=class{constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.code=e,this.headers=n,e===204?r!==void 0&&r!==""?Cae(`Mirage: One of your route handlers is returning a custom
          204 Response that has data, but this is a violation of the HTTP spec
          and could lead to unexpected behavior. 204 responses should have no
          content (an empty string) as their body.`):this.data="":(r===void 0||r==="")&&!Object.prototype.hasOwnProperty.call(this.headers,"Content-Type")?this.data={}:this.data=r,e!==204&&!Object.prototype.hasOwnProperty.call(this.headers,"Content-Type")&&(this.headers["Content-Type"]="application/json")}toRackResponse(){return[this.code,this.headers,this.data]}};function O2(t,e,n,r,i,o,a){try{var c=t[o](a),l=c.value}catch(d){return void n(d)}c.done?e(l):Promise.resolve(l).then(r,i)}function bae(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(l){O2(o,r,i,a,c,"next",l)}function c(l){O2(o,r,i,a,c,"throw",l)}a(void 0)})}}function Ms(t,e,n){return(e=Eae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(r){Ms(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eae(t){var e=Dae(t,"string");return typeof e=="symbol"?e:e+""}var ow={},sw={},aw={},uw={};function Ge(t){if(typeof ow[t]!="string"){var e=ZN(uo(t),!1),n=e.split("/").map(B2.default).join("/");ow[t]=n}return ow[t]}function tn(t){if(typeof sw[t]!="string"){var e=QN(uo(t));sw[t]=e}return sw[t]}function uo(t){if(typeof aw[t]!="string"){var e=YN(t);aw[t]=e}return aw[t]}function Up(t){if(typeof uw[t]!="string"){var e=Ip(t);uw[t]=e}return uw[t]}function Iae(t){return(0,rc.default)(t)&&t.__isAssociation__===!0}var k2=["description","fileName","lineNumber","message","name","number","stack"];function Be(t,e){if(typeof t=="string"&&!e)throw new qp(t);if(!t)throw new qp(e.replace(/^ +/gm,"")||"Assertion failed")}function qp(t,e){var n=Error(t);e&&(n.stack=e);for(var r=0;r<k2.length;r++){var i=k2[r];["description","message","stack"].indexOf(i)>-1?this[i]="Mirage: ".concat(n[i]):this[i]=n[i]}}qp.prototype=Object.create(Error.prototype);var Ma=class{constructor(e,n){this.modelName=void 0,typeof e=="object"?(this.modelName=void 0,this.opts=e):(this.modelName=e?tn(e):"",this.opts=n||{}),this.name="",this.ownerModelName=""}setSchema(e){this.schema=e}isReflexive(){var e=!!(this.modelName===this.ownerModelName&&this.opts.inverse),n=this.opts.inverse===void 0&&this.ownerModelName===this.modelName;return e||n}get isPolymorphic(){return this.opts.polymorphic}get type(){throw new Error("Subclasses of Association must implement a getter for type")}get foreignKey(){return this.getForeignKey()}get identifier(){throw new Error("Subclasses of Association must implement a getter for identifier")}},tc={},Ta=class extends Ma{get identifier(){if(typeof tc[this.name]!="string"){var e="".concat(Ge(this.name),"Id");tc[this.name]=e}return tc[this.name]}get type(){return"belongsTo"}getForeignKeyArray(){return[Ge(this.ownerModelName),this.getForeignKey()]}getForeignKey(){if(typeof tc[this.name]!="string"){var e="".concat(Ge(this.name),"Id");tc[this.name]=e}return tc[this.name]}addMethodsToModelClass(e,n){var r=e.prototype,i=this,o=this.getForeignKey(),a={[n]:this};r.belongsToAssociations=Object.assign(r.belongsToAssociations,a),Object.keys(r.belongsToAssociations).forEach(c=>{var l=r.belongsToAssociations[c];r.belongsToAssociationFks[l.getForeignKey()]=l}),this.schema.addDependentAssociation(this,this.modelName),r.associationKeys.add(n),r.associationIdKeys.add(o),Object.defineProperty(r,o,{get(){this._tempAssociations=this._tempAssociations||{};var c=this._tempAssociations[n],l;return c===null?l=null:i.isPolymorphic?c?l={id:c.id,type:c.modelName}:l=this.attrs[o]:c?l=c.id:l=this.attrs[o],l},set(c){var l;c===null?l=null:c!==void 0&&(i.isPolymorphic?(Be(typeof c=="object","You're setting an ID on the polymorphic association '".concat(i.name,"' but you didn't pass in an object. Polymorphic IDs need to be in the form { type, id }.")),l=i.schema[i.schema.toCollectionName(c.type)].find(c.id)):(l=i.schema[i.schema.toCollectionName(i.modelName)].find(c),Be(l,"Couldn't find ".concat(i.modelName," with id = ").concat(c)))),this[n]=l}}),Object.defineProperty(r,n,{get(){this._tempAssociations=this._tempAssociations||{};var c=this._tempAssociations[n],l=this[o],d=null;return c?d=c:l!==null&&(i.isPolymorphic?d=i.schema[i.schema.toCollectionName(l.type)].find(l.id):d=i.schema[i.schema.toCollectionName(i.modelName)].find(l)),d},set(c){if(this._tempAssociations=this._tempAssociations||{},this._tempAssociations[n]=c,c&&c.hasInverseFor(i)){var l=c.inverseFor(i);c.associate(this,l)}}}),r["new".concat(Up(n))]=function(){var c,l;i.isPolymorphic?(c=arguments.length<=0?void 0:arguments[0],l=arguments.length<=1?void 0:arguments[1]):(c=i.modelName,l=arguments.length<=0?void 0:arguments[0]);var d=i.schema[i.schema.toCollectionName(c)].new(l);return this[n]=d,d},r["create".concat(Up(n))]=function(){var c,l;i.isPolymorphic?(c=arguments.length<=0?void 0:arguments[0],l=arguments.length<=1?void 0:arguments[1]):(c=i.modelName,l=arguments.length<=0?void 0:arguments[0]);var d=i.schema[i.schema.toCollectionName(c)].create(l);return this[n]=d,this.save(),d.reload()}}disassociateAllDependentsFromTarget(e){var n=this.ownerModelName,r;this.isPolymorphic?r={type:e.modelName,id:e.id}:r=e.id;var i=this.schema[this.schema.toCollectionName(n)].where(o=>{var a=o[this.getForeignKey()];return a?typeof a=="object"?a.type===r.type&&a.id===r.id:a===r:!1});i.models.forEach(o=>{o.disassociate(e,this),o.save()})}};function As(t){return Array.isArray(t)?t.map(As):Object.assign({},t)}var mw=class{constructor(e,n,r){this.name=e,this._records=[],this.identityManager=new r,n&&this.insert(n)}all(){return As(this._records)}insert(e){return Array.isArray(e)?(0,$2.default)(e,n=>this._insertRecord(n)):this._insertRecord(e)}find(e){if(Array.isArray(e)){var n=this._findRecords(e).filter(Boolean).map(As);return n}else{var r=this._findRecord(e);return r?As(r):null}}findBy(e){var n=this._findRecordBy(e);return n?As(n):null}where(e){return this._findRecordsWhere(e).map(As)}firstOrCreate(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.where(e),[i]=r;if(i)return i;var o=Object.assign(n,e),a=this.insert(o);return a}update(e,n){var r;if(typeof n>"u"){n=e;var i=[];return this._records.forEach(d=>{var p=Object.assign({},d);this._updateRecord(d,n),(0,Vp.default)(p,d)||i.push(d)}),i}else if(typeof e=="number"||typeof e=="string"){var o=e,a=this._findRecord(o);return this._updateRecord(a,n),a}else if(Array.isArray(e)){var c=e;return r=this._findRecords(c),r.forEach(d=>{this._updateRecord(d,n)}),r}else if(typeof e=="object"){var l=e;return r=this._findRecordsWhere(l),r.forEach(d=>{this._updateRecord(d,n)}),r}}remove(e){var n;if(typeof e>"u")this._records=[],this.identityManager.reset();else if(typeof e=="number"||typeof e=="string"){var r=this._findRecord(e),i=this._records.indexOf(r);this._records.splice(i,1)}else Array.isArray(e)?(n=this._findRecords(e),n.forEach(o=>{var a=this._records.indexOf(o);this._records.splice(a,1)})):typeof e=="object"&&(n=this._findRecordsWhere(e),n.forEach(o=>{var a=this._records.indexOf(o);this._records.splice(a,1)}))}_findRecord(e){return e=e.toString(),this._records.find(n=>n.id===e)}_findRecordBy(e){return this._findRecordsWhere(e)[0]}_findRecords(e){return e.map(this._findRecord,this)}_findRecordsWhere(e){var n=this._records;function r(o){var a=Object.keys(e);return a.every(function(c){return String(o[c])===String(e[c])})}var i=typeof e=="object"?r:e;return n.filter(i)}_insertRecord(e){var n=As(e);return n&&(n.id===void 0||n.id===null)?n.id=this.identityManager.fetch(n):(n.id=n.id.toString(),this.identityManager.set(n.id)),this._records.push(n),As(n)}_updateRecord(e,n){var r=n&&Object.prototype.hasOwnProperty.call(n,"id")?n.id.toString():null,i=e.id;if(r&&i!==r)throw new Error("Updating the ID of a record is not permitted");for(var o in n)o!=="id"&&(e[o]=n[o])}},Hp=class{constructor(e,n){this._collections=[],this.registerIdentityManagers(n),e&&this.loadData(e)}loadData(e){for(var n in e)this.createCollection(n,(0,U2.default)(e[n]))}dump(){return this._collections.reduce((e,n)=>(e[n.name]=n.all(),e),{})}createCollection(e,n){if(this[e])n&&this[e].insert(n);else{var r=this.identityManagerFor(e),i=new mw(e,n,r);Object.defineProperty(this,e,{get(){var o=i.all();return["insert","find","findBy","where","update","remove","firstOrCreate"].forEach(function(a){o[a]=function(){return i[a](...arguments)}}),o}}),Object.defineProperty(this,"_".concat(e),{get(){var o=[];return["insert","find","findBy","where","update","remove","firstOrCreate"].forEach(function(a){o[a]=function(){return i[a](...arguments)}}),o}}),this._collections.push(i)}return this}createCollections(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(i=>this.createCollection(i))}emptyData(){this._collections.forEach(e=>e.remove())}identityManagerFor(e){return this._identityManagers[this._container.inflector.singularize(e)]||this._identityManagers.application||gw}registerIdentityManagers(e){this._identityManagers=e||{}}},xi=class t{constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];Be(e&&typeof e=="string","You must pass a `modelName` into a Collection"),this.modelName=e,this.models=n}get length(){return this.models.length}update(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,Ho.default)(this.models,"update",...n),this}save(){return(0,Ho.default)(this.models,"save"),this}reload(){return(0,Ho.default)(this.models,"reload"),this}destroy(){return(0,Ho.default)(this.models,"destroy"),this}add(e){return this.models.push(e),this}remove(e){var n=this.models.find(i=>i.toString()===e.toString());if(n){var r=this.models.indexOf(n);this.models.splice(r,1)}return this}includes(e){return this.models.some(n=>n.toString()===e.toString())}filter(e){var n=this.models.filter(e);return new t(this.modelName,n)}sort(e){var n=this.models.concat().sort(e);return new t(this.modelName,n)}slice(){var e=this.models.slice(...arguments);return new t(this.modelName,e)}mergeCollection(e){return this.models=this.models.concat(e.models),this}toString(){return"collection:".concat(this.modelName,"(").concat(this.models.map(e=>e.id).join(","),")")}},Dr=class t{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.models=e}get length(){return this.models.length}update(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,Ho.default)(this.models,"update",...n),this}destroy(){return(0,Ho.default)(this.models,"destroy"),this}save(){return(0,Ho.default)(this.models,"save"),this}reload(){return(0,Ho.default)(this.models,"reload"),this}add(e){return this.models.push(e),this}remove(e){var n=this.models.find(i=>(0,Vp.default)(i.attrs,e.attrs));if(n){var r=this.models.indexOf(n);this.models.splice(r,1)}return this}includes(e){return this.models.some(n=>(0,Vp.default)(n.attrs,e.attrs))}filter(e){var n=this.models.filter(e);return new t(n)}sort(e){var n=this.models.concat().sort(e);return new t(n)}slice(){var e=this.models.slice(...arguments);return new t(e)}mergeCollection(e){return this.models=this.models.concat(e.models),this}toString(){return"collection:".concat(this.modelName,"(").concat(this.models.map(e=>e.id).join(","),")")}},nc={},Fa=class extends Ma{get identifier(){if(typeof nc[this.name]!="string"){var e="".concat(Ge(this._container.inflector.singularize(this.name)),"Ids");nc[this.name]=e}return nc[this.name]}get type(){return"hasMany"}getForeignKeyArray(){return[Ge(this.ownerModelName),this.getForeignKey()]}getForeignKey(){if(typeof nc[this.name]!="string"){var e="".concat(this._container.inflector.singularize(Ge(this.name)),"Ids");nc[this.name]=e}return nc[this.name]}addMethodsToModelClass(e,n){var r=e.prototype,i=this,o=this.getForeignKey(),a={[n]:this};r.hasManyAssociations=Object.assign(r.hasManyAssociations,a),Object.keys(r.hasManyAssociations).forEach(c=>{var l=r.hasManyAssociations[c];r.hasManyAssociationFks[l.getForeignKey()]=l}),this.schema.addDependentAssociation(this,this.modelName),r.associationKeys.add(n),r.associationIdKeys.add(o),Object.defineProperty(r,o,{get(){this._tempAssociations=this._tempAssociations||{};var c=this._tempAssociations[n],l=[];return c?i.isPolymorphic?l=c.models.map(d=>({type:d.modelName,id:d.id})):l=c.models.map(d=>d.id):l=this.attrs[o]||[],l},set(c){var l;if(c===null)l=[];else if(c!==void 0)if(Be(Array.isArray(c),"You must pass an array in when setting ".concat(o," on ").concat(this)),i.isPolymorphic){Be(c.every(p=>typeof p=="object"&&typeof p.type<"u"&&typeof p.id<"u"),"You must pass in an array of polymorphic identifiers (objects of shape { type, id }) when setting ".concat(o," on ").concat(this));var d=c.map(p=>{var{type:g,id:y}=p;return i.schema[i.schema.toCollectionName(g)].find(y)});l=new Dr(d)}else l=i.schema[i.schema.toCollectionName(i.modelName)].find(c);this[n]=l}}),Object.defineProperty(r,n,{get(){this._tempAssociations=this._tempAssociations||{};var c=null;if(this._tempAssociations[n])c=this._tempAssociations[n];else{if(i.isPolymorphic)if(this[o]){var l=this[o],d=l.map(p=>{var{type:g,id:y}=p;return i.schema[i.schema.toCollectionName(g)].find(y)});c=new Dr(d)}else c=new Dr(i.modelName);else this[o]?c=i.schema[i.schema.toCollectionName(i.modelName)].find(this[o]):c=new xi(i.modelName);this._tempAssociations[n]=c}return c},set(c){(c instanceof xi||c instanceof Dr)&&(c=c.models),c=c?(0,Hl.default)(c):[],this._tempAssociations=this._tempAssociations||{};var l;i.isPolymorphic?l=new Dr(c):l=new xi(i.modelName,c),this._tempAssociations[n]=l,c.forEach(d=>{if(d.hasInverseFor(i)){var p=d.inverseFor(i);d.associate(this,p)}})}}),r["new".concat(Up(Ge(this._container.inflector.singularize(i.name))))]=function(){var c,l;i.isPolymorphic?(c=arguments.length<=0?void 0:arguments[0],l=arguments.length<=1?void 0:arguments[1]):(c=i.modelName,l=arguments.length<=0?void 0:arguments[0]);var d=i.schema[i.schema.toCollectionName(c)].new(l),p=this[n].models;return p.push(d),this[n]=p,d},r["create".concat(Up(Ge(this._container.inflector.singularize(i.name))))]=function(){var c,l;i.isPolymorphic?(c=arguments.length<=0?void 0:arguments[0],l=arguments.length<=1?void 0:arguments[1]):(c=i.modelName,l=arguments.length<=0?void 0:arguments[0]);var d=i.schema[i.schema.toCollectionName(c)].create(l),p=this[n].models;return p.push(d),this[n]=p,this.save(),d.reload()}}disassociateAllDependentsFromTarget(e){var n=this.ownerModelName,r;this.isPolymorphic?r={type:e.modelName,id:e.id}:r=e.id;var i=this.schema[this.schema.toCollectionName(n)].where(o=>{var a=o[this.getForeignKey()];return a&&a.find(c=>typeof c=="object"?c.type===r.type&&c.id===r.id:c===r)});i.models.forEach(o=>{o.disassociate(e,this),o.save()})}},cw={},ic=class{getModelClassFromPath(e){if(e){if(typeof cw[e]!="string"){for(var n=e.split("/"),r,i=n.length-1;i>=0;i--){var o=n[i];if(o.length&&o[0]!==":"){r=o;break}}cw[e]=tn(Ge(this._container.inflector.singularize(r)))}return cw[e]}}_getIdForRequest(e,n){var r;return e&&e.params&&e.params.id?r=e.params.id:n&&n.data&&n.data.id&&(r=n.data.id),r}_getJsonApiDocForRequest(e,n){var r;return e&&e.requestBody&&(r=JSON.parse(e.requestBody)),this.serializerOrRegistry.normalize(r,n)}_getAttrsForRequest(e,n){var r=this._getJsonApiDocForRequest(e,n),i=this._getIdForRequest(e,r),o={};return Be(r.data&&(r.data.attributes||r.data.type||r.data.relationships),"You're using a shorthand or #normalizedRequestAttrs, but your serializer's normalize function did not return a valid JSON:API document. Consult the docs for the normalize hook on the Serializer class."),r.data.attributes&&(o=Object.keys(r.data.attributes).reduce((a,c)=>(a[Ge(c)]=r.data.attributes[c],a),{})),r.data.relationships&&Object.keys(r.data.relationships).forEach(a=>{var c=r.data.relationships[a],l=this.schema.modelClassFor(n),d=l.associationFor(Ge(a)),p;Be(d,"You're passing the relationship '".concat(a,"' to the '").concat(n,"' model via a ").concat(e.method," to '").concat(e.url,"', but you did not define the '").concat(a,"' association on the '").concat(n,"' model.")),d.isPolymorphic?p=c.data:d instanceof Fa?p=c.data&&c.data.map(g=>g.id):p=c.data&&c.data.id,o[d.identifier]=p},{}),i&&(o.id=i),o}_getAttrsForFormRequest(e){var{requestBody:n}=e,r,i=[];return Be(n&&typeof n=="string","You're using the helper method #normalizedFormData, but the request body is empty or not a valid url encoded string."),i=n.split("&"),r=i.reduce((o,a)=>{var[c,l]=a.split("=");return o[c]=decodeURIComponent(l.replace(/\+/g," ")),o},{}),r}},zp=class extends ic{constructor(e,n,r,i,o){super(o),this.schema=e,this.serializerOrRegistry=n,this.userFunction=r,this.path=i}handle(e){return this.userFunction(this.schema,e)}setRequest(e){this.request=e}serialize(e,n){var r;return n?r=this.serializerOrRegistry.serializerFor(n,{explicit:!0}):r=this.serializerOrRegistry,r.serialize(e,this.request)}normalizedRequestAttrs(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,{path:n,request:r,request:{requestHeaders:i}}=this,o,a={};for(var c in i)a[c.toLowerCase()]=i[c];return/x-www-form-urlencoded/.test(a["content-type"])?o=this._getAttrsForFormRequest(r):(e?Be(tn(e)===e,"You called normalizedRequestAttrs('".concat(e,"'), but normalizedRequestAttrs was intended to be used with the dasherized version of the model type. Please change this to normalizedRequestAttrs('").concat(tn(e),"').")):e=this.getModelClassFromPath(n),Be(this.schema.hasModelForModelName(e),"You're using a shorthand or the #normalizedRequestAttrs helper but the detected model of '".concat(e,"' does not exist. You might need to pass in the correct modelName as the first argument to #normalizedRequestAttrs.")),o=this._getAttrsForRequest(r,e)),o}},vw=class{constructor(e,n,r){this.schema=e,this.serializerOrRegistry=n,this.object=r}handle(){return this.object}},Aa=class extends ic{constructor(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};super(),r=r||this.getModelClassFromPath(i),this.schema=e,this.serializerOrRegistry=n,this.shorthand=r,this.options=o;var a=Array.isArray(r)?"array":typeof r;if(a==="string"){var c=this.schema[this.schema.toCollectionName(r)];this.handle=d=>this.handleStringShorthand(d,c)}else if(a==="array"){var l=r.map(d=>this.schema[this.schema.toCollectionName(d)]);this.handle=d=>this.handleArrayShorthand(d,l)}}},yw=class extends Aa{handleStringShorthand(e,n){var r=this.shorthand,i=Ge(r);Be(n,"The route handler for ".concat(e.url," is trying to access the ").concat(i," model, but that model doesn't exist."));var o=this._getIdForRequest(e);if(o){var a=n.find(o);return a||new rr(404)}else if(this.options.coalesce){var c=this.serializerOrRegistry.getCoalescedIds(e,i);if(c)return n.find(c)}return n.all()}handleArrayShorthand(e,n){var r=this.shorthand,i=this._getIdForRequest(e);return Be(!i||this._container.inflector.singularize(r[0])!==r[0],`It looks like you're using the "Single record with
      related records" version of the array shorthand, in addition to opting
      in to the model layer. This shorthand was made when there was no
      serializer layer. Now that you're using models, please ensure your
      relationships are defined, and create a serializer for the parent
      model, adding the relationships there.`),n.map(o=>o.all())}},_w=class extends Aa{handleStringShorthand(e,n){var r=this.shorthand,i=Ge(r);Be(n,"The route handler for ".concat(e.url," is trying to access the ").concat(i," model, but that model doesn't exist."));var o=this._getAttrsForRequest(e,n.camelizedModelName);return n.create(o)}},ww=class extends Aa{handleStringShorthand(e,n){var r=this.shorthand,i=Ge(r);Be(n,"The route handler for ".concat(e.url," is trying to access the ").concat(i," model, but that model doesn't exist."));var o=this._getIdForRequest(e),a=n.find(o);if(!a)return new rr(404);var c=this._getAttrsForRequest(e,n.camelizedModelName);return a.update(c)}},Cw=class extends Aa{handleStringShorthand(e,n){var r=this.shorthand,i=Ge(r);Be(n,"The route handler for ".concat(e.url," is trying to access the ").concat(i," model, but that model doesn't exist."));var o=this._getIdForRequest(e),a=n.find(o);if(!a)return new rr(404);a.destroy()}handleArrayShorthand(e,n){var r=this._getIdForRequest(e),i=n[0].find(r),o=n.slice(1).map(a=>this._container.inflector.pluralize(a.camelizedModelName));o.forEach(a=>i[a].destroy()),i.destroy()}},bw=class extends Aa{handleStringShorthand(e,n){var r=this.shorthand,i=Ge(r);Be(n,"The route handler for ".concat(e.url," is trying to access the ").concat(i," model, but that model doesn't exist."));var o=this._getIdForRequest(e);if(o){var a=n.find(o);return a?new rr(204):new rr(404)}else if(this.options.coalesce&&e.queryParams&&e.queryParams.ids){var c=n.find(e.queryParams.ids);return c?new rr(204):new rr(404)}else return new rr(204)}},Sae={get:200,put:204,post:201,delete:204};function Fae(t){var{verb:e,schema:n,serializerOrRegistry:r,path:i,rawHandler:o,options:a,middleware:c}=t,l,d=[n,r,o,i,a,c],p=typeof o;return p==="function"?l=new zp(...d):p==="object"&&o?l=new vw(...d):e==="get"?l=new yw(...d):e==="post"?l=new _w(...d):e==="put"||e==="patch"?l=new ww(...d):e==="delete"?l=new Cw(...d):e==="head"&&(l=new bw(...d)),l}var Gp=class{constructor(e){var{schema:n,verb:r,rawHandler:i,customizedCode:o,options:a,path:c,serializerOrRegistry:l,middleware:d}=e;this.verb=r,this.customizedCode=o,this.serializerOrRegistry=l,this.middleware=d||[],this.handler=Fae({verb:r,schema:n,path:c,serializerOrRegistry:l,rawHandler:i,options:a})}handle(e){return this._getMirageResponseForRequest(e,this.middleware).then(n=>this.serialize(n,e)).then(n=>n.toRackResponse())}_getMirageResponseForRequest(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r;try{this.handler instanceof zp&&this.handler.setRequest(e),r=this.handleWithMiddleware(e,[...n,(o,a)=>this.handler.handle(a)])}catch(o){if(o instanceof qp)r=new rr(500,{},o);else{var i=o.message||o;r=new rr(500,{},{message:i,stack:"Mirage: Your ".concat(e.method," handler for the url ").concat(e.url,` threw an error:

`).concat(o.stack||o)})}}return this._toMirageResponse(r)}handleWithMiddleware(e,n){var r=this,[i,...o]=n;return i(this.schema,e,function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e;return r.handleWithMiddleware(a,o)})}_toMirageResponse(e){var n;return new Promise((r,i)=>{Promise.resolve(e).then(o=>{if(o instanceof rr)n=e;else{var a=this._getCodeForResponse(o);n=new rr(a,{},o)}r(n)}).catch(i)})}_getCodeForResponse(e){var n;return this.customizedCode?n=this.customizedCode:(n=Sae[this.verb],n===204&&e!==void 0&&e!==""&&(n=200)),n}serialize(e,n){return e.data=this.serializerOrRegistry.serialize(e.data,n),e}};function G2(t,e){class n extends this{constructor(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];super(...o),t&&(0,q2.default)(t,"constructor")&&t.constructor.call(this,...o)}}return Object.assign(n,this,e),t&&Object.assign(n.prototype,t),n}var W2=(()=>{class t{constructor(n,r,i,o){return Be(n,"A model requires a schema"),Be(r,"A model requires a modelName"),this._schema=n,this.modelName=r,this.fks=o||[],this.attrs={},i=i||{},this.fks.forEach(a=>{this.attrs[a]=i[a]!==void 0?i[a]:null}),Object.keys(i).forEach(a=>{var c=i[a];this._validateAttr(a,c),this._setupAttr(a,c),this._setupRelationship(a,c)}),this}save(){var n=this._schema.toInternalCollectionName(this.modelName);return this.isNew()?(this.attrs=this._schema.db[n].insert(this.attrs),this._definePlainAttribute("id")):(this._schema.isSaving[this.toString()]=!0,this._schema.db[n].update(this.attrs.id,this.attrs)),this._saveAssociations(),this._schema.isSaving[this.toString()]=!1,this}update(n,r){var i;return n==null?this:(typeof n=="object"?i=n:(i={})[n]=r,Object.keys(i).forEach(function(o){!this.associationKeys.has(o)&&!this.associationIdKeys.has(o)&&this._definePlainAttribute(o),this[o]=i[o]},this),this.save(),this)}destroy(){if(this.isSaved()){this._disassociateFromDependents();var n=this._schema.toInternalCollectionName(this.modelName);this._schema.db[n].remove(this.attrs.id)}}isNew(){var n=!1,r=this.attrs.id!==void 0&&this.attrs.id!==null;if(r){var i=this._schema.toInternalCollectionName(this.modelName),o=this._schema.db[i].find(this.attrs.id);o&&(n=!0)}return!n}isSaved(){return!this.isNew()}reload(){if(this.id){var n=this._schema.toInternalCollectionName(this.modelName),r=this._schema.db[n].find(this.id);Object.keys(r).filter(function(i){return i!=="id"}).forEach(function(i){this.attrs[i]=r[i]},this)}return this._tempAssociations={},this}toJSON(){return xae({},this.attrs)}get associations(){return this._schema.associationsFor(this.modelName)}associationFor(n){return this.associations[n]}inverseFor(n){return this._explicitInverseFor(n)||this._implicitInverseFor(n)}_explicitInverseFor(n){this._checkForMultipleExplicitInverses(n);var r=this._schema.associationsFor(this.modelName),i=n.opts.inverse,o=i?r[i]:null,a=o&&o.isPolymorphic,c=o&&o.modelName===n.ownerModelName,l=o&&o.opts.inverse;return l&&o.opts.inverse!==n.name&&Be(!1,"You specified an inverse of ".concat(i," for ").concat(n.name,", but it does not match ").concat(o.modelName," ").concat(o.name,"'s inverse")),a||c?o:null}_checkForMultipleExplicitInverses(n){var r=this._schema.associationsFor(this.modelName),i=Object.keys(r).filter(o=>{var a=r[o],c=n.ownerModelName===a.modelName,l=n.name===a.opts.inverse;return c&&l});Be(i.length<=1,"The ".concat(this.modelName," model has defined multiple explicit inverse associations for the ").concat(n.ownerModelName,".").concat(n.name," association."))}_implicitInverseFor(n){var r=this._schema.associationsFor(this.modelName),i=n.ownerModelName;return(0,Lp.default)(r).filter(o=>o.modelName===i).reduce((o,a)=>{var c=a.opts.inverse,l=c===void 0,d=c===n.name,p=l||d;return p&&(Be(!o,"The ".concat(this.modelName," model has multiple possible inverse associations for the ").concat(n.ownerModelName,".").concat(n.name," association.")),o=a),o},null)}hasInverseFor(n){return!!this.inverseFor(n)}alreadyAssociatedWith(n,r){var i=this[r.name];if(i&&n)return i instanceof t?i.isSaved()&&n.isSaved()?i.toString()===n.toString():i===n:i.includes(n)}associate(n,r){if(!this.alreadyAssociatedWith(n,r)){var{name:i}=r;r instanceof Fa?this[i].includes(n)||this[i].add(n):this[i]=n}}disassociate(n,r){var i=r.getForeignKey();if(r instanceof Fa){var o;if(r.isPolymorphic){var a=this[i].find(c=>{var{type:l,id:d}=c;return l===n.modelName&&d===n.id});o=a&&this[i].indexOf(a)}else o=this[i].map(c=>c.toString()).indexOf(n.id.toString());o>-1&&this.attrs[i].splice(o,1)}else this.attrs[i]=null}get isSaving(){return this._schema.isSaving[this.toString()]}_setupAttr(n,r){var i=this.associationKeys.has(n)||this.associationIdKeys.has(n);i||(this.attrs[n]=r,this._definePlainAttribute(n))}_definePlainAttribute(n){var r=Object.getOwnPropertyDescriptor(this,n);r&&r.get||(Object.prototype.hasOwnProperty.call(this.attrs,n)||(this.attrs[n]=null),Object.defineProperty(this,n,{get(){return this.attrs[n]},set(i){this.attrs[n]=i}}))}_setupRelationship(n,r){var i=this.associationIdKeys.has(n)||this.fks.includes(n),o=this.associationKeys.has(n);i&&(r!=null&&this._validateForeignKeyExistsInDatabase(n,r),this.attrs[n]=r),o&&(this[n]=r)}_validateAttr(n,r){if(this.associationKeys.has(n)){var i=this.associationFor(n),o=r===null;if(i instanceof Fa){var a=r instanceof xi||r instanceof Dr,c=Array.isArray(r)&&r.every(_=>_ instanceof t);Be(a||c||o,"You're trying to create a ".concat(this.modelName,' model and you passed in "').concat(r,'" under the ').concat(n," key, but that key is a HasMany relationship. You must pass in a Collection, PolymorphicCollection, array of Models, or null."))}else i instanceof Ta&&Be(r instanceof t||o,"You're trying to create a ".concat(this.modelName,' model and you passed in "').concat(r,'" under the ').concat(n," key, but that key is a BelongsTo relationship. You must pass in a Model or null."))}if(this.associationIdKeys.has(n)&&n.endsWith("Ids")){var l=Array.isArray(r),d=r===null;Be(l||d,"You're trying to create a ".concat(this.modelName,' model and you passed in "').concat(r,'" under the ').concat(n," key, but that key is a foreign key for a HasMany relationship. You must pass in an array of ids or null."))}{var p=r instanceof t||r instanceof xi||r instanceof Dr,g=Array.isArray(r)&&r.length&&r.every(_=>_ instanceof t);if(p||g){var y=r;Be(this.associationKeys.has(n),"You're trying to create a ".concat(this.modelName," model and you passed in a ").concat(y.toString()," under the ").concat(n," key, but you haven't defined that key as an association on your model."))}}}_validateForeignKeyExistsInDatabase(n,r){if(Array.isArray(r)){var i=this.hasManyAssociationFks[n],o;i.isPolymorphic?(o=r.map(p=>{var{type:g,id:y}=p;return this._schema.db[this._schema.toInternalCollectionName(g)].find(y)}),o=(0,Hl.default)(o)):o=this._schema.db[this._schema.toInternalCollectionName(i.modelName)].find(r);var a=i.isPolymorphic?r.map(p=>"".concat(p.type,":").concat(p.id)).join(","):r;Be(o.length===r.length,"You're instantiating a ".concat(this.modelName," that has a ").concat(n," of ").concat(a,", but some of those records don't exist in the database."))}else{var c=this.belongsToAssociationFks[n],l;c.isPolymorphic?l=this._schema.db[this._schema.toInternalCollectionName(r.type)].find(r.id):l=this._schema.db[this._schema.toInternalCollectionName(c.modelName)].find(r);var d=c.isPolymorphic?"".concat(r.type,":").concat(r.id):r;Be(l,"You're instantiating a ".concat(this.modelName," that has a ").concat(n," of ").concat(d,", but that record doesn't exist in the database."))}}_saveAssociations(){this._saveBelongsToAssociations(),this._saveHasManyAssociations()}_saveBelongsToAssociations(){(0,Lp.default)(this.belongsToAssociations).forEach(n=>{this._disassociateFromOldInverses(n),this._saveNewAssociates(n),this._associateWithNewInverses(n)})}_saveHasManyAssociations(){(0,Lp.default)(this.hasManyAssociations).forEach(n=>{this._disassociateFromOldInverses(n),this._saveNewAssociates(n),this._associateWithNewInverses(n)})}_disassociateFromOldInverses(n){n instanceof Fa?this._disassociateFromHasManyInverses(n):n instanceof Ta&&this._disassociateFromBelongsToInverse(n)}_disassociateFromHasManyInverses(n){var r=n.getForeignKey(),i=this._tempAssociations&&this._tempAssociations[n.name],o=this.attrs[r];if(i&&o){var a;n.isPolymorphic?a=o.map(c=>{var{type:l,id:d}=c;return this._schema[this._schema.toCollectionName(l)].find(d)}):a=this._schema[this._schema.toCollectionName(n.modelName)].find(o||[]).models,a.filter(c=>!c.isSaving&&!i.includes(c)&&c.hasInverseFor(n)).forEach(c=>{var l=c.inverseFor(n);c.disassociate(this,l),c.save()})}}_disassociateFromBelongsToInverse(n){var r=n.getForeignKey(),i=this._tempAssociations&&this._tempAssociations[n.name],o=this.attrs[r];if(i!==void 0&&o){var a;if(n.isPolymorphic?a=this._schema[this._schema.toCollectionName(o.type)].find(o.id):a=this._schema[this._schema.toCollectionName(n.modelName)].find(o),a.hasInverseFor(n)){var c=a.inverseFor(n);a.disassociate(this,c),a._updateInDb(a.attrs)}}}_disassociateFromDependents(){this._schema.dependentAssociationsFor(this.modelName).forEach(n=>{n.disassociateAllDependentsFromTarget(this)})}_saveNewAssociates(n){var r=n.getForeignKey(),i=this._tempAssociations&&this._tempAssociations[n.name];if(i!==void 0){if(this.__isSavingNewChildren=!0,delete this._tempAssociations[n.name],i instanceof xi)i.models.filter(a=>!a.isSaving).forEach(a=>{a.save()}),this._updateInDb({[r]:i.models.map(a=>a.id)});else if(i instanceof Dr)i.models.filter(a=>!a.isSaving).forEach(a=>{a.save()}),this._updateInDb({[r]:i.models.map(a=>({type:a.modelName,id:a.id}))});else if(i===null)this._updateInDb({[r]:null});else if(this.equals(i))this._updateInDb({[r]:this.id});else if(!i.isSaving){i.save(),this._syncTempAssociations(i);var o;n.isPolymorphic?o={id:i.id,type:i.modelName}:o=i.id,this._updateInDb({[r]:o})}this.__isSavingNewChildren=!1}}_associateWithNewInverses(n){if(!this.__isSavingNewChildren){var r=this[n.name];r instanceof t?this._associateModelWithInverse(r,n):(r instanceof xi||r instanceof Dr)&&r.models.forEach(i=>{this._associateModelWithInverse(i,n)}),delete this._tempAssociations[n.name]}}_associateModelWithInverse(n,r){if(n.hasInverseFor(r)){var i=n.inverseFor(r),o=i.getForeignKey(),a=this.id;if(i instanceof Ta){var c;i.isPolymorphic?c={type:this.modelName,id:a}:c=a,this._schema.db[this._schema.toInternalCollectionName(n.modelName)].update(n.id,{[o]:c})}else{var l=this._schema.db[this._schema.toInternalCollectionName(n.modelName)],d=l.find(n.id)[i.getForeignKey()]||[],p=Object.assign([],d),g,y;i.isPolymorphic?(g={type:this.modelName,id:a},y=p.some(_=>_.type==this.modelName&&_.id==a)):(g=a,y=p.includes(a)),y||p.push(g),l.update(n.id,{[o]:p})}}}_updateInDb(n){this.attrs=this._schema.db[this._schema.toInternalCollectionName(this.modelName)].update(this.attrs.id,n)}_syncTempAssociations(n){Object.keys(this._tempAssociations).forEach(r=>{this._tempAssociations[r]&&this._tempAssociations[r].toString()===n.toString()&&(this._tempAssociations[r]=n)})}toString(){var n=this.id?"(".concat(this.id,")"):"";return"model:".concat(this.modelName).concat(n)}equals(n){return this.toString()===n.toString()}}return t.extend=G2,t.findBelongsToAssociation=function(e){return this.prototype.belongsToAssociations[e]},t})(),Vr=class{constructor(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.registry=e,this.type=n,this.request=r,this.attrs=this.attrs||void 0,this.include=this.include||[],this.root=this.root||void 0,this.embed=this.embed||void 0,this._embedFn=(0,ql.default)(this.embed)?this.embed:()=>!!this.embed,this.serializeIds=this.serializeIds||void 0,this.primaryKey=this.primaryKey||void 0}serialize(e){return this.primaryResource=e,this.buildPayload(e)}normalize(e){return e}buildPayload(e,n,r,i){if(!e&&(0,Bp.default)(n))return i;if(e){var[o,a]=this.getHashForPrimaryResource(e),c=this.isCollection(e)?e.models:[e];return this.buildPayload(void 0,a,c,o)}else{var l=n.shift(),[d,p]=this.getHashForIncludedResource(l),g=p.filter(C=>!r.map(O=>O.toString()).includes(C.toString())).concat(n),y=(this.isCollection(l)?l.models:[l]).concat(r),_=this.mergePayloads(i,d);return this.buildPayload(void 0,g,y,_)}}getHashForPrimaryResource(e){var[n,r]=this.getHashForResource(e),i;if(this.root){Be(!(e instanceof Dr),"The base Serializer class cannot serialize a top-level PolymorphicCollection when root is true, since PolymorphicCollections have no type.");var o=this.serializerFor(e.modelName),a=o.keyForResource(e);i={[a]:n}}else i=n;return[i,r]}getHashForIncludedResource(e){var n,r;if(e instanceof Dr)n={},r=e.models;else{var i=this.serializerFor(e.modelName),[o,a]=i.getHashForResource(e),c=i.keyForRelationship(e.modelName);n=Array.isArray(o)?{[c]:o}:{[c]:[o]},r=a}return[n,r]}getHashForResource(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=this,a;i&&e.modelName&&(o=this.serializerFor(e.modelName)),this.isModel(e)?a=o._hashForModel(e,n,r):a=e.models.map(l=>{var d=o;return d||(d=this.serializerFor(l.modelName)),d._hashForModel(l,n,r)});var c=(0,Sw.default)((0,Hl.default)((0,Qp.default)(o.getKeysForIncluded().map(l=>this.isCollection(e)?e.models.map(d=>d[l]):e[l]))),l=>l.toString());return[a,c]}mergePayloads(e,n){var r,[i]=Object.keys(n);return e[i]?(r=e,r[i]=e[i].concat(n[i])):r=Object.assign(e,n),r}keyForResource(e){var{modelName:n}=e;return this.isModel(e)?this.keyForModel(n):this.keyForCollection(n)}keyForModel(e){return Ge(e)}keyForCollection(e){return this._container.inflector.pluralize(this.keyForModel(e))}_hashForModel(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=this._attrsForModel(e);if(n&&e.fks.forEach(a=>{delete i[a]}),this.embed){var o=Object.assign({},r);o[e.modelName]=o[e.modelName]||{},o[e.modelName][e.id]=!0,this.getKeysForEmbedded().forEach(a=>{var c=e[a];if(c&&!(0,Iw.default)(o,"".concat(c.modelName,".").concat(c.id))){var[l]=this.getHashForResource(c,!0,o,!0),d=this.keyForEmbeddedRelationship(a);if(i[d]=l,this.isModel(c)){var p="".concat(Ge(a),"Id");delete i[p]}}})}return this._maybeAddAssociationIds(e,i)}_attrsForModel(e){var n={};return this.attrs?n=this.attrs.reduce((r,i)=>(r[i]=e[i],r),{}):n=Object.assign(n,e.attrs),e.fks.forEach(r=>delete n[r]),this._formatAttributeKeys(n)}_maybeAddAssociationIds(e,n){var r=Object.assign({},n);return this.serializeIds==="always"?[...e.associationKeys].filter(i=>!this._embedFn(i)).forEach(i=>{var o=e[i],a=e.associationFor(i);if(this.isCollection(o)){var c=this.keyForRelationshipIds(i);r[c]=e["".concat(this._container.inflector.singularize(i),"Ids")]}else if(this.isModel(o)&&a.isPolymorphic){var l=this.keyForPolymorphicForeignKeyType(i),d=this.keyForPolymorphicForeignKeyId(i);r[l]=e["".concat(i,"Id")].type,r[d]=e["".concat(i,"Id")].id}else if(o){var p=this.keyForForeignKey(i);r[p]=e["".concat(i,"Id")]}}):this.serializeIds==="included"&&this.getKeysForIncluded().forEach(i=>{var o=e[i],a=e.associationFor(i);if(this.isCollection(o)){var c=this.keyForRelationshipIds(i);r[c]=e["".concat(this._container.inflector.singularize(i),"Ids")]}else if(this.isModel(o)&&a.isPolymorphic){var l=this.keyForPolymorphicForeignKeyType(i),d=this.keyForPolymorphicForeignKeyId(i);r[l]=e["".concat(i,"Id")].type,r[d]=e["".concat(i,"Id")].id}else if(this.isModel(o)){var p=this.keyForForeignKey(i);r[p]=e["".concat(i,"Id")]}}),r}keyForAttribute(e){return e==="id"?this.keyForId():e}keyForRelationship(e){return Ge(this._container.inflector.pluralize(e))}keyForEmbeddedRelationship(e){return Ge(e)}keyForRelationshipIds(e){return"".concat(this._container.inflector.singularize(Ge(e)),"Ids")}keyForForeignKey(e){return"".concat(Ge(e),"Id")}keyForPolymorphicForeignKeyId(e){return"".concat(Ge(e),"Id")}keyForPolymorphicForeignKeyType(e){return"".concat(Ge(e),"Type")}isModel(e){return e instanceof W2}isCollection(e){return e instanceof xi||e instanceof Dr}isModelOrCollection(e){return this.isModel(e)||this.isCollection(e)}serializerFor(e){return this.registry.serializerFor(e)}getAssociationKeys(){return(0,ql.default)(this.include)?this.include(this.request,this.primaryResource):this.include}getKeysForEmbedded(){return this.getAssociationKeys().filter(e=>this._embedFn(e))}getKeysForIncluded(){return this.getAssociationKeys().filter(e=>!this._embedFn(e))}get schema(){return this.registry.schema}keyForId(){return this.primaryKey}valueForId(e){return e}_formatAttributeKeys(e){var n={};for(var r in e){var i=e[r];r==="id"&&(i=this.valueForId(i));var o=this.keyForAttribute(r);n[o]=i}return n}getCoalescedIds(){}};Vr.prototype.include=[];Vr.prototype.root=!0;Vr.prototype.embed=!1;Vr.prototype.primaryKey="id";Vr.prototype.serializeIds="included";Vr.extend=G2;var Wp=class extends Vr{constructor(){super(...arguments),this.alwaysIncludeLinkageData=this.alwaysIncludeLinkageData||void 0}keyForModel(e){return tn(e)}keyForCollection(e){return tn(e)}keyForAttribute(e){return tn(e)}keyForRelationship(e){return tn(e)}links(){}getHashForPrimaryResource(e){this._createRequestedIncludesGraph(e);var n=this.getHashForResource(e),r={data:n},i=this.getAddToIncludesForResource(e);return[r,i]}getHashForIncludedResource(e){var n=this.serializerFor(e.modelName),r=n.getHashForResource(e),i={included:this.isModel(e)?[r]:r},o=[];return this.hasQueryParamIncludes()||(o=this.getAddToIncludesForResource(e)),[i,o]}getHashForResource(e){var n;return this.isModel(e)?n=this.getResourceObjectForModel(e):n=e.models.map(r=>this.getResourceObjectForModel(r)),n}getAddToIncludesForResource(e){var n;if(this.hasQueryParamIncludes())n=this.getQueryParamIncludes();else{var r=this.serializerFor(e.modelName);n=r.getKeysForIncluded()}return this.getAddToIncludesForResourceAndPaths(e,n)}getAddToIncludesForResourceAndPaths(e,n){var r=[];return n.forEach(i=>{var o=i.split("."),a=this.getIncludesForResourceAndPath(e,...o);r.push(a)}),(0,Sw.default)((0,Hl.default)((0,Qp.default)(r)),i=>i.toString())}getIncludesForResourceAndPath(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=Ge(r.shift()),a=[],c=[];if(this.isModel(e)){var l=e[o];this.isModel(l)?c=[l]:this.isCollection(l)&&(c=l.models)}else e.models.forEach(d=>{var p=d[o];this.isModel(p)?c.push(p):this.isCollection(p)&&(c=c.concat(p.models))});return a=a.concat(c),r.length&&c.forEach(d=>{a=a.concat(this.getIncludesForResourceAndPath(d,...r))}),a}getResourceObjectForModel(e){var n=this._attrsForModel(e,!0);delete n.id;var r={type:this.typeKeyForModel(e),id:e.id,attributes:n};return this._maybeAddRelationshipsToResourceObjectForModel(r,e)}_maybeAddRelationshipsToResourceObjectForModel(e,n){var r={};return n.associationKeys.forEach(i=>{var o=n[i],a=this.keyForRelationship(i),c={};if(this.hasLinksForRelationship(n,i)){var l=this.serializerFor(n.modelName),d=l.links(n);c.links=d[i]}if(this.alwaysIncludeLinkageData||this.shouldIncludeLinkageData(i,n)||this._relationshipIsIncludedForModel(i,n)){var p=null;this.isModel(o)?p={type:this.typeKeyForModel(o),id:o.id}:this.isCollection(o)&&(p=o.models.map(g=>({type:this.typeKeyForModel(g),id:g.id}))),c.data=p}(0,Bp.default)(c)||(r[a]=c)}),(0,Bp.default)(r)||(e.relationships=r),e}hasLinksForRelationship(e,n){var r=this.serializerFor(e.modelName),i=r.links&&r.links(e);return i&&i[n]!=null}_relationshipIsIncludedForModel(e,n){if(this.hasQueryParamIncludes()){var r=this.request._includesGraph,i=this._graphKeyForModel(n),o;return r.data[i]?o=r.data[i]:r.included[this._container.inflector.pluralize(n.modelName)]&&(o=r.included[this._container.inflector.pluralize(n.modelName)][i]),o&&o.relationships&&Object.prototype.hasOwnProperty.call(o.relationships,tn(e))}else{var a=this.getKeysForIncluded();return a.includes(e)}}_createRequestedIncludesGraph(e){var n={data:{}};if(this.isModel(e)){var r=this._graphKeyForModel(e);n.data[r]={},this._addPrimaryModelToRequestedIncludesGraph(n,e)}else this.isCollection(e)&&e.models.forEach(i=>{var o=this._graphKeyForModel(i);n.data[o]={},this._addPrimaryModelToRequestedIncludesGraph(n,i)});this.request._includesGraph=n}_addPrimaryModelToRequestedIncludesGraph(e,n){if(this.hasQueryParamIncludes()){var r=this._graphKeyForModel(n);this.getQueryParamIncludes().filter(i=>!!i.trim()).forEach(i=>{e.data[r].relationships=e.data[r].relationships||{};var o=i.split(".").map(tn),a=o[0],c=a,l=Ge(a),d=n.associationKeys.has(l);Be(d,'You tried to include "'.concat(a,'" with ').concat(n,' but no association named "').concat(l,'" is defined on the model.'));var p=n[l],g;this.isModel(p)?g=this._graphKeyForModel(p):this.isCollection(p)?g=p.models.map(this._graphKeyForModel):g=null,e.data[r].relationships[c]=g,p&&this._addResourceToRequestedIncludesGraph(e,p,o.slice(1))})}}_addResourceToRequestedIncludesGraph(e,n,r){e.included=e.included||{};var i=this.isCollection(n)?n.models:[n];i.forEach(o=>{var a=this._container.inflector.pluralize(o.modelName);e.included[a]=e.included[a]||{},this._addModelToRequestedIncludesGraph(e,o,r)})}_addModelToRequestedIncludesGraph(e,n,r){var i=this._container.inflector.pluralize(n.modelName),o=this._graphKeyForModel(n);e.included[i][o]=e.included[i][o]||{},r.length&&this._addResourceRelationshipsToRequestedIncludesGraph(e,i,o,n,r)}_addResourceRelationshipsToRequestedIncludesGraph(e,n,r,i,o){e.included[n][r].relationships=e.included[n][r].relationships||{};var a=o[0],c=i[Ge(a)],l;this.isModel(c)?l=this._graphKeyForModel(c):this.isCollection(c)&&(l=c.models.map(this._graphKeyForModel)),e.included[n][r].relationships[a]=l,c&&this._addResourceToRequestedIncludesGraph(e,c,o.slice(1))}_graphKeyForModel(e){return"".concat(e.modelName,":").concat(e.id)}getQueryParamIncludes(){var e=(0,Iw.default)(this,"request.queryParams.include");return e&&!Array.isArray(e)&&(e=e.split(",")),e}hasQueryParamIncludes(){return!!this.getQueryParamIncludes()}typeKeyForModel(e){return tn(this._container.inflector.pluralize(e.modelName))}getCoalescedIds(e){var n=e.queryParams&&e.queryParams["filter[id]"];return typeof n=="string"?n.split(","):n}shouldIncludeLinkageData(e,n){return!1}};Wp.prototype.alwaysIncludeLinkageData=!1;var Kp=class{constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.schema=e,this._serializerMap=n}normalize(e,n){return this.serializerFor(n).normalize(e)}serialize(e,n){if(this.request=n,this._isModelOrCollection(e)){var r=this.serializerFor(e.modelName);return r.serialize(e,n)}else return Array.isArray(e)&&e.some(this._isCollection)?e.reduce((i,o)=>{var a=this.serializerFor(o.modelName);return a.embed?i[this._container.inflector.pluralize(o.modelName)]=a.serialize(o,n):i=Object.assign(i,a.serialize(o,n)),i},{}):e}serializerFor(e){var{explicit:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e&&this._serializerMap&&this._serializerMap[Ge(e)];return n?Be(!!r,"You passed in ".concat(e," as an explicit serializer type but that serializer doesn't exist.")):(r=r||this._serializerMap.application||Vr,Be(!r||r.prototype.embed||r.prototype.root||new r instanceof Wp,"You cannot have a serializer that sideloads (embed: false) and disables the root (root: false).")),new r(this,e,this.request)}_isModel(e){return e instanceof W2}_isCollection(e){return e instanceof xi||e instanceof Dr}_isModelOrCollection(e){return this._isModel(e)||this._isCollection(e)}registerSerializers(e){var n=this._serializerMap||{};this._serializerMap=Object.assign(n,e)}getCoalescedIds(e,n){return this.serializerFor(n).getCoalescedIds(e)}},lw={},dw={},fw={},Zp=class{constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Be(e,"A schema requires a db"),this.db=e,this._registry={},this._dependentAssociations={polymorphic:[]},this.registerModels(n),this.isSaving={}}registerModels(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,H2.default)(e,(n,r)=>{this.registerModel(r,e[r])})}registerModel(e,n){var r=Ge(e),i=tn(r);n=n.extend(),this._registry[r]=this._registry[r]||{class:null,foreignKeys:[]},this._registry[r].class=n,n.prototype._schema=this,n.prototype.modelName=i,n.prototype.hasManyAssociations={},n.prototype.hasManyAssociationFks={},n.prototype.belongsToAssociations={},n.prototype.belongsToAssociationFks={},n.prototype.associationKeys=new Set,n.prototype.associationIdKeys=new Set,n.prototype.dependentAssociations=[];var o={};for(var a in n.prototype)if(n.prototype[a]instanceof Ma){var c=n.prototype[a];c.name=a,c.modelName=c.modelName||this.toModelName(a),c.ownerModelName=i,c.setSchema(this);var[l,d]=c.getForeignKeyArray();o[l]=o[l]||[],Be(!o[l].includes(d),"Your '".concat(e,"' model definition has multiple possible inverse relationships of type '").concat(l,"'. Please use explicit inverses.")),o[l].push(d),this._addForeignKeyToRegistry(l,d),c.addMethodsToModelClass(n,a)}var p=this.toCollectionName(i);return this.db[p]||this.db.createCollection(p),this[p]={camelizedModelName:r,new:g=>this.new(r,g),create:g=>this.create(r,g),all:g=>this.all(r,g),find:g=>this.find(r,g),findBy:g=>this.findBy(r,g),findOrCreateBy:g=>this.findOrCreateBy(r,g),where:g=>this.where(r,g),none:g=>this.none(r,g),first:g=>this.first(r,g)},this}modelFor(e){return this._registry[e]}new(e,n){return this._instantiateModel(tn(e),n)}create(e,n){return this.new(e,n).save()}all(e){var n=this.collectionForType(e);return this._hydrate(n,tn(e))}none(e){return this._hydrate([],tn(e))}find(e,n){var r=this.collectionForType(e),i=r.find(n);return Array.isArray(n)&&Be(i.length===n.length,"Couldn't find all ".concat(this._container.inflector.pluralize(e)," with ids: (").concat(n.join(","),") (found ").concat(i.length," results, but was looking for ").concat(n.length,")")),this._hydrate(i,tn(e))}findBy(e,n){var r=this.collectionForType(e),i=r.findBy(n);return this._hydrate(i,tn(e))}findOrCreateBy(e,n){var r=this.collectionForType(e),i=r.findBy(n),o;return i?o=this._hydrate(i,tn(e)):o=this.create(e,n),o}where(e,n){var r=this.collectionForType(e),i=r.where(n);return this._hydrate(i,tn(e))}first(e){var n=this.collectionForType(e),r=n[0];return this._hydrate(r,tn(e))}modelClassFor(e){var n=this._registry[Ge(e)];return Be(n,"Model not registered: ".concat(e)),n.class.prototype}addDependentAssociation(e,n){e.isPolymorphic?this._dependentAssociations.polymorphic.push(e):(this._dependentAssociations[n]=this._dependentAssociations[n]||[],this._dependentAssociations[n].push(e))}dependentAssociationsFor(e){var n=this._dependentAssociations[e]||[],r=this._dependentAssociations.polymorphic||[];return n.concat(r)}associationsFor(e){var n=this.modelClassFor(e);return Object.assign({},n.belongsToAssociations,n.hasManyAssociations)}hasModelForModelName(e){return this.modelFor(Ge(e))}collectionForType(e){var n=this.toCollectionName(e);return Be(this.db[n],"You're trying to find model(s) of type ".concat(e," but this collection doesn't exist in the database.")),this.db[n]}toCollectionName(e){if(typeof lw[e]!="string"){var n=tn(e),r=Ge(this._container.inflector.pluralize(n));lw[e]=r}return lw[e]}toInternalCollectionName(e){if(typeof dw[e]!="string"){var n="_".concat(this.toCollectionName(e));dw[e]=n}return dw[e]}toModelName(e){if(typeof fw[e]!="string"){var n=tn(e),r=this._container.inflector.singularize(n);fw[e]=r}return fw[e]}_addForeignKeyToRegistry(e,n){this._registry[e]=this._registry[e]||{class:null,foreignKeys:[]};var r=this._registry[e].foreignKeys;r.includes(n)||r.push(n)}_instantiateModel(e,n){var r=this._modelFor(e),i=this._foreignKeysFor(e);return new r(this,e,n,i)}_modelFor(e){return this._registry[Ge(e)].class}_foreignKeysFor(e){return this._registry[Ge(e)].foreignKeys}_hydrate(e,n){if(Array.isArray(e)){var r=e.map(function(i){return this._instantiateModel(n,i)},this);return new xi(n,r)}else return e?this._instantiateModel(n,e):null}},Tae={Db:Hp,Association:Ma,RouteHandler:Gp,BaseRouteHandler:ic,Serializer:Vr,SerializerRegistry:Kp,Schema:Zp},Mae={singularize:P_,pluralize:O_},Yp=class{constructor(){this.inflector=Mae}register(e,n){this[e]=n}create(e){var n=Tae[e];n.prototype._container=this;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return new n(...i)}},Na=new Yp;Hp.prototype._container=Na;Ma.prototype._container=Na;ic.prototype._container=Na;Gp.prototype._container=Na;Vr.prototype._container=Na;Kp.prototype._container=Na;Zp.prototype._container=Na;var Aae=["http://localhost:0/chromecheckurl","http://localhost:30820/socket.io",t=>/.+\.hot-update.json$/.test(t.url)],xw={coalesce:!1,timing:void 0};function Nae(t){if(!t||typeof t!="object")return!1;for(var e=Object.keys(xw),n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];if(e.indexOf(i)>-1)return!0}return!1}function Rae(t){var[e]=t.splice(-1);Nae(e)?e=(0,$p.default)({},xw,e):(t.push(e),e=xw);for(var n=2-t.length;n-- >0;)t.push(void 0);return t.push(e),t}var Dw=class{constructor(){Ms(this,"urlPrefix",void 0),Ms(this,"namespace",void 0),Ms(this,"timing",void 0),Ms(this,"passthroughChecks",void 0),Ms(this,"pretender",void 0),Ms(this,"mirageServer",void 0),Ms(this,"trackRequests",void 0)}create(e,n){var r=this;this.mirageServer=e,this.pretender=this._create(e,n),e.pretender=this.pretender,this.passthroughChecks=this.passthroughChecks||[],this.config(n),[["get"],["post"],["put"],["delete","del"],["patch"],["head"],["options"]].forEach(i=>{var[o,a]=i;this[o]=function(c){for(var l,d=arguments.length,p=new Array(d>1?d-1:0),g=1;g<d;g++)p[g-1]=arguments[g];var[y,_,C]=Rae(p),O=e.registerRouteHandler(o,c,y,_,C),j=r._getFullPath(c),A=C.timing!==void 0?C.timing:()=>r.timing;return(l=r.pretender)===null||l===void 0?void 0:l[o](j,O,A)},e[o]=this[o],a&&(this[a]=this[o],e[a]=this[o])})}config(e){var n,r,i=typeof e.useDefaultPassthroughs<"u"?e.useDefaultPassthroughs:!0;i&&this._configureDefaultPassthroughs();var o=e.trackRequests!==void 0&&e.trackRequests!==this.trackRequests;Be(!o,"You cannot modify Pretender's request tracking once the server is created"),this.timing=(n=(r=e.timing)!==null&&r!==void 0?r:this.timing)!==null&&n!==void 0?n:400,this.urlPrefix=this.urlPrefix||e.urlPrefix||"",this.namespace=this.namespace||e.namespace||""}_configureDefaultPassthroughs(){Aae.forEach(e=>{this.passthrough(e)})}_create(e,n){if(typeof window<"u")return this.trackRequests=n.trackRequests||!1,new R2(function(){this.passthroughRequest=function(i,o,a){e.shouldLog()&&console.log("Mirage: Passthrough request for ".concat(i.toUpperCase()," ").concat(a.url))},this.handledRequest=function(i,o,a){if(e.shouldLog()){console.groupCollapsed("Mirage: [".concat(a.status,"] ").concat(i.toUpperCase()," ").concat(a.url));var{requestBody:c,responseText:l}=a,d,p;try{d=JSON.parse(c)}catch{d=c}try{p=JSON.parse(l)}catch{p=l}console.groupCollapsed("Response"),console.log(p),console.groupEnd(),console.groupCollapsed("Request (data)"),console.log(d),console.groupEnd(),console.groupCollapsed("Request (raw)"),console.log(a),console.groupEnd(),console.groupEnd()}};var r=this.checkPassthrough;this.checkPassthrough=function(i){var o=e.passthroughChecks.some(c=>c(i));if(o){var a=i.url.includes("?")?i.url.substr(0,i.url.indexOf("?")):i.url;this[i.method.toLowerCase()](a,this.passthrough)}return r.apply(this,arguments)},this.unhandledRequest=function(i,o){o=decodeURI(o);var a="";this.namespace===""?a="There is no existing namespace defined. Please define one":a="The existing namespace is ".concat(this.namespace),Be("Your app tried to ".concat(i," '").concat(o,"', but there was no route defined to handle this request. Define a route for this endpoint in your routes() config. Did you forget to define a namespace? ").concat(a))}},{trackRequests:this.trackRequests})}passthrough(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(typeof window<"u"){var i=["get","post","put","delete","patch","options","head"],o=n[n.length-1];n.length===0?n=["/**","/"]:n.length>1&&Array.isArray(o)&&(i=n.pop()),n.forEach(a=>{typeof a=="function"?this.passthroughChecks.push(a):i.forEach(c=>{var l=this._getFullPath(a);this.pretender[c](l,this.pretender.passthrough)})})}}_getFullPath(e){e=e[0]==="/"?e.slice(1):e;var n="",r=this.urlPrefix?this.urlPrefix.trim():"",i="";if(this.urlPrefix&&this.namespace&&(this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]==="/"&&(i=this.namespace.substring(0,this.namespace.length-1).substring(1)),this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]!=="/"&&(i=this.namespace.substring(1)),this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]==="/"&&(i=this.namespace.substring(0,this.namespace.length-1)),this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]!=="/"&&(i=this.namespace)),this.namespace&&!this.urlPrefix){if(this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]==="/"&&(i=this.namespace.substring(0,this.namespace.length-1)),this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]!=="/"&&(i=this.namespace),this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]==="/"){var o=this.namespace.substring(0,this.namespace.length-1);i="/".concat(o)}this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]!=="/"&&(i="/".concat(this.namespace))}return this.namespace||(i=""),/^https?:\/\//.test(e)?n+=e:(r.length&&(n+=r[r.length-1]==="/"?r:"".concat(r,"/")),n+=i,n[n.length-1]!=="/"&&(n+="/"),n+=e,/^https?:\/\//.test(n)||(n="/".concat(n),n=n.replace(/\/+/g,"/"))),n}start(){}shutdown(){this.pretender.shutdown()}},hw={},Oae={singularize:P_,pluralize:O_};function K2(t){var e=new Ew(t);return e}var Ew=class{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._container=new Yp,this.config(e),this.db=this.db||void 0,this.schema=this.schema||void 0,this.middleware=[]}get namespace(){return this.interceptor.namespace}set namespace(e){this.interceptor.namespace=e}get urlPrefix(){return this.interceptor.urlPrefix}set urlPrefix(e){this.interceptor.urlPrefix=e}get timing(){return this.interceptor.timing}set timing(e){this.interceptor.timing=e}get passthroughChecks(){return this.interceptor.passthroughChecks}set passthroughChecks(e){this.interceptor.passthroughChecks=e}config(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interceptor||(e.interceptor=new Dw),this.interceptor?this.interceptor.config(e):(this.interceptor=e.interceptor,this.interceptor.create(this,e));var n=e.environment&&this.environment&&this.environment!==e.environment;Be(!n,"You cannot modify Mirage's environment once the server is created"),this.environment=e.environment||this.environment||"development",e.routes&&(Be(!e.baseConfig,"The routes option is an alias for the baseConfig option. You can't pass both options into your server definition."),e.baseConfig=e.routes),e.seeds&&(Be(!e.scenarios,"The seeds option is an alias for the scenarios.default option. You can't pass both options into your server definition."),e.scenarios={default:e.seeds}),this._config=e,this.inflector=e.inflector||Oae,this._container.register("inflector",this.inflector),this.logging=e.logging!==void 0?this.logging:void 0,this.testConfig=this.testConfig||void 0,this.trackRequests=e.trackRequests,this.db?this.db.registerIdentityManagers(e.identityManagers):this.db=this._container.create("Db",void 0,e.identityManagers),this.schema?(this.schema.registerModels(e.models),this.serializerOrRegistry.registerSerializers(e.serializers||{})):(this.schema=this._container.create("Schema",this.db,e.models),this.serializerOrRegistry=this._container.create("SerializerRegistry",this.schema,e.serializers));var r=this._hasModulesOfType(e,"factories"),i=e.scenarios&&Object.prototype.hasOwnProperty.call(e.scenarios,"default");e.baseConfig&&this.loadConfig(e.baseConfig),this.isTest()&&(this.loadConfig(e.testConfig),typeof window<"u"&&(window.server=this)),this.isTest()&&r?this.loadFactories(e.factories):!this.isTest()&&i?(this.loadFactories(e.factories),e.scenarios.default(this)):this.loadFixtures()}start(){var e=this;return bae(function*(){var n,r;yield(n=(r=e.interceptor).start)===null||n===void 0?void 0:n.call(r)})()}isTest(){return this.environment==="test"}shouldLog(){return typeof this.logging<"u"?this.logging:!this.isTest()}loadConfig(e){e?.call(this),this.timing=this.isTest()?0:this.timing||0}passthrough(){for(var e,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];(e=(n=this.interceptor).passthrough)===null||e===void 0||e.call(n,...i)}loadFixtures(){for(var{fixtures:e}=this._config,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(r.length){var o=r.map(Ge),a=o.filter(c=>!e[c]);if(a.length)throw new Error("Fixtures not found: ".concat(a.join(", ")));e=(0,z2.default)(e,...o)}this.db.loadData(e)}loadFactories(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=this._factoryMap||{};this._factoryMap=(0,$p.default)(n,e),Object.keys(e).forEach(r=>{var i=this.schema.toCollectionName(r);this.db.createCollection(i)})}factoryFor(e){var n=Ge(e);if(this._factoryMap&&this._factoryMap[n])return this._factoryMap[n]}build(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=r.filter(C=>C&&typeof C=="string"),a=(0,jp.default)(r,C=>(0,rc.default)(C)),c=Ge(e);this.factorySequences=this.factorySequences||{},this.factorySequences[c]=this.factorySequences[c]+1||0;var l=this.factoryFor(e);if(l){l=l.extend({});var d=l.attrs||{};this._validateTraits(o,l,e);var p=this._mergeExtensions(d,o,a);this._mapAssociationsFromAttributes(e,d,a),this._mapAssociationsFromAttributes(e,p);var g=l.extend(p),y=new g,_=this.factorySequences[c];return y.build(_)}else return a}buildList(e,n){Be((0,pw.default)(n),"second argument has to be an integer, you passed: ".concat(typeof n));for(var r=[],i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];for(var c=[e,...o],l=0;l<n;l++)r.push(this.build.apply(this,c));return r}create(e){Be(this._modelOrFactoryExistsForType(e),"You called server.create('".concat(e,"') but no model or factory was found. Make sure you're passing in the singularized version of the model or factory name."));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=r.filter(C=>C&&typeof C=="string"),a=(0,jp.default)(r,C=>(0,rc.default)(C)),c=(0,jp.default)(r,C=>C&&Array.isArray(C)),l=this.build(e,...o,a),d;if(this.schema&&this.schema[this.schema.toCollectionName(e)]){var p=this.schema[this.schema.toCollectionName(e)];d=p.create(l)}else{var g,y;c?g=c:(y=this.schema?this.schema.toInternalCollectionName(e):"_".concat(this.inflector.pluralize(e)),g=this.db[y]),Be(g,"You called server.create('".concat(e,"') but no model or factory was found.")),d=g.insert(l)}var _=this.factoryFor(e);return _&&_.extractAfterCreateCallbacks({traits:o}).forEach(C=>{C(d,this)}),d}createList(e,n){Be(this._modelOrFactoryExistsForType(e),"You called server.createList('".concat(e,"') but no model or factory was found. Make sure you're passing in the singularized version of the model or factory name.")),Be((0,pw.default)(n),"second argument has to be an integer, you passed: ".concat(typeof n));for(var r=[],i=this.schema?this.schema.toInternalCollectionName(e):"_".concat(this.inflector.pluralize(e)),o=this.db[i],a=arguments.length,c=new Array(a>2?a-2:0),l=2;l<a;l++)c[l-2]=arguments[l];for(var d=[e,...c,o],p=0;p<n;p++)r.push(this.create.apply(this,d));return r}shutdown(){typeof window<"u"&&this.interceptor.shutdown(),typeof window<"u"&&this.environment==="test"&&(window.server=void 0)}resource(e){var{only:n,except:r,path:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e=this.inflector.pluralize(e),i=i||"/".concat(e),n=n||[],r=r||[],n.length>0&&r.length>0)throw"cannot use both :only and :except options";var o={index:{methods:["get"],path:"".concat(i)},show:{methods:["get"],path:"".concat(i,"/:id")},create:{methods:["post"],path:"".concat(i)},update:{methods:["put","patch"],path:"".concat(i,"/:id")},delete:{methods:["del"],path:"".concat(i,"/:id")}},a=Object.keys(o),c=n.length>0&&n||r.length>0&&a.filter(l=>r.indexOf(l)===-1)||a;c.forEach(l=>{var d=o[l];d.methods.forEach(p=>i===e?this[p](d.path):this[p](d.path,e))})}_serialize(e){return typeof e=="string"||e instanceof Blob||e instanceof ArrayBuffer||e instanceof FormData||e instanceof ReadableStream||e instanceof URLSearchParams||e&&typeof e=="object"&&"isView"in e&&e.isView()?e:JSON.stringify(e)}registerRouteHandler(e,n,r,i,o){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:this.middleware,c=this._container.create("RouteHandler",{schema:this.schema,verb:e,rawHandler:r,customizedCode:i,options:o,path:n,serializerOrRegistry:this.serializerOrRegistry,middleware:a});return l=>c.handle(l).then(d=>{var[p,g,y]=d;return[p,g,this._serialize(y)]})}_hasModulesOfType(e,n){var r=e[n];return r?Object.keys(r).length>0:!1}_typeIsPluralForModel(e){if(typeof hw[e]!="boolean"){var n=this._modelOrFactoryExistsForTypeOrCollectionName(e),r=e===this.inflector.pluralize(e),i=this.inflector.singularize(e)===this.inflector.pluralize(e),o=r&&!i&&n;hw[e]=o}return hw[e]}_modelOrFactoryExistsForType(e){var n=this.schema&&this.schema.modelFor(Ge(e)),r=this.db[this.schema.toInternalCollectionName(e)];return(n||r)&&!this._typeIsPluralForModel(e)}_modelOrFactoryExistsForTypeOrCollectionName(e){var n=this.schema&&this.schema.modelFor(Ge(e)),r=this.db[this.schema.toInternalCollectionName(e)];return n||r}_validateTraits(e,n,r){e.forEach(i=>{if(!n.isTrait(i))throw new Error("'".concat(i,"' trait is not registered in '").concat(r,"' factory"))})}_mergeExtensions(e,n,r){var i=n.map(o=>e[o].extension);return i.push(r||{}),i.reduce((o,a)=>(0,$p.default)(o,a),{})}_mapAssociationsFromAttributes(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n||{}).filter(i=>Iae(n[i])).forEach(i=>{var o=this.schema.modelClassFor(e),a=o.associationFor(i);Be(a&&a instanceof Ta,"You're using the `association` factory helper on the '".concat(i,"' attribute of your ").concat(e," factory, but that attribute is not a `belongsTo` association."));var c=a&&a instanceof Ta&&a.modelName===e;Be(!c,"You're using the association() helper on your ".concat(e," factory for ").concat(i,", which is a belongsTo self-referential relationship. You can't do this as it will lead to infinite recursion. You can move the helper inside of a trait and use it selectively."));var l=a&&a.opts&&a.opts.polymorphic;Be(!l,"You're using the association() helper on your ".concat(e," factory for ").concat(i,", which is a polymorphic relationship. This is not currently supported."));var d=n[i],p="".concat(Ge(i),"Id");r[i]||(n[p]=this.create(a.modelName,...d.traitsAndOverrides).id),delete n[i]})}},L2=Vr.extend({serializeIds:"always",normalizeIds:!0,keyForModel(t){return uo(t)},keyForAttribute(t){return t=Vr.prototype.keyForAttribute.apply(this,arguments),uo(t)},keyForRelationship(t){return this._container.inflector.pluralize(uo(t))},keyForEmbeddedRelationship(t){return uo(t)},keyForRelationshipIds(t){return"".concat(uo(this._container.inflector.singularize(t)),"_ids")},keyForForeignKey(t){return"".concat(uo(t),"_id")},keyForPolymorphicForeignKeyId(t){return"".concat(uo(t),"_id")},keyForPolymorphicForeignKeyType(t){return"".concat(uo(t),"_type")},normalize(t){var e=Object.keys(t)[0],n=t[e],r=Ge(e),i=this.schema.modelClassFor(r),{belongsToAssociations:o,hasManyAssociations:a}=i,c=Object.keys(o),l=Object.keys(a);this.primaryKey!=="id"&&(n.id=n[this.primaryKey],delete n[this.primaryKey]);var d={data:{type:this._container.inflector.pluralize(e),attributes:{}}};n.id&&(d.data.id=n.id);var p={};return Object.keys(n).forEach(g=>{if(g!=="id")if(this.normalizeIds)if(c.includes(g)){var y=o[g],_=y.modelName;p[tn(g)]={data:{type:_,id:n[g]}}}else if(l.includes(g)){var C=a[g],O=C.modelName,j=n[g].map(A=>({type:O,id:A}));p[tn(g)]={data:j}}else d.data.attributes[tn(g)]=n[g];else d.data.attributes[tn(g)]=n[g]}),Object.keys(p).length&&(d.data.relationships=p),d},getCoalescedIds(t){return t.queryParams&&t.queryParams.ids}}),fxe=L2.extend({serializeIds:"always",keyForModel(t){return Ge(t)},keyForAttribute(t){return t=L2.prototype.keyForAttribute.apply(this,arguments),Ge(t)},keyForRelationship(t){return Ge(this._container.inflector.pluralize(t))},keyForEmbeddedRelationship(t){return Ge(t)},keyForRelationshipIds(t){return Ge(this._container.inflector.pluralize(t))},keyForForeignKey(t){return Ge(this._container.inflector.singularize(t))},getCoalescedIds(t){return t.queryParams&&t.queryParams.ids}});var Mw=(t,e)=>e.some(n=>t instanceof n),Z2,Y2;function Pae(){return Z2||(Z2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kae(){return Y2||(Y2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Aw=new WeakMap,Fw=new WeakMap,Jp=new WeakMap;function Lae(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Ra(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return Jp.set(e,t),e}function jae(t){if(Aw.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Aw.set(t,e)}var Nw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Aw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ra(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ek(t){Nw=t(Nw)}function Vae(t){return kae().includes(t)?function(...e){return t.apply(Rw(this),e),Ra(this.request)}:function(...e){return Ra(t.apply(Rw(this),e))}}function Bae(t){return typeof t=="function"?Vae(t):(t instanceof IDBTransaction&&jae(t),Mw(t,Pae())?new Proxy(t,Nw):t)}function Ra(t){if(t instanceof IDBRequest)return Lae(t);if(Fw.has(t))return Fw.get(t);let e=Bae(t);return e!==t&&(Fw.set(t,e),Jp.set(e,t)),e}var Rw=t=>Jp.get(t);function tk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let a=indexedDB.open(t,e),c=Ra(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Ra(a.result),l.oldVersion,l.newVersion,Ra(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var $ae=["get","getKey","getAll","getAllKeys","count"],Uae=["put","add","delete","clear"],Tw=new Map;function Q2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tw.get(e))return Tw.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Uae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$ae.includes(n)))return;let o=async function(a,...c){let l=this.transaction(a,i?"readwrite":"readonly"),d=l.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&l.done]))[0]};return Tw.set(e,o),o}ek(t=>ve(q({},t),{get:(e,n,r)=>Q2(e,n)||t.get(e,n,r),has:(e,n)=>!!Q2(e,n)||t.has(e,n)}));var qae=["continue","continuePrimaryKey","advance"],J2={},Ow=new WeakMap,nk=new WeakMap,Hae={get(t,e){if(!qae.includes(e))return t[e];let n=J2[e];return n||(n=J2[e]=function(...r){Ow.set(this,nk.get(this)[e](...r))}),n}};async function*zae(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;let n=new Proxy(e,Hae);for(nk.set(n,e),Jp.set(n,Rw(e));e;)yield n,e=await(Ow.get(n)||e.continue()),Ow.delete(n)}function X2(t,e){return e===Symbol.asyncIterator&&Mw(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Mw(t,[IDBIndex,IDBObjectStore])}ek(t=>ve(q({},t),{get(e,n,r){return X2(e,n)?zae:t.get(e,n,r)},has(e,n){return X2(e,n)||t.has(e,n)}}));var ae=dn(rk()),Dxe=dn(ok()),jw=dn(sk());function Pw(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}var Gae=6371;function eg(t){return t*(Math.PI/180)}function Vw(t,e,n,r){let i=eg(n-t),o=eg(r-e),a=Math.sin(i/2)*Math.sin(i/2)+Math.cos(eg(t))*Math.cos(eg(n))*Math.sin(o/2)*Math.sin(o/2),c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return Gae*c}function og(t){return(0,jw.sha512)(t)}function uk(t,e,n){let r=[],i=(0,ae.keyBy)(n,"carriageCode");for(let o=0;o<t.departureTime.length;o++){let a=e.reduce((c,l)=>(c[l]=i[l].price[o],c),{});r.push({time:[t.departureTime[o],t.arrivalTime[o]],price:a})}return r}function Wae(t){return(0,jw.sha512)(`-user:${t.email}:${Date.now()}`)}function Kae(t){let e=t/Math.abs(t)||1;return(t+e*180)%360-e*180}var Pa=function(t){return t.active="active",t.canceled="canceled",t.completed="completed",t.rejected="rejected",t}(Pa||{}),sc=function(t){return t.manager="manager",t.user="user",t}(sc||{}),Vt=tk("rsschool@train-a",1,{upgrade(t,e,n){let r=t.createObjectStore("users",{keyPath:"id",autoIncrement:!0}),i=t.createObjectStore("stations",{keyPath:"id",autoIncrement:!0}),o=t.createObjectStore("carriages",{keyPath:"code"}),a=t.createObjectStore("railways",{keyPath:"id",autoIncrement:!0}),c=t.createObjectStore("routes",{keyPath:"id",autoIncrement:!0}),l=t.createObjectStore("schedule",{keyPath:"id",autoIncrement:!0}),d=t.createObjectStore("price",{keyPath:"id",autoIncrement:!0}),p=t.createObjectStore("order",{keyPath:"id",autoIncrement:!0});r.createIndex("email","email",{unique:!0}),r.createIndex("token","accessToken",{unique:!0}),i.createIndex("city","city",{unique:!0}),i.createIndex("geolocation",["latitude","longitude"],{unique:!0}),i.createIndex("latitude","latitude"),i.createIndex("longitude","longitude"),a.createIndex("stations",["station1","station2"],{unique:!0}),a.createIndex("station1","station1"),a.createIndex("station2","station2"),c.createIndex("carriage","carriages",{multiEntry:!0}),c.createIndex("station","path",{multiEntry:!0}),l.createIndex("route","routeId"),l.createIndex("ride",["routeId","id"],{unique:!0}),l.createIndex("arrivalTime","arrivalTime",{multiEntry:!0}),l.createIndex("departureTime","departureTime",{multiEntry:!0}),d.createIndex("carriage","carriageCode"),d.createIndex("ride","rideId"),d.createIndex("carriage_ride",["carriageCode","rideId"],{unique:!0}),d.createIndex("price","price",{multiEntry:!0}),p.createIndex("userId","userId"),p.createIndex("rideId","rideId"),p.createIndex("stationStart","stationStart"),p.createIndex("stationEnd","stationEnd"),p.createIndex("status","status"),p.createIndex("trip",["userId","rideId"]),p.createIndex("user_ride_status",["userId","rideId","status"],{unique:!0}),r.add({email:"admin@admin.com",name:"Admin",role:sc.manager,passHash:og("my-password"),accessToken:null});let g=[],y=new Map,_=new Map,C=new Map,O=new Map;(0,ae.range)(1,(0,ae.random)(60,200)).forEach(fe=>{let ne={city:`city${fe}`,latitude:(0,ae.random)(-90,90,!0),longitude:(0,ae.random)(-180,180,!0)};C.set(ne,new Map);for(let He of g){let bt=He.latitude,k=He.longitude,se=ne.latitude,me=ne.longitude,de=Math.ceil(Vw(bt,k,se,me));_.has(de)||_.set(de,[]),C.has(He)||C.set(He,new Map),_.get(de).push([He,ne]),C.get(ne).set(He,de),C.get(He).set(ne,de)}i.add(ne),g.push(ne),y.set(ne,fe)});let j=Array.from(_.keys()).sort((fe,ne)=>fe-ne),A=j.slice(0,Math.floor(j.length/5));for(let fe of A)for(let[ne,He]of _.get(fe))O.has(ne)||O.set(ne,[]),O.has(He)||O.set(He,[]),O.get(ne).push(He),O.get(He).push(ne),a.add({station1:y.get(ne),station2:y.get(He),distance:fe});let J=[];(0,ae.range)(1,(0,ae.random)(4,7)).forEach(fe=>{let ne={code:`carriage${fe}`,name:`carriage${fe}`,rows:(0,ae.random)(8,20),leftSeats:(0,ae.random)(1,4),rightSeats:(0,ae.random)(1,3)};J.push(ne),o.add(ne)});let be=60,_e=1;(0,ae.range)(1,(0,ae.random)(500,700)).forEach(fe=>{let ne=(0,ae.range)((0,ae.random)(8,25)).map(()=>J[(0,ae.random)(0,J.length-1)].code),He=Array.from(new Set(ne)),bt=(0,ae.random)(10,30),k=[],se=[],me=0,de=g[(0,ae.random)(0,g.length-1)];for(;me<bt&&de;){let Qe=y.get(de);k.push(de),se.push(Qe);let ue=O.get(de),Ue=(0,ae.differenceWith)(ue,k,(K,Je)=>K.city===Je.city);Ue.length>0?de=Ue[(0,ae.random)(Ue.length-1)]:de=null,me++}c.add({path:se,carriages:ne}),(0,ae.range)(1,(0,ae.random)(2,7)).forEach(()=>{let Qe=[],ue=[];ue.push(new Date(Date.now()+(0,ae.random)(-864e6,1296e6)));for(let Ue=1;Ue<k.length;Ue++){let K=k[Ue],Je=k[Ue-1],Lt=C.get(K).get(Je),_t=ue[Ue-1],Gt=new Date(_t.getTime()+Math.floor(Lt/be*36e5));if(Qe.push(Gt),Ue<k.length-1){let un=(0,ae.random)(5,60),he=new Date(Gt.getTime()+un*6e4);ue.push(he)}}l.add({routeId:fe,arrivalTime:Qe,departureTime:ue});for(let Ue of He){let K=(0,ae.range)(se.length-1).map(()=>(0,ae.random)(100,2500));d.add({rideId:_e,carriageCode:Ue,price:K})}_e++})})}}),Zae=async(t,e,n)=>{await(await Vt).put("users",ve(q({},n),{accessToken:null}))},ck=/^Bearer\s+([\w\d]{5,})$/,Bw=/^[\w\d\._]+@[\w\d_]+\.\w{2,7}$/,lk=function(t){return t.token="invalidAccessToken",t}(lk||{}),dk=function(t){return t.invalidUniqueKey="invalidUniqueKey",t}(dk||{}),Di=function(t){return t.recordNotFound="recordNotFound",t.recordInUse="recordInUse",t}(Di||{}),rg=function(t){return t.orderNotFound="orderNotFound",t.alreadyBooked="alreadyBooked",t.orderNotActive="orderNotActive",t}(rg||{}),$i=function(t){return t.invalidData="invalidData",t}($i||{}),Ui=function(t){return t.stationNotFound="stationNotFound",t.rideNotFound="rideNotFound",t.invalidData="invalidData",t.invalidRide="invalidRide",t.invalidStations="invalidStations",t}(Ui||{}),tg=function(t){return t.notFound="userNotFound",t.alreadyLoggedIn="alreadyLoggedIn",t}(tg||{}),zo=function(t){return t.invalidFields="invalidFields",t.invalidEmail="invalidEmail",t.invalidPassword="invalidPassword",t.invalidUniqueKey="invalidUniqueKey",t}(zo||{}),ng=function(t){return t.invalidStationData="invalidStationData",t.stationExists="stationExists",t}(ng||{}),kw=class extends rr{constructor(e,n){super(400,{},{message:e,reason:n})}};function $e(t,e){return new kw(t,e)}var Lw=class extends rr{constructor(){super(401,{},{message:"Access is not granted",reason:lk.token})}};function ig(){return new Lw}var Yae=async(t,e)=>{let{email:n,password:r}=JSON.parse(e.requestBody),{Authorization:i=""}=e.requestHeaders;if(ck.test(i))return $e("Authorization error",tg.alreadyLoggedIn);if(!n||!r)return $e("Fields are empty",zo.invalidFields);if(!Bw.test(n))return $e("Email is wrong",zo.invalidEmail);let o=await Vt,a=await o.getFromIndex("users","email",n);if(a){if(og(r)!==a.passHash)return $e("User is not found",tg.notFound)}else return $e("User is not found",tg.notFound);let c=Wae(a);return await o.put("users",ve(q({},a),{accessToken:c})),{token:c}},Qae=async(t,e)=>{let{email:n,password:r}=JSON.parse(e.requestBody);if(n&&r)if(Bw.test(n)){if(r.length<8)return $e("Password is wrong",zo.invalidPassword)}else return $e("Email is wrong",zo.invalidEmail);else return $e("Fields are empty",zo.invalidFields);let i=og(r),o=await Vt;try{await o.add("users",{name:null,accessToken:null,email:n,passHash:i,role:sc.user})}catch(a){if(a instanceof Error&&(a.name==="ConstraintError"||(a.message?.toLowerCase()).includes("already exist")))return $e("User already exists",zo.invalidUniqueKey);throw a}};function Jae({table:t}){return e=>class extends e{constructor(...n){super()}async save(){return(await Vt).add(t,this)}}}var Gl=class{save(){throw new Error("Method not implemented.")}};Gl=Pw([Jae({table:"order"})],Gl);var Xae=async(t,e,n)=>{let r=JSON.parse(e.requestBody),i=(0,ae.toInteger)(r.stationStart),o=(0,ae.toInteger)(r.stationEnd),a=(0,ae.toInteger)(r.rideId),c=(0,ae.toInteger)(r.seat);if(!(i>0&&o>0&&a>0&&c>0))return $e("Parameters are irrelevant",Ui.invalidData);let l=await Vt,d=await l.get("schedule",a);if(!d)return $e("Ride not found",Ui.rideNotFound);let p=await l.get("routes",d.routeId);if(!p)return $e("Ride not found",Ui.rideNotFound);let g=p.path.indexOf(i),y=p.path.indexOf(o);if(!(g>=0&&y>g))return $e("Invalid stations",Ui.invalidStations);if(d.departureTime[g]<=new Date)return $e("Trip is expired",Ui.invalidRide);try{let _=new Gl;return _.userId=n.id,_.rideId=a,_.seatId=(0,ae.toInteger)(c),_.stationStart=i,_.stationEnd=o,_.status=Pa.active,{id:await _.save()}}catch(_){if(_.name==="ConstraintError")return $e("Ride is already booked",rg.alreadyBooked);throw _}},eue=async(t,e,n)=>{let r=Number(e.params.id),i=await Vt,o=n.role===sc.manager,a=await i.get("order",r);return!a||!o&&a.userId!==n.id?$e("Order is not found",rg.orderNotFound):a.status!==Pa.active?$e("Order is not active",rg.orderNotActive):(await i.put("order",ve(q({},a),{status:o?Pa.rejected:Pa.canceled})),null)},tue=async(t,e)=>(await Vt).getAll("carriages"),nue=async(t,e)=>{let{name:n,rows:r,leftSeats:i,rightSeats:o}=JSON.parse(e.requestBody),a=await Vt,c=(0,ae.kebabCase)(n),l={code:c,name:n,rows:r,leftSeats:i,rightSeats:o};try{await a.add("carriages",l)}catch(d){if(d instanceof Error&&(d.name==="ConstraintError"||(d.message?.toLowerCase()).includes("already exist")))return $e("Carriage already exists",dk.invalidUniqueKey)}return{code:c}},rue=async(t,e)=>{let n=e.params.code,r=await Vt,i=await r.get("carriages",n);return i?await r.countFromIndex("routes","carriage",n)>0?$e("Carriage is already used",Di.recordInUse):(await r.delete("carriages",i.code),null):$e("Carriage not found",Di.recordNotFound)},iue=async(t,e)=>{let n=JSON.parse(e.requestBody),r=e.params.code,i=await Vt,o=await i.get("carriages",r);if(o){let a=ve(q({},o),{name:n.name,rows:n.rows,leftSeats:n.leftSeats,rightSeats:n.rightSeats});return{code:await i.put("carriages",a)}}else return $e("Carriage not found",Di.recordNotFound)},oue=async(t,e,n)=>{let r=n.role===sc.manager&&e.queryParams.all&&e.queryParams.all!=="false",i=await Vt,o=new Date;await i.getAll("order").then(A=>Promise.all(A.filter(({status:J})=>J===Pa.active).map(J=>i.get("schedule",J.rideId).then(be=>i.get("routes",be.routeId).then(_e=>{let fe=_e.path.findIndex(He=>He===J.stationEnd);return new Date(be.arrivalTime[fe-1])<o?i.put("order",ve(q({},J),{status:Pa.completed})):Promise.resolve(0)})))));let a=i.getAllFromIndex("order","userId",n.id);r&&(a=i.getAll("order"));let c=await a,l=Array.from(new Set(c.map(A=>A.rideId))),d=await Promise.all(l.map(A=>i.get("schedule",A))),p=(0,ae.keyBy)(d,"id"),g=Array.from(new Set(d.map(A=>A.routeId))),y=await Promise.all(g.map(A=>i.get("routes",A))),_=(0,ae.keyBy)(y,"id"),C=await Promise.all(l.map(A=>i.getAllFromIndex("price","ride",A))),O=(0,ae.keyBy)(C,A=>A[0].rideId);return c.map(A=>ve(q({},A),{routeId:p[A.rideId].routeId,carriages:_[p[A.rideId].routeId].carriages,path:_[p[A.rideId].routeId].path,schedule:{segments:uk(p[A.rideId],Array.from(new Set(_[p[A.rideId].routeId].carriages)),O[A.rideId])}})).map(A=>(0,ae.pick)(A,["id","userId","routeId","rideId","seatId","path","carriages","stationStart","stationEnd","schedule","status"]))},sue=(t,e,n)=>(0,ae.pick)(n,["name","email","role"]),aue=async(t,e,n)=>{let{name:r,email:i}=JSON.parse(e.requestBody),o=q({},n);r&&r!==n.name&&(o.name=r),i&&i!==n.email&&Bw.test(i)&&(o.email=i);let a=await Vt;try{await a.put("users",o)}catch(c){if(c instanceof Error&&(c.name==="ConstraintError"||(c.message?.toLowerCase()).includes("Unable to add key to index")))return $e("Email already exists",zo.invalidUniqueKey);throw c}return(0,ae.pick)(o,["name","email","role"])},uue=async(t,e,n)=>{let{password:r}=JSON.parse(e.requestBody);if(r.length<8)return $e("Password is wrong",zo.invalidPassword);let i=og(r);await(await Vt).put("users",ve(q({},n),{passHash:i}))},cue=async(t,e)=>(await Vt).getAll("routes"),lue=async(t,e)=>{let{path:n,carriages:r}=JSON.parse(e.requestBody);return{id:await(await Vt).add("routes",{path:n.map(ae.toInteger),carriages:r})}},due=async(t,e)=>{let n=Number(e.params.id),r=await Vt,i=await r.get("routes",n);if(!i)return $e("Route not found",Di.recordNotFound);let a=(await r.getAllFromIndex("schedule","route",i.id)).map(d=>d.id);return(await Promise.all(a.map(d=>r.countFromIndex("order","rideId",d)))).reduce((d,p)=>d+p,0)>0?$e("Route is already used",Di.recordInUse):(await Promise.all(a.map(d=>r.delete("schedule",d))),await r.delete("routes",n),null)},fue=async(t,e)=>{let n=Number(e.params.id),r=await Vt,[i,o]=await Promise.all([r.get("routes",n),r.getAllFromIndex("schedule","route",n)]);if(!i)return $e("Ride not found",Ui.rideNotFound);let a=await Promise.all(o.map(({id:p})=>r.getAllFromIndex("price","ride",p))),c=(0,ae.keyBy)(a,p=>p[0].rideId),l=Array.from(new Set(i.carriages)),d=o.map(p=>{let g=uk(p,l,c[p.id]);return{rideId:p.id,segments:g}});return{id:i.id,path:i.path,carriages:i.carriages,schedule:d}},hue=async(t,e)=>{let n=JSON.parse(e.requestBody),r=Number(e.params.routeId);if(!Array.isArray(n?.segments))return $e("Parameters are irrelevant",$i.invalidData);let i=await Vt,o=await i.get("routes",r);if(!o)return $e("Route not found",Di.recordNotFound);let a=Array.from(new Set(o.carriages)),c=[],l=[],d={};for(let C of n.segments){let[O,j]=C.time??[];if(!(O&&j))return $e("Time is irrelevant",$i.invalidData);c.push(j),l.push(O);for(let A of a){d[A]||(d[A]=[]);let J=(0,ae.toInteger)(C.price?.[A]);if(!(J>0))return $e("Price is irrelevant",$i.invalidData);d[A].push(J)}}for(let C=0;C<c.length;C++)if(!(c[C]>l[C]))return $e("Time is irrelevant",$i.invalidData);for(let C=1;C<l.length;C++)if(!(l[C]>c[C-1]))return $e("Time is irrelevant",$i.invalidData);let p=i.transaction(["schedule","price"],"readwrite"),g=p.objectStore("schedule"),y=p.objectStore("price"),_=await g.add({routeId:r,arrivalTime:c,departureTime:l});return await Promise.all([...a.map(C=>y.add({rideId:_,carriageCode:C,price:d[C]})),p.done]),{id:_}},pue=async(t,e)=>{let n=(0,ae.toInteger)(e.params.routeId),r=(0,ae.toInteger)(e.params.rideId),i=await Vt,o=await i.getFromIndex("schedule","ride",[n,r]);return o?await i.countFromIndex("order","rideId",r)>0?$e("Ride is already used",Di.recordInUse):(await i.delete("schedule",o.id),null):$e("Ride not found",Di.recordNotFound)},gue=async(t,e)=>{let n=JSON.parse(e.requestBody),r=(0,ae.toInteger)(e.params.routeId),i=(0,ae.toInteger)(e.params.rideId);if(!Array.isArray(n?.segments))return $e("Parameters are irrelevant",$i.invalidData);let o=await Vt,[a,c]=await Promise.all([o.get("routes",r),o.getFromIndex("schedule","ride",[r,i])]);if(!(c&&a))return $e("Ride not found",Di.recordNotFound);let l=Array.from(new Set(a.carriages)),d=[],p=[],g={};for(let A of n.segments){let[J,be]=A.time??[];if(!(J&&be))return $e("Time is irrelevant",$i.invalidData);d.push(be),p.push(J);for(let _e of l){g[_e]||(g[_e]=[]);let fe=(0,ae.toInteger)(A.price?.[_e]);if(!(fe>0))return $e("Price is irrelevant",$i.invalidData);g[_e].push(fe)}}for(let A=0;A<d.length;A++)if(!(d[A]>p[A]))return $e("Time is irrelevant",$i.invalidData);for(let A=1;A<p.length;A++)if(!(p[A]>d[A-1]))return $e("Time is irrelevant",$i.invalidData);let y=o.transaction(["schedule","price"],"readwrite"),_=y.objectStore("schedule"),C=y.objectStore("price"),O=await C.index("ride").getAll(i),j=(0,ae.keyBy)(O,"carriageCode");return await Promise.all([_.put(ve(q({},c),{arrivalTime:d,departureTime:p})),...l.map(A=>C.put(ve(q({},j[A]),{price:g[A]}))),y.done]),null},mue=async(t,e)=>{let{path:n,carriages:r}=JSON.parse(e.requestBody),i=(0,ae.toInteger)(e.params.id),a=await(await Vt).put("routes",{id:i,path:n.map(ae.toInteger),carriages:r});if(i===a)return{id:i}},vue=50,yue=async(t,e)=>{let n=e.queryParams,r=await Vt,i=await ak(n.fromCity,n.fromLatitude,n.fromLongitude);if(!i)return $e("Start station not found",Ui.stationNotFound);let o=await ak(n.toCity,n.toLatitude,n.toLongitude);if(!o)return $e("End station not found",Ui.stationNotFound);let a=await r.getAllFromIndex("routes","station",i.id),c=await r.getAllFromIndex("routes","station",o.id),l=(0,ae.intersectionBy)(a,c,"id").filter(_=>{let C=_.path.indexOf(i.id);return C>=0&&C<_.path.indexOf(o.id)}),d=(0,ae.toInteger)(n.time),p=d?new Date(d):new Date;return{routes:(await Promise.all(l.map(_=>r.getAllFromIndex("schedule","route",_.id).then(C=>{let O=_.path.indexOf(i.id);return C.filter(j=>new Date(j.departureTime[O])>=p)}).then(C=>Promise.all(C.map(O=>Promise.all([r.getAllFromIndex("price","ride",O.id).then(j=>(0,ae.keyBy)(j,"carriageCode")),r.getAllFromIndex("order","rideId",O.id)]).then(([j,A])=>ve(q({},O),{prices:j,orders:A})))).then(O=>{let j=Array.from(new Set(_.carriages));return ve(q({},_),{schedule:O.map(A=>{let J=[],be=(0,ae.range)(_.path.length-1).map(()=>[]),_e=A.orders.filter(({status:fe})=>fe!=="canceled"&&fe!=="rejected");for(let fe of _e){let ne=_.path.indexOf(fe.stationStart),He=_.path.indexOf(fe.stationEnd);for(let bt of(0,ae.range)(ne,He))be[bt].push(fe.seatId)}for(let fe=0;fe<_.path.length-1;fe++){let ne=[A.departureTime[fe],A.arrivalTime[fe]],He=j.reduce((bt,k)=>(bt[k]=A.prices[k].price[fe],bt),{});J.push({time:ne,price:He,occupiedSeats:be[fe]})}return{rideId:A.id,segments:J}})})}))))).filter(({schedule:_})=>_.length>0),from:{stationId:i.id,city:i.city,geolocation:{latitude:i.latitude,longitude:i.longitude}},to:{stationId:o.id,city:o.city,geolocation:{latitude:o.latitude,longitude:o.longitude}}}};async function _ue(t,e){let n=new Map,i=await(await Vt).transaction("stations").store.openCursor();for(;i;){let a=i.value,c=Vw(t,e,a.latitude,a.longitude);n.set(c,a),i=await i.continue()}let o=Math.min(...n.keys());return o<vue?n.get(o)??null:null}async function ak(t,e,n){return e&&n?_ue(e,n):null}var wue=async(t,e)=>{let n=Number(e.params.id),r=await Vt,i=await r.get("schedule",n);if(!i)return $e("Ride not found",Ui.rideNotFound);let o=await r.get("routes",i.routeId);if(!o)return $e("Ride not found",Ui.rideNotFound);let a=await r.getAllFromIndex("price","ride",n),c=(0,ae.keyBy)(a,"carriageCode"),l=await r.getAllFromIndex("order","rideId",n),d=o.path,p=o.carriages,g=Array.from(new Set(p)),y=[],_=(0,ae.range)(d.length-1).map(()=>[]),C=l.filter(({status:O})=>O!=="canceled"&&O!=="rejected");for(let O of C){let j=d.indexOf(O.stationStart),A=d.indexOf(O.stationEnd);for(let J of(0,ae.range)(j,A))_[J].push(O.seatId)}for(let O=0;O<d.length-1;O++){let j=[i.departureTime[O],i.arrivalTime[O]],A=g.reduce((J,be)=>(J[be]=c[be].price[O],J),{});y.push({time:j,price:A,occupiedSeats:_[O]})}return{routeId:o.id,rideId:n,path:d,carriages:p,schedule:{segments:y}}},Cue=async(t,e)=>{let n=await Vt,r=await n.getAll("stations"),i=[];for(let{id:o,city:a,latitude:c,longitude:l}of r){let d=await n.getAllFromIndex("railways","station1",IDBKeyRange.only(o)),p=await n.getAllFromIndex("railways","station2",IDBKeyRange.only(o)),g=[];for(let{station2:y,distance:_}of d)g.push({id:y,distance:_});for(let{station1:y,distance:_}of p)g.push({id:y,distance:_});i.push({id:o,city:a,latitude:c,longitude:l,connectedTo:g})}return i},bue=async(t,e)=>{let{city:n,latitude:r,longitude:i,relations:o}=JSON.parse(e.requestBody);if(r=(0,ae.toNumber)(r),i=(0,ae.toNumber)(i),!(n&&(0,ae.isFinite)(r)&&(0,ae.isFinite)(i)&&Array.isArray(o)))return $e("Invalid station data",ng.invalidStationData);let a=(0,ae.clamp)((0,ae.toNumber)(r),-90,90),c=Kae((0,ae.toNumber)(i)),l=await Vt,d=Array.from(new Set(o)).filter(Boolean),p=await Promise.all(d.map(_=>l.get("stations",Number(_)))),g=p.filter(Boolean);if(d.length!==g.length)return console.log("#relations",p,g),$e("Invalid station relations",ng.invalidStationData);let y;try{y=await l.add("stations",{city:n,latitude:a,longitude:c})}catch(_){if(_ instanceof Error&&_.name==="ConstraintError")return $e("Station already exists",ng.stationExists);throw _}try{let _=l.transaction("railways","readwrite"),C=_.store;await Promise.all(g.map(({id:O,latitude:j,longitude:A})=>{let J=Math.ceil(Vw(j,A,a,c));return C.add({distance:J,station1:(0,ae.toInteger)(O),station2:(0,ae.toInteger)(y)})}).concat(_.done))}catch(_){throw await l.delete("stations",y),_}return{id:y}},xue=async(t,e)=>{let n=Number(e.params.id),r=await Vt;if(!await r.get("stations",n))return $e("Station not found",Di.recordNotFound);if(await r.countFromIndex("routes","station",n)>0)return $e("Station is already used",Di.recordInUse);let a=r.transaction(["stations","railways"],"readwrite"),c=a.objectStore("railways"),l=await c.index("station1").getAllKeys(n),d=await c.index("station2").getAllKeys(n),p=[a.objectStore("stations").delete(n),a.done];return l.length>0&&p.push(...l.map(g=>c.delete(g))),d.length>0&&p.push(...d.map(g=>c.delete(g))),await Promise.all(p),null},Due=async(t,e)=>(await(await Vt).getAll("users")).map(i=>(0,ae.pick)(i,["id","email","role","name"]));function Oa(t){return async(e,n)=>{let{Authorization:r=""}=n.requestHeaders,o=r.match(ck)?.[1];if(!o)return ig();let a=await(await Vt).getFromIndex("users","token",o);return a?t(e,n,a):ig()}}function ri(t){return async(e,n)=>{let{Authorization:r=""}=n.requestHeaders,o=r.match(/^Bearer\s+([\w\d]+)$/)?.[1];if(!o)return ig();let a=await(await Vt).getFromIndex("users","token",o);return a?.role===sc.manager?t(e,n,a):ig()}}var Eue=K2({routes(){this.namespace="api",this.post("/signin",Yae),this.post("/signup",Qae),this.delete("/logout",Oa(Zae)),this.get("/profile",Oa(sue)),this.put("/profile",Oa(aue)),this.put("/profile/password",Oa(uue)),this.get("/station",Cue),this.post("/station",ri(bue)),this.delete("/station/:id",ri(xue)),this.get("/carriage",tue),this.post("/carriage",ri(nue)),this.put("/carriage/:code",ri(iue)),this.delete("/carriage/:code",ri(rue)),this.get("/route",cue),this.post("/route",ri(lue)),this.get("/route/:id",ri(fue)),this.put("/route/:id",ri(mue)),this.delete("/route/:id",ri(due)),this.post("/route/:routeId/ride",ri(hue)),this.put("/route/:routeId/ride/:rideId",ri(gue)),this.delete("/route/:routeId/ride/:rideId",ri(pue)),this.get("/search",yue),this.get("/search/:id",wue),this.get("/order",Oa(oue)),this.post("/order",Oa(Xae)),this.delete("/order/:id",Oa(eue)),this.get("/users",ri(Due)),this.passthrough(t=>!/^\/api\//.test(t.url)&&!new RegExp(`^${document.location.origin}/api/`).test(t.url))}});function fk(){return Eue.start()}var at="primary",ud=Symbol("RouteTitle"),zw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function fc(t){return new zw(t)}function Iue(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],c=t[o];if(a[0]===":")i[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Sue(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!co(t[n],e[n]))return!1;return!0}function co(t,e){let n=t?Gw(t):void 0,r=e?Gw(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!wk(t[i],e[i]))return!1;return!0}function Gw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function wk(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function Ck(t){return t.length>0?t[t.length-1]:null}function Ns(t){return yv(t)?t:va(t)?mn(Promise.resolve(t)):ke(t)}var Fue={exact:xk,subset:Dk},bk={exact:Tue,subset:Mue,ignored:()=>!0};function hk(t,e,n){return Fue[n.paths](t.root,e.root,n.matrixParams)&&bk[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Tue(t,e){return co(t,e)}function xk(t,e,n){if(!La(t.segments,e.segments)||!ug(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!xk(t.children[r],e.children[r],n))return!1;return!0}function Mue(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>wk(t[n],e[n]))}function Dk(t,e,n){return Ek(t,e,e.segments,n)}function Ek(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!La(i,n)||e.hasChildren()||!ug(i,n,r))}else if(t.segments.length===n.length){if(!La(t.segments,n)||!ug(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Dk(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!La(t.segments,i)||!ug(t.segments,i,r)||!t.children[at]?!1:Ek(t.children[at],e,o,r)}}function ug(t,e,n){return e.every((r,i)=>bk[n](t[i].parameters,r.parameters))}var Wo=class{constructor(e=new Bt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=fc(this.queryParams),this._queryParamMap}toString(){return Rue.serialize(this)}},Bt=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cg(this)}},ka=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=fc(this.parameters),this._parameterMap}toString(){return Sk(this)}};function Aue(t,e){return La(t,e)&&t.every((n,r)=>co(n.parameters,e[r].parameters))}function La(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Nue(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===at&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==at&&(n=n.concat(e(i,r)))}),n}var yC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:()=>new Xl,providedIn:"root"});let t=e;return t})(),Xl=class{parse(e){let n=new Kw(e);return new Wo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Wl(e.root,!0)}`,r=kue(e.queryParams),i=typeof e.fragment=="string"?`#${Oue(e.fragment)}`:"";return`${n}${r}${i}`}},Rue=new Xl;function cg(t){return t.segments.map(e=>Sk(e)).join("/")}function Wl(t,e){if(!t.hasChildren())return cg(t);if(e){let n=t.children[at]?Wl(t.children[at],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==at&&r.push(`${i}:${Wl(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Nue(t,(r,i)=>i===at?[Wl(t.children[at],!1)]:[`${i}:${Wl(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[at]!=null?`${cg(t)}/${n[0]}`:`${cg(t)}/(${n.join("//")})`}}function Ik(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sg(t){return Ik(t).replace(/%3B/gi,";")}function Oue(t){return encodeURI(t)}function Ww(t){return Ik(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lg(t){return decodeURIComponent(t)}function pk(t){return lg(t.replace(/\+/g,"%20"))}function Sk(t){return`${Ww(t.path)}${Pue(t.parameters)}`}function Pue(t){return Object.entries(t).map(([e,n])=>`;${Ww(e)}=${Ww(n)}`).join("")}function kue(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${sg(n)}=${sg(i)}`).join("&"):`${sg(n)}=${sg(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Lue=/^[^\/()?;#]+/;function $w(t){let e=t.match(Lue);return e?e[0]:""}var jue=/^[^\/()?;=#]+/;function Vue(t){let e=t.match(jue);return e?e[0]:""}var Bue=/^[^=?&#]+/;function $ue(t){let e=t.match(Bue);return e?e[0]:""}var Uue=/^[^&#]+/;function que(t){let e=t.match(Uue);return e?e[0]:""}var Kw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[at]=new Bt(e,n)),r}parseSegment(){let e=$w(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new xe(4009,!1);return this.capture(e),new ka(lg(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Vue(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=$w(this.remaining);i&&(r=i,this.capture(r))}e[lg(n)]=lg(r)}parseQueryParam(e){let n=$ue(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=que(this.remaining);a&&(r=a,this.capture(r))}let i=pk(n),o=pk(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=$w(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new xe(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=at);let a=this.parseChildren();n[o]=Object.keys(a).length===1?a[at]:new Bt([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new xe(4011,!1)}};function Fk(t){return t.segments.length>0?new Bt([],{[at]:t}):t}function Tk(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=Tk(i);if(r===at&&o.segments.length===0&&o.hasChildren())for(let[a,c]of Object.entries(o.children))e[a]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Bt(t.segments,e);return Hue(n)}function Hue(t){if(t.numberOfChildren===1&&t.children[at]){let e=t.children[at];return new Bt(t.segments.concat(e.segments),e.children)}return t}function ja(t){return t instanceof Wo}function zue(t,e,n=null,r=null){let i=Mk(t);return Ak(i,e,n,r)}function Mk(t){let e;function n(o){let a={};for(let l of o.children){let d=n(l);a[l.outlet]=d}let c=new Bt(o.url,a);return o===t&&(e=c),c}let r=n(t.root),i=Fk(r);return e??i}function Ak(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Uw(i,i,i,n,r);let o=Gue(e);if(o.toRoot())return Uw(i,i,new Bt([],{}),n,r);let a=Wue(o,i,t),c=a.processChildren?Yl(a.segmentGroup,a.index,o.commands):Rk(a.segmentGroup,a.index,o.commands);return Uw(i,a.segmentGroup,c,n,r)}function dg(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ed(t){return typeof t=="object"&&t!=null&&t.outlets}function Uw(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let a;t===e?a=n:a=Nk(t,e,n);let c=Fk(Tk(a));return new Wo(c,o,i)}function Nk(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Nk(o,e,n)}),new Bt(t.segments,r)}var fg=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&dg(r[0]))throw new xe(4003,!1);let i=r.find(ed);if(i&&i!==Ck(r))throw new xe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Gue(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new fg(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([l,d])=>{c[l]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new fg(n,e,r)}var cc=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Wue(t,e,n){if(t.isAbsolute)return new cc(e,!0,0);if(!n)return new cc(e,!1,NaN);if(n.parent===null)return new cc(n,!0,0);let r=dg(t.commands[0])?0:1,i=n.segments.length-1+r;return Kue(n,i,t.numberOfDoubleDots)}function Kue(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new xe(4005,!1);i=r.segments.length}return new cc(r,!1,i-o)}function Zue(t){return ed(t[0])?t[0].outlets:{[at]:t}}function Rk(t,e,n){if(t??=new Bt([],{}),t.segments.length===0&&t.hasChildren())return Yl(t,e,n);let r=Yue(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Bt(t.segments.slice(0,r.pathIndex),{});return o.children[at]=new Bt(t.segments.slice(r.pathIndex),t.children),Yl(o,0,i)}else return r.match&&i.length===0?new Bt(t.segments,{}):r.match&&!t.hasChildren()?Zw(t,e,n):r.match?Yl(t,0,i):Zw(t,e,n)}function Yl(t,e,n){if(n.length===0)return new Bt(t.segments,{});{let r=Zue(n),i={};if(Object.keys(r).some(o=>o!==at)&&t.children[at]&&t.numberOfChildren===1&&t.children[at].segments.length===0){let o=Yl(t.children[at],e,n);return new Bt(t.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=Rk(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new Bt(t.segments,i)}}function Yue(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let a=t.segments[i],c=n[r];if(ed(c))break;let l=`${c}`,d=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!mk(l,d,a))return o;r+=2}else{if(!mk(l,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Zw(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ed(o)){let l=Que(o.outlets);return new Bt(r,l)}if(i===0&&dg(n[0])){let l=t.segments[e];r.push(new ka(l.path,gk(n[0]))),i++;continue}let a=ed(o)?o.outlets[at]:`${o}`,c=i<n.length-1?n[i+1]:null;a&&c&&dg(c)?(r.push(new ka(a,gk(c))),i+=2):(r.push(new ka(a,{})),i++)}return new Bt(r,{})}function Que(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Zw(new Bt([],{}),0,r))}),e}function gk(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function mk(t,e,n){return t==n.path&&co(e,n.parameters)}var Ql="imperative",ir=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ir||{}),Ei=class{constructor(e,n){this.id=e,this.url=n}},td=class extends Ei{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ir.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ii=class extends Ei{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ir.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},oi=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(oi||{}),Yw=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Yw||{}),Go=class extends Ei{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ir.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Va=class extends Ei{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ir.NavigationSkipped}},nd=class extends Ei{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ir.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hg=class extends Ei{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ir.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qw=class extends Ei{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ir.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jw=class extends Ei{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ir.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Xw=class extends Ei{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ir.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eC=class extends Ei{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ir.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tC=class{constructor(e){this.route=e,this.type=ir.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},nC=class{constructor(e){this.route=e,this.type=ir.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},rC=class{constructor(e){this.snapshot=e,this.type=ir.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},iC=class{constructor(e){this.snapshot=e,this.type=ir.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},oC=class{constructor(e){this.snapshot=e,this.type=ir.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sC=class{constructor(e){this.snapshot=e,this.type=ir.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var rd=class{},hc=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Jue(t,e){return t.providers&&!t._injector&&(t._injector=xy(t.providers,e,`Route: ${t.path}`)),t._injector??e}function qi(t){return t.outlet||at}function Xue(t,e){let n=t.filter(r=>qi(r)===e);return n.push(...t.filter(r=>qi(r)!==e)),n}function cd(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var aC=class{get injector(){return cd(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new wg(this.rootInjector),this.attachRef=null}},wg=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new aC(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(et(Nr))},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pg=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=uC(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=uC(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=cC(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return cC(e,this._root).map(n=>n.value)}};function uC(t,e){if(t===e.value)return e;for(let n of e.children){let r=uC(t,n);if(r)return r}return null}function cC(t,e){if(t===e.value)return[e];for(let n of e.children){let r=cC(t,n);if(r.length)return r.unshift(e),r}return[]}var ii=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function uc(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var gg=class extends pg{constructor(e,n){super(e),this.snapshot=n,_C(this,e)}toString(){return this.snapshot.toString()}};function Ok(t){let e=ece(t),n=new Xn([new ka("",{})]),r=new Xn({}),i=new Xn({}),o=new Xn({}),a=new Xn(""),c=new Hi(n,r,o,a,i,at,t,e.root);return c.snapshot=e.root,new gg(new ii(c,[]),e)}function ece(t){let e={},n={},r={},i="",o=new lc([],e,r,i,n,at,t,null,{});return new vg("",new ii(o,[]))}var Hi=class{constructor(e,n,r,i,o,a,c,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(qe(d=>d[ud]))??ke(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(qe(e=>fc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(qe(e=>fc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:q(q({},e.params),t.params),data:q(q({},e.data),t.data),resolve:q(q(q(q({},t.data),e.data),i?.data),t._resolvedData)}:r={params:q({},t.params),data:q({},t.data),resolve:q(q({},t.data),t._resolvedData??{})},i&&kk(i)&&(r.resolve[ud]=i.title),r}var lc=class{get title(){return this.data?.[ud]}constructor(e,n,r,i,o,a,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=c,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},vg=class extends pg{constructor(e,n){super(n),this.url=e,_C(this,n)}toString(){return Pk(this._root)}};function _C(t,e){e.value._routerState=t,e.children.forEach(n=>_C(t,n))}function Pk(t){let e=t.children.length>0?` { ${t.children.map(Pk).join(", ")} } `:"";return`${t.value}${e}`}function qw(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,co(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),co(e.params,n.params)||t.paramsSubject.next(n.params),Sue(e.url,n.url)||t.urlSubject.next(n.url),co(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function lC(t,e){let n=co(t.params,e.params)&&Aue(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||lC(t.parent,e.parent))}function kk(t){return typeof t.title=="string"||t.title===null}var wC=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=at,this.activateEvents=new Ht,this.deactivateEvents=new Ht,this.attachEvents=new Ht,this.detachEvents=new Ht,this.parentContexts=M(wg),this.location=M(Nu),this.changeDetector=M(ya),this.inputBinder=M(CC,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new xe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new xe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new xe(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new xe(4013,!1);this._activatedRoute=r;let o=this.location,c=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new dC(r,l,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:d,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=rn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Li]});let t=e;return t})(),dC=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Hi?this.route:e===wg?this.childContexts:this.parent.get(e,n)}},CC=new De("");function tce(t,e,n){let r=id(t,e._root,n?n._root:void 0);return new gg(r,e)}function id(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=nce(t,e,n);return new ii(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(c=>id(t,c)),a}}let r=rce(e.value),i=e.children.map(o=>id(t,o));return new ii(r,i)}}function nce(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return id(t,r,i);return id(t,r)})}function rce(t){return new Hi(new Xn(t.url),new Xn(t.params),new Xn(t.queryParams),new Xn(t.fragment),new Xn(t.data),t.outlet,t.component,t)}var od=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Lk="ngNavigationCancelingError";function yg(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ja(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=jk(!1,oi.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function jk(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Lk]=!0,n.cancellationCode=e,n}function ice(t){return Vk(t)&&ja(t.url)}function Vk(t){return!!t&&t[Lk]}var oce=(t,e,n,r)=>qe(i=>(new fC(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),fC=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),qw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=uc(n);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=uc(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=uc(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=uc(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new sC(o.value.snapshot))}),e.children.length&&this.forwardEvent(new iC(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(qw(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),qw(c.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},_g=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},dc=class{constructor(e,n){this.component=e,this.route=n}};function sce(t,e,n){let r=t._root,i=e?e._root:null;return Kl(r,i,n,[r.value])}function ace(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function gc(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!KE(t)?t:e.get(t):r}function Kl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=uc(e);return t.children.forEach(a=>{uce(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,c])=>Jl(c,n.getContext(a),i)),i}function uce(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let l=cce(a,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new _g(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Kl(t,e,c?c.children:null,r,i):Kl(t,e,n,r,i),l&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new dc(c.outlet.component,a))}else a&&Jl(e,c,i),i.canActivateChecks.push(new _g(r)),o.component?Kl(t,null,c?c.children:null,r,i):Kl(t,null,n,r,i);return i}function cce(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!La(t.url,e.url);case"pathParamsOrQueryParamsChange":return!La(t.url,e.url)||!co(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lC(t,e)||!co(t.queryParams,e.queryParams);case"paramsChange":default:return!lC(t,e)}}function Jl(t,e,n){let r=uc(t),i=t.value;Object.entries(r).forEach(([o,a])=>{i.component?e?Jl(a,e.children.getContext(o),n):Jl(a,null,n):Jl(a,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new dc(e.outlet.component,i)):n.canDeactivateChecks.push(new dc(null,i)):n.canDeactivateChecks.push(new dc(null,i))}function ld(t){return typeof t=="function"}function lce(t){return typeof t=="boolean"}function dce(t){return t&&ld(t.canLoad)}function fce(t){return t&&ld(t.canActivate)}function hce(t){return t&&ld(t.canActivateChild)}function pce(t){return t&&ld(t.canDeactivate)}function gce(t){return t&&ld(t.canMatch)}function Bk(t){return t instanceof xo||t?.name==="EmptyError"}var ag=Symbol("INITIAL_VALUE");function pc(){return Yr(t=>kf(t.map(e=>e.pipe(mi(1),Qs(ag)))).pipe(qe(e=>{for(let n of e)if(n!==!0){if(n===ag)return ag;if(n===!1||mce(n))return n}return!0}),Zr(e=>e!==ag),mi(1)))}function mce(t){return ja(t)||t instanceof od}function vce(t,e){return qn(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?ke(ve(q({},n),{guardsResult:!0})):yce(a,r,i,t).pipe(qn(c=>c&&lce(c)?_ce(r,o,t,e):ke(c)),qe(c=>ve(q({},n),{guardsResult:c})))})}function yce(t,e,n,r){return mn(t).pipe(qn(i=>Dce(i.component,i.route,n,e,r)),Zi(i=>i!==!0,!0))}function _ce(t,e,n,r){return mn(e).pipe(us(i=>cu(Cce(i.route.parent,r),wce(i.route,r),xce(t,i.path,n),bce(t,i.route,n))),Zi(i=>i!==!0,!0))}function wce(t,e){return t!==null&&e&&e(new oC(t)),ke(!0)}function Cce(t,e){return t!==null&&e&&e(new rC(t)),ke(!0)}function bce(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ke(!0);let i=r.map(o=>Lf(()=>{let a=cd(e)??n,c=gc(o,a),l=fce(c)?c.canActivate(e,t):ki(a,()=>c(e,t));return Ns(l).pipe(Zi())}));return ke(i).pipe(pc())}function xce(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>ace(a)).filter(a=>a!==null).map(a=>Lf(()=>{let c=a.guards.map(l=>{let d=cd(a.node)??n,p=gc(l,d),g=hce(p)?p.canActivateChild(r,t):ki(d,()=>p(r,t));return Ns(g).pipe(Zi())});return ke(c).pipe(pc())}));return ke(o).pipe(pc())}function Dce(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ke(!0);let a=o.map(c=>{let l=cd(e)??i,d=gc(c,l),p=pce(d)?d.canDeactivate(t,e,n,r):ki(l,()=>d(t,e,n,r));return Ns(p).pipe(Zi())});return ke(a).pipe(pc())}function Ece(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ke(!0);let o=i.map(a=>{let c=gc(a,t),l=dce(c)?c.canLoad(e,n):ki(t,()=>c(e,n));return Ns(l)});return ke(o).pipe(pc(),$k(r))}function $k(t){return pv(dt(e=>{if(typeof e!="boolean")throw yg(t,e)}),qe(e=>e===!0))}function Ice(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ke(!0);let o=i.map(a=>{let c=gc(a,t),l=gce(c)?c.canMatch(e,n):ki(t,()=>c(e,n));return Ns(l)});return ke(o).pipe(pc(),$k(r))}var sd=class{constructor(e){this.segmentGroup=e||null}},ad=class extends Error{constructor(e){super(),this.urlTree=e}};function ac(t){return vn(new sd(t))}function Sce(t){return vn(new xe(4e3,!1))}function Fce(t){return vn(jk(!1,oi.GuardRejected))}var hC=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ke(r);if(i.numberOfChildren>1||!i.children[at])return Sce(`${e.redirectTo}`);i=i.children[at]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let c=n,{queryParams:l,fragment:d,routeConfig:p,url:g,outlet:y,params:_,data:C,title:O}=i,j=ki(o,()=>c({params:_,data:C,queryParams:l,fragment:d,routeConfig:p,url:g,outlet:y,title:O}));if(j instanceof Wo)throw new ad(j);n=j}let a=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ad(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Wo(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),a={};return Object.entries(n.children).forEach(([c,l])=>{a[c]=this.createSegmentGroup(e,l,r,i)}),new Bt(o,a)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new xe(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},pC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tce(t,e,n,r,i){let o=Uk(t,e,n);return o.matched?(r=Jue(e,r),Ice(r,e,n,i).pipe(qe(a=>a===!0?o:q({},pC)))):ke(o)}function Uk(t,e,n){if(e.path==="**")return Mce(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?q({},pC):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Iue)(n,t,e);if(!i)return q({},pC);let o={};Object.entries(i.posParams??{}).forEach(([c,l])=>{o[c]=l.path});let a=i.consumed.length>0?q(q({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function Mce(t){return{matched:!0,parameters:t.length>0?Ck(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function vk(t,e,n,r){return n.length>0&&Rce(t,n,r)?{segmentGroup:new Bt(e,Nce(r,new Bt(n,t.children))),slicedSegments:[]}:n.length===0&&Oce(t,n,r)?{segmentGroup:new Bt(t.segments,Ace(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Bt(t.segments,t.children),slicedSegments:n}}function Ace(t,e,n,r){let i={};for(let o of n)if(Cg(t,e,o)&&!r[qi(o)]){let a=new Bt([],{});i[qi(o)]=a}return q(q({},r),i)}function Nce(t,e){let n={};n[at]=e;for(let r of t)if(r.path===""&&qi(r)!==at){let i=new Bt([],{});n[qi(r)]=i}return n}function Rce(t,e,n){return n.some(r=>Cg(t,e,r)&&qi(r)!==at)}function Oce(t,e,n){return n.some(r=>Cg(t,e,r))}function Cg(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Pce(t,e,n){return e.length===0&&!t.children[n]}var gC=class{};function kce(t,e,n,r,i,o,a="emptyOnly"){return new mC(t,e,n,r,i,a,o).recognize()}var Lce=31,mC=class{constructor(e,n,r,i,o,a,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=c,this.applyRedirects=new hC(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new xe(4002,`'${e.segmentGroup}'`)}recognize(){let e=vk(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(qe(({children:n,rootSnapshot:r})=>{let i=new ii(r,n),o=new vg("",i),a=zue(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(e){let n=new lc([],Object.freeze({}),Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),at,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,at,n).pipe(qe(r=>({children:r,rootSnapshot:n})),qt(r=>{if(r instanceof ad)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof sd?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(qe(a=>a instanceof ii?[a]:[]))}processChildren(e,n,r,i){let o=[];for(let a of Object.keys(r.children))a==="primary"?o.unshift(a):o.push(a);return mn(o).pipe(us(a=>{let c=r.children[a],l=Xue(n,a);return this.processSegmentGroup(e,l,c,a,i)}),bv((a,c)=>(a.push(...c),a)),cs(null),Cv(),qn(a=>{if(a===null)return ac(r);let c=qk(a);return jce(c),ke(c)}))}processSegment(e,n,r,i,o,a,c){return mn(n).pipe(us(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,o,a,c).pipe(qt(d=>{if(d instanceof sd)return ke(null);throw d}))),Zi(l=>!!l),qt(l=>{if(Bk(l))return Pce(r,i,o)?ke(new gC):ac(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,a,c,l){return qi(r)!==a&&(a===at||!Cg(i,o,r))?ac(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,a,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,a,l):ac(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,a,c){let{matched:l,parameters:d,consumedSegments:p,positionalParamSegments:g,remainingSegments:y}=Uk(n,i,o);if(!l)return ac(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Lce&&(this.allowRedirects=!1));let _=new lc(o,d,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,yk(i),qi(i),i.component??i._loadedComponent??null,i,_k(i)),C=mg(_,c,this.paramsInheritanceStrategy);_.params=Object.freeze(C.params),_.data=Object.freeze(C.data);let O=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,g,_,e);return this.applyRedirects.lineralizeSegments(i,O).pipe(qn(j=>this.processSegment(e,r,n,j.concat(y),a,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,o,a){let c=Tce(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(Yr(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Yr(({routes:d})=>{let p=r._loadedInjector??e,{parameters:g,consumedSegments:y,remainingSegments:_}=l,C=new lc(y,g,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,yk(r),qi(r),r.component??r._loadedComponent??null,r,_k(r)),O=mg(C,a,this.paramsInheritanceStrategy);C.params=Object.freeze(O.params),C.data=Object.freeze(O.data);let{segmentGroup:j,slicedSegments:A}=vk(n,y,_,d);if(A.length===0&&j.hasChildren())return this.processChildren(p,d,j,C).pipe(qe(be=>new ii(C,be)));if(d.length===0&&A.length===0)return ke(new ii(C,[]));let J=qi(r)===o;return this.processSegment(p,d,j,A,J?at:o,!0,C).pipe(qe(be=>new ii(C,be instanceof ii?[be]:[])))}))):ac(n)))}getChildConfig(e,n,r){return n.children?ke({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ke({routes:n._loadedRoutes,injector:n._loadedInjector}):Ece(e,n,r,this.urlSerializer).pipe(qn(i=>i?this.configLoader.loadChildren(e,n).pipe(dt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Fce(n))):ke({routes:[],injector:e})}};function jce(t){t.sort((e,n)=>e.value.outlet===at?-1:n.value.outlet===at?1:e.value.outlet.localeCompare(n.value.outlet))}function Vce(t){let e=t.value.routeConfig;return e&&e.path===""}function qk(t){let e=[],n=new Set;for(let r of t){if(!Vce(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=qk(r.children);e.push(new ii(r.value,i))}return e.filter(r=>!n.has(r))}function yk(t){return t.data||{}}function _k(t){return t.resolve||{}}function Bce(t,e,n,r,i,o){return qn(a=>kce(t,e,n,r,a.extractedUrl,i,o).pipe(qe(({state:c,tree:l})=>ve(q({},a),{targetSnapshot:c,urlAfterRedirects:l}))))}function $ce(t,e){return qn(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ke(n);let o=new Set(i.map(l=>l.route)),a=new Set;for(let l of o)if(!a.has(l))for(let d of Hk(l))a.add(d);let c=0;return mn(a).pipe(us(l=>o.has(l)?Uce(l,r,t,e):(l.data=mg(l,l.parent,t).resolve,ke(void 0))),dt(()=>c++),lu(1),qn(l=>c===a.size?ke(n):Kr))})}function Hk(t){let e=t.children.map(n=>Hk(n)).flat();return[t,...e]}function Uce(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!kk(i)&&(o[ud]=i.title),qce(o,t,e,r).pipe(qe(a=>(t._resolvedData=a,t.data=mg(t,t.parent,n).resolve,null)))}function qce(t,e,n,r){let i=Gw(t);if(i.length===0)return ke({});let o={};return mn(i).pipe(qn(a=>Hce(t[a],e,n,r).pipe(Zi(),dt(c=>{if(c instanceof od)throw yg(new Xl,c);o[a]=c}))),lu(1),wv(o),qt(a=>Bk(a)?Kr:vn(a)))}function Hce(t,e,n,r){let i=cd(e)??r,o=gc(t,i),a=o.resolve?o.resolve(e,n):ki(i,()=>o(e,n));return Ns(a)}function Hw(t){return Yr(e=>{let n=t(e);return n?mn(n).pipe(qe(()=>e)):ke(e)})}var zk=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(a=>a.outlet===at);return i}getResolvedTitleForRoute(r){return r.data[ud]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:()=>M(zce),providedIn:"root"});let t=e;return t})(),zce=(()=>{let e=class e extends zk{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(et(fF))},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bC=new De("",{providedIn:"root",factory:()=>({})}),Gce=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ke],decls:1,vars:0,template:function(i,o){i&1&&Y(0,"router-outlet")},dependencies:[wC],encapsulation:2});let t=e;return t})();function xC(t){let e=t.children&&t.children.map(xC),n=e?ve(q({},t),{children:e}):q({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==at&&(n.component=Gce),n}var DC=new De(""),Wce=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=M(Iy)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ke(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ns(r.loadComponent()).pipe(qe(Gk),dt(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),vi(()=>{this.componentLoaders.delete(r)})),o=new uu(i,()=>new Kn).pipe(au());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ke({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let a=Kce(i,this.compiler,r,this.onLoadEndListener).pipe(vi(()=>{this.childrenLoaders.delete(i)})),c=new uu(a,()=>new Kn).pipe(au());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Kce(t,e,n,r){return Ns(t.loadChildren()).pipe(qe(Gk),qn(i=>i instanceof el||Array.isArray(i)?ke(i):mn(e.compileModuleAsync(i))),qe(i=>{r&&r(t);let o,a,c=!1;return Array.isArray(i)?(a=i,c=!0):(o=i.create(n).injector,a=o.get(DC,[],{optional:!0,self:!0}).flat()),{routes:a.map(xC),injector:o}}))}function Zce(t){return t&&typeof t=="object"&&"default"in t}function Gk(t){return Zce(t)?t.default:t}var EC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:()=>M(Yce),providedIn:"root"});let t=e;return t})(),Yce=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qce=new De("");var Jce=new De(""),Xce=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Kn,this.transitionAbortSubject=new Kn,this.configLoader=M(Wce),this.environmentInjector=M(Nr),this.urlSerializer=M(yC),this.rootContexts=M(wg),this.location=M(wa),this.inputBindingEnabled=M(CC,{optional:!0})!==null,this.titleStrategy=M(zk),this.options=M(bC,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=M(EC),this.createViewTransition=M(Qce,{optional:!0}),this.navigationErrorHandler=M(Jce,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ke(void 0),this.rootComponentType=null;let r=o=>this.events.next(new tC(o)),i=o=>this.events.next(new nC(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ve(q(q({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Xn({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ql,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zr(a=>a.id!==0),qe(a=>ve(q({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Yr(a=>{let c=!1,l=!1;return ke(a).pipe(Yr(d=>{if(this.navigationId>a.id)return this.cancelNavigationTransition(a,"",oi.SupersededByNewNavigation),Kr;this.currentTransition=a,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,targetBrowserUrl:typeof d.extras.browserUrl=="string"?this.urlSerializer.parse(d.extras.browserUrl):d.extras.browserUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?ve(q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let p=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=d.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!p&&g!=="reload"){let y="";return this.events.next(new Va(d.id,this.urlSerializer.serialize(d.rawUrl),y,Yw.IgnoredSameUrlNavigation)),d.resolve(!1),Kr}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return ke(d).pipe(Yr(y=>{let _=this.transitions?.getValue();return this.events.next(new td(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),_!==this.transitions?.getValue()?Kr:Promise.resolve(y)}),Bce(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),dt(y=>{a.targetSnapshot=y.targetSnapshot,a.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=ve(q({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let _=new hg(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(_)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:y,extractedUrl:_,source:C,restoredState:O,extras:j}=d,A=new td(y,this.urlSerializer.serialize(_),C,O);this.events.next(A);let J=Ok(this.rootComponentType).snapshot;return this.currentTransition=a=ve(q({},d),{targetSnapshot:J,urlAfterRedirects:_,extras:ve(q({},j),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,ke(a)}else{let y="";return this.events.next(new Va(d.id,this.urlSerializer.serialize(d.extractedUrl),y,Yw.IgnoredByUrlHandlingStrategy)),d.resolve(!1),Kr}}),dt(d=>{let p=new Qw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),qe(d=>(this.currentTransition=a=ve(q({},d),{guards:sce(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),a)),vce(this.environmentInjector,d=>this.events.next(d)),dt(d=>{if(a.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw yg(this.urlSerializer,d.guardsResult);let p=new Jw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(p)}),Zr(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",oi.GuardRejected),!1)),Hw(d=>{if(d.guards.canActivateChecks.length)return ke(d).pipe(dt(p=>{let g=new Xw(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}),Yr(p=>{let g=!1;return ke(p).pipe($ce(this.paramsInheritanceStrategy,this.environmentInjector),dt({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(p,"",oi.NoDataFromResolver)}}))}),dt(p=>{let g=new eC(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}))}),Hw(d=>{let p=g=>{let y=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(g.routeConfig).pipe(dt(_=>{g.component=_}),qe(()=>{})));for(let _ of g.children)y.push(...p(_));return y};return kf(p(d.targetSnapshot.root)).pipe(cs(null),mi(1))}),Hw(()=>this.afterPreactivation()),Yr(()=>{let{currentSnapshot:d,targetSnapshot:p}=a,g=this.createViewTransition?.(this.environmentInjector,d.root,p.root);return g?mn(g).pipe(qe(()=>a)):ke(a)}),qe(d=>{let p=tce(r.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=a=ve(q({},d),{targetRouterState:p}),this.currentNavigation.targetRouterState=p,a}),dt(()=>{this.events.next(new rd)}),oce(this.rootContexts,r.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),mi(1),dt({next:d=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ii(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{c=!0}}),xv(this.transitionAbortSubject.pipe(dt(d=>{throw d}))),vi(()=>{!c&&!l&&this.cancelNavigationTransition(a,"",oi.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),qt(d=>{if(l=!0,Vk(d))this.events.next(new Go(a.id,this.urlSerializer.serialize(a.extractedUrl),d.message,d.cancellationCode)),ice(d)?this.events.next(new hc(d.url,d.navigationBehaviorOptions)):a.resolve(!1);else{let p=new nd(a.id,this.urlSerializer.serialize(a.extractedUrl),d,a.targetSnapshot??void 0);try{let g=ki(this.environmentInjector,()=>this.navigationErrorHandler?.(p));if(g instanceof od){let{message:y,cancellationCode:_}=yg(this.urlSerializer,g);this.events.next(new Go(a.id,this.urlSerializer.serialize(a.extractedUrl),y,_)),this.events.next(new hc(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(p);let y=r.errorHandler(d);a.resolve(!!y)}}catch(g){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(g)}}return Kr}))}))}cancelNavigationTransition(r,i,o){let a=new Go(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(a),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ele(t){return t!==Ql}var IC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:()=>M(tle),providedIn:"root"});let t=e;return t})(),vC=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},tle=(()=>{let e=class e extends vC{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ci(e)))(o||e)}})(),e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:()=>M(nle),providedIn:"root"});let t=e;return t})(),nle=(()=>{let e=class e extends Wk{constructor(){super(...arguments),this.location=M(wa),this.urlSerializer=M(yC),this.options=M(bC,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=M(EC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Wo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ok(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof td)this.stateMemento=this.createStateMemento();else if(r instanceof Va)this.rawUrlTree=i.initialUrl;else if(r instanceof hg){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof rd?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Go&&(r.code===oi.GuardRejected||r.code===oi.NoDataFromResolver)?this.restoreHistory(i):r instanceof nd?this.restoreHistory(i,!0):r instanceof Ii&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof Wo?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let a=this.browserPageId,c=q(q({},i.extras.state),this.generateNgRouterState(i.id,a));this.location.replaceState(o,"",c)}else{let a=q(q({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",a)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.currentUrlTree===r.finalUrl&&a===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ci(e)))(o||e)}})(),e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Zl||{});function rle(t,e){t.events.pipe(Zr(n=>n instanceof Ii||n instanceof Go||n instanceof nd||n instanceof Va),qe(n=>n instanceof Ii||n instanceof Va?Zl.COMPLETE:(n instanceof Go?n.code===oi.Redirect||n.code===oi.SupersededByNewNavigation:!1)?Zl.REDIRECTING:Zl.FAILED),Zr(n=>n!==Zl.REDIRECTING),mi(1)).subscribe(()=>{e()})}function ile(t){throw t}var ole={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sle={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},an=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=M(jh),this.stateManager=M(Wk),this.options=M(bC,{optional:!0})||{},this.pendingTasks=M(Mo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=M(Xce),this.urlSerializer=M(yC),this.location=M(wa),this.urlHandlingStrategy=M(EC),this._events=new Kn,this.errorHandler=this.options.errorHandler||ile,this.navigated=!1,this.routeReuseStrategy=M(IC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=M(DC,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!M(CC,{optional:!0}),this.eventsSubscription=new On,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(i,a),i instanceof Go&&i.code!==oi.Redirect&&i.code!==oi.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ii)this.navigated=!0;else if(i instanceof hc){let c=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),d=q({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ele(o.source)},c);this.scheduleNavigation(l,Ql,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}ule(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ql,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let a={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let d=q({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(a.state=d)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,c,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(xC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:a,fragment:c,queryParamsHandling:l,preserveFragment:d}=i,p=d?this.currentUrlTree.fragment:c,g=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":g=q(q({},this.currentUrlTree.queryParams),a);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=a||null}g!==null&&(g=this.removeEmptyProps(g));let y;try{let _=o?o.snapshot:this.routerState.snapshot.root;y=Mk(_)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),y=this.currentUrlTree.root}return Ak(y,r,g,p??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=ja(r)?r:this.parseUrl(r),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,Ql,null,i)}navigate(r,i={skipLocationChange:!1}){return ale(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=q({},ole):i===!1?o=q({},sle):o=i,ja(r))return hk(this.currentUrlTree,r,o);let a=this.parseUrl(r);return hk(this.currentUrlTree,a,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,a])=>(a!=null&&(i[o]=a),i),{})}scheduleNavigation(r,i,o,a,c){if(this.disposed)return Promise.resolve(!1);let l,d,p;c?(l=c.resolve,d=c.reject,p=c.promise):p=new Promise((y,_)=>{l=y,d=_});let g=this.pendingTasks.add();return rle(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:a,resolve:l,reject:d,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(y=>Promise.reject(y))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ale(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new xe(4008,!1)}function ule(t){return!(t instanceof rd)&&!(t instanceof hc)}var bg=(()=>{let e=class e{constructor(r,i,o,a,c,l){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=a,this.el=c,this.locationStrategy=l,this.href=null,this.onChanges=new Kn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let d=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=r.events.subscribe(p=>{p instanceof Ii&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ja(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,o,a,c){let l=this.urlTree;if(l===null||this.isAnchorElement&&(r!==0||i||o||a||c||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:g1(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,a=this.el.nativeElement;i!==null?o.setAttribute(a,r,i):o.removeAttribute(a,r)}get urlTree(){return this.routerLinkInput===null?null:ja(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Le(an),Le(Hi),ey("tabindex"),Le(Ao),Le(Jr),Le(Lu))},e.\u0275dir=rn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&re("click",function(c){return o.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),i&2&&tr("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Pu],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Pu],replaceUrl:[2,"replaceUrl","replaceUrl",Pu],routerLink:"routerLink"},standalone:!0,features:[by,Li]});let t=e;return t})();var cle=new De("");function Kk(t,...e){return Tu([{provide:DC,multi:!0,useValue:t},[],{provide:Hi,useFactory:lle,deps:[an]},{provide:Bh,multi:!0,useFactory:dle},e.map(n=>n.\u0275providers)])}function lle(t){return t.routerState.root}function dle(){let t=M(Eo);return e=>{let n=t.get(Cs);if(e!==n.components[0])return;let r=t.get(an),i=t.get(fle);t.get(hle)===1&&r.initialNavigation(),t.get(ple,null,ht.Optional)?.setUpPreloading(),t.get(cle,null,ht.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fle=new De("",{factory:()=>new Kn}),hle=new De("",{providedIn:"root",factory:()=>1});var ple=new De("");var xg=(()=>{let e=class e{storeValue(r,i){localStorage.setItem(r,i)}loadValue(r){return localStorage.getItem(r)}clearValue(r){localStorage.removeItem(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Vn=(()=>{let e=class e{constructor(){this.isAuthenticated=ge(!1),this.apiSignupUrl="/api/signup",this.apiSigninUrl="/api/signin",this.apiLogoutUrl="/api/logout",this.authTokenKey="auth_token",this.httpClient=M(nr),this.storageService=M(xg),this._authToken=this.storageService.loadValue(this.authTokenKey)||"",this._authToken!==""&&this.isAuthenticated.set(!0)}get authToken(){return this._authToken}signUp(r,i){let o={email:r,password:i};return this.httpClient.post(this.apiSignupUrl,o)}signIn(r,i){let o={email:r,password:i};return this.httpClient.post(this.apiSigninUrl,o).pipe(dt(a=>{this._authToken=a.token,this.storageService.storeValue(this.authTokenKey,a.token),this.isAuthenticated.set(!0)}))}signOut(){return this.httpClient.delete(this.apiLogoutUrl,{}).pipe(dt(()=>{this._authToken="",this.storageService.clearValue(this.authTokenKey),this.isAuthenticated.set(!1)}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Zk=(t,e)=>{let n=M(Vn);return t=t.clone({headers:t.headers.set("Authorization",`Bearer ${n.authToken}`)}),e(t)};var Ko={unknownError:!0},vle={"":{}},yle={"":{}},_le={"Email already exists":{emailAlreadyExists:!0}},wle={"Password is wrong":{invalidPassword:!0}},Cle={"Invalid station data":{invalidStationData:!0}},ble={"Station is already used":{stationIsAlreadyUsed:!0}},lo=(()=>{let e=class e{handleError(r,i,o){if(!o.error)return Ko;let a=`${r} ${i}`,c=o.error.message;switch(a){case"GET /api/signup":return vle[c]??Ko;case"GET /api/signin":return yle[c]??Ko;case"GET /api/logout":return Ko;case"PUT /api/profile":return _le[c]??Ko;case"PUT /api/profile/password":return wle[c]??Ko;case"POST /api/station":return Cle[c]??Ko;case"DELETE /api/station/:id":return ble[c]??Ko;default:return Ko}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gr=(()=>{let e=class e{constructor(){this.stations=ge(new Map),this.errorStationId=ge(-1),this.apiStations="/api/station",this.httpClient=M(nr),this.errorService=M(lo)}loadStations(){return this.httpClient.get(this.apiStations).pipe(dt(r=>{this.stations.update(i=>(i.clear(),i)),r.forEach(i=>this.stations.update(o=>o.set(i.id,i)))}),qt(()=>ke([])))}getStationNameById(r){return this.stations().get(r)?.city||""}getStationIdByName(r){let i=null;return this.stations().forEach(o=>{o.city===r&&(i=o.id)}),i}getConnectedStationsIds(r){return this.stations().get(r)?.connectedTo.map(i=>i.id)||[]}createStation(r){return this.httpClient.post(this.apiStations,r).pipe(dt(()=>{this.loadStations().subscribe()}),qt(i=>vn(()=>this.errorService.handleError("POST",this.apiStations,i))))}deleteStation(r){return this.httpClient.delete(`${this.apiStations}/${r}`).pipe(dt(()=>{this.loadStations().subscribe()}),qt(i=>(i?.error?.reason==="recordInUse"&&this.errorStationId.set(r),ke(void 0))))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Rs=(()=>{let e=class e{constructor(){this.carriageTypes=ge([]),this.carriageUrl="/api/carriage",this.errorService=M(lo),this.httpClient=M(nr)}loadCarriages(){return this.httpClient.get(this.carriageUrl).pipe(dt(r=>this.carriageTypes.set(r)))}getSeatsCount(r){let i=this.carriageTypes().find(o=>o.code===r);return i?(i.rightSeats+i.leftSeats)*i.rows:0}getCarriageNameByCode(r){let i=this.carriageTypes().find(o=>o.code===r);return i?i.name:""}createCarriage(r){return this.httpClient.post(this.carriageUrl,r).pipe(dt(()=>{this.carriageTypes.update(i=>[r,...i])}),qt(i=>vn(()=>this.errorService.handleError("POST",this.carriageUrl,i))))}updateCarriage(r){return this.httpClient.put(`${this.carriageUrl}/${r.code}`,r).pipe(dt(()=>{this.loadCarriages().subscribe()}),qt(i=>vn(()=>this.errorService.handleError("PUT",this.carriageUrl,i))))}deleteCarriage(r){return this.httpClient.delete(`${this.carriageUrl}/${r}`).pipe(dt(()=>{this.loadCarriages().subscribe()}),qt(i=>vn(()=>this.errorService.handleError("DELETE","/api/carriage/:code",i))))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Os=(()=>{let e=class e{constructor(){this.name=ge(""),this.email=ge(""),this.role=ge(""),this.apiProfile="/api/profile",this.apiPassword="/api/profile/password",this.httpClient=M(nr),this.errorService=M(lo),this.authService=M(Vn),this.storageService=M(xg),ko(()=>{this.authService.isAuthenticated()?this.loadProfile():this.clearProfile()},{allowSignalWrites:!0}),this.role.set(this.storageService.loadValue("role")||"")}setName(r){return this.httpClient.put(this.apiProfile,{email:this.email(),name:r}).pipe(dt(()=>{this.name.set(r)}),qt(i=>vn(()=>this.errorService.handleError("PUT",this.apiProfile,i))))}setEmail(r){return this.httpClient.put(this.apiProfile,{email:r,name:this.name()}).pipe(dt(()=>{this.email.set(r)}),qt(i=>vn(()=>this.errorService.handleError("PUT",this.apiProfile,i))))}setPassword(r){return this.httpClient.put(this.apiPassword,{password:r}).pipe(qt(i=>vn(()=>this.errorService.handleError("PUT",this.apiPassword,i))))}loadProfile(){this.httpClient.get(this.apiProfile).subscribe(r=>{this.name.set(r.name??""),this.email.set(r.email??""),this.role.set(r.role??""),this.storageService.storeValue("role",r.role)})}clearProfile(){this.name.set(""),this.email.set(""),this.role.set(""),this.storageService.storeValue("role","")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mc=(()=>{let e=class e{constructor(){this.orders=ge([]),this.ordersList=ge([]),this.stationNames=ge([]),this.tripTimes=ge([]),this.tripDurations=ge([]),this.users=ge({id:0,name:"",email:"",role:"user"}),this.apiOrder="/api/order",this.apiUsers="/api/users",this.httpClient=M(nr),this.authService=M(Vn),this.profileService=M(Os),this.stationsService=M(gr),this.errorService=M(lo),ko(()=>{this.authService.isAuthenticated()&&(this.loadOrder(),this.loadOrders())}),ko(()=>{this.profileService.role()==="manager"&&this.loadUsers()})}loadOrder(){this.httpClient.get(`${this.apiOrder}`).subscribe(r=>{this.orders.set(r),this.orders().forEach(i=>{let o=i.path.findIndex(p=>p===i.stationStart),a=i.path.findIndex(p=>p===i.stationEnd),c=i.schedule.segments[o].time[0],l=i.schedule.segments[a].time[1];this.tripTimes.update(p=>[...p,{startTripTime:c,endTripTime:l}]);let d=new Date(l).getTime()-new Date(c).getTime();this.tripDurations.update(p=>[...p,d/1e3/60]),this.stationNames.update(p=>[...p,{startStationName:this.stationsService.getStationNameById(i.stationStart),endStationName:this.stationsService.getStationNameById(i.stationEnd)}])})})}loadOrders(){return this.httpClient.get(`${this.apiOrder}`).pipe(dt(r=>{this.ordersList.set(r)}),qt(()=>ke([])))}postOrder(r,i,o,a){return this.httpClient.post(this.apiOrder,{rideId:r,seat:i,stationStart:o,stationEnd:a}).pipe(dt(()=>{this.loadOrders().subscribe()}),qt(c=>vn(()=>this.errorService.handleError("POST",this.apiOrder,c))))}loadUsers(){this.httpClient.get(this.apiUsers).subscribe(r=>{this.users.set(r)})}cancelOrder(r){return this.httpClient.delete(`${this.apiOrder}/${r}`).pipe(dt(()=>{this.loadOrders().subscribe()}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Yk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-not-found-page"]],standalone:!0,features:[Ke],decls:2,vars:0,template:function(i,o){i&1&&(x(0,"p"),S(1,"not-found-page works!"),D())},changeDetection:0});let t=e;return t})();var sL=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Le(Ao),Le(Jr))},e.\u0275dir=rn({type:e});let t=e;return t})(),Rg=(()=>{let e=class e extends sL{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ci(e)))(o||e)}})(),e.\u0275dir=rn({type:e,features:[er]});let t=e;return t})(),md=new De("");var xle={provide:md,useExisting:Rr(()=>fn),multi:!0};function Dle(){let t=Vo()?Vo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Ele=new De(""),fn=(()=>{let e=class e extends sL{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Dle())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(Le(Ao),Le(Jr),Le(Ele,8))},e.\u0275dir=rn({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&re("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[Lr([xle]),er]});let t=e;return t})();function Ps(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function aL(t){return t!=null&&typeof t.length=="number"}var Ba=new De(""),Og=new De(""),Ile=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ze=class{static min(e){return uL(e)}static max(e){return cL(e)}static required(e){return Sle(e)}static requiredTrue(e){return Fle(e)}static email(e){return Tle(e)}static minLength(e){return Mle(e)}static maxLength(e){return lL(e)}static pattern(e){return Ale(e)}static nullValidator(e){return Eg(e)}static compose(e){return mL(e)}static composeAsync(e){return yL(e)}};function uL(t){return e=>{if(Ps(e.value)||Ps(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function cL(t){return e=>{if(Ps(e.value)||Ps(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Sle(t){return Ps(t.value)?{required:!0}:null}function Fle(t){return t.value===!0?null:{required:!0}}function Tle(t){return Ps(t.value)||Ile.test(t.value)?null:{email:!0}}function Mle(t){return e=>Ps(e.value)||!aL(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function lL(t){return e=>aL(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Ale(t){if(!t)return Eg;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ps(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Eg(t){return null}function dL(t){return t!=null}function fL(t){return va(t)?mn(t):t}function hL(t){let e={};return t.forEach(n=>{e=n!=null?q(q({},e),n):e}),Object.keys(e).length===0?null:e}function pL(t,e){return e.map(n=>n(t))}function Nle(t){return!t.validate}function gL(t){return t.map(e=>Nle(e)?e:n=>e.validate(n))}function mL(t){if(!t)return null;let e=t.filter(dL);return e.length==0?null:function(n){return hL(pL(n,e))}}function vL(t){return t!=null?mL(gL(t)):null}function yL(t){if(!t)return null;let e=t.filter(dL);return e.length==0?null:function(n){let r=pL(n,e).map(fL);return qc(r).pipe(qe(hL))}}function _L(t){return t!=null?yL(gL(t)):null}function Qk(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function wL(t){return t._rawValidators}function CL(t){return t._rawAsyncValidators}function SC(t){return t?Array.isArray(t)?t:[t]:[]}function Ig(t,e){return Array.isArray(t)?t.includes(e):t===e}function Jk(t,e){let n=SC(e);return SC(t).forEach(i=>{Ig(n,i)||n.push(i)}),n}function Xk(t,e){return SC(e).filter(n=>!Ig(t,n))}var Sg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vL(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_L(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Si=class extends Sg{get formDirective(){return null}get path(){return null}},gd=class extends Sg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Fg=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Rle={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},eEe=ve(q({},Rle),{"[class.ng-submitted]":"isSubmitted"}),Dn=(()=>{let e=class e extends Fg{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Le(gd,2))},e.\u0275dir=rn({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&on("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[er]});let t=e;return t})(),En=(()=>{let e=class e extends Fg{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Le(Si,10))},e.\u0275dir=rn({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&on("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[er]});let t=e;return t})();var dd="VALID",Dg="INVALID",vc="PENDING",fd="DISABLED",ks=class{},Tg=class extends ks{constructor(e,n){super(),this.value=e,this.source=n}},hd=class extends ks{constructor(e,n){super(),this.pristine=e,this.source=n}},pd=class extends ks{constructor(e,n){super(),this.touched=e,this.source=n}},yc=class extends ks{constructor(e,n){super(),this.status=e,this.source=n}},FC=class extends ks{constructor(e){super(),this.source=e}},TC=class extends ks{constructor(e){super(),this.source=e}};function NC(t){return(Pg(t)?t.validators:t)||null}function Ole(t){return Array.isArray(t)?vL(t):t||null}function RC(t,e){return(Pg(e)?e.asyncValidators:t)||null}function Ple(t){return Array.isArray(t)?_L(t):t||null}function Pg(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function bL(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new xe(1e3,"");if(!r[n])throw new xe(1001,"")}function xL(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new xe(1002,"")})}var _c=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ei(()=>this.statusReactive()),this.statusReactive=ge(void 0),this._pristine=ei(()=>this.pristineReactive()),this.pristineReactive=ge(!0),this._touched=ei(()=>this.touchedReactive()),this.touchedReactive=ge(!1),this._events=new Kn,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Po(this.statusReactive)}set status(e){Po(()=>this.statusReactive.set(e))}get valid(){return this.status===dd}get invalid(){return this.status===Dg}get pending(){return this.status==vc}get disabled(){return this.status===fd}get enabled(){return this.status!==fd}get pristine(){return Po(this.pristineReactive)}set pristine(e){Po(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Po(this.touchedReactive)}set touched(e){Po(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Jk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Jk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Xk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Xk(e,this._rawAsyncValidators))}hasValidator(e){return Ig(this._rawValidators,e)}hasAsyncValidator(e){return Ig(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ve(q({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new pd(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new pd(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ve(q({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new hd(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new hd(!0,r))}markAsPending(e={}){this.status=vc;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new yc(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ve(q({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=fd,this.errors=null,this._forEachChild(i=>{i.disable(ve(q({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Tg(this.value,r)),this._events.next(new yc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ve(q({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=dd,this._forEachChild(r=>{r.enable(ve(q({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ve(q({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dd||this.status===vc)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Tg(this.value,n)),this._events.next(new yc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ve(q({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fd:dd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=vc,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=fL(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new yc(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ht,this.statusChanges=new Ht}_calculateStatus(){return this._allControlsDisabled()?fd:this.errors?Dg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vc)?vc:this._anyControlsHaveStatus(Dg)?Dg:dd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new hd(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new pd(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Ole(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Ple(this._rawAsyncValidators)}},Mg=class extends _c{constructor(e,n,r){super(NC(n),RC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){xL(this,!0,e),Object.keys(e).forEach(r=>{bL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var MC=class extends Mg{};var DL=new De("CallSetDisabledState",{providedIn:"root",factory:()=>OC}),OC="always";function PC(t,e){return[...e.path,t]}function eL(t,e,n=OC){kC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Lle(t,e),Vle(t,e),jle(t,e),kle(t,e)}function tL(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ng(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ag(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function kle(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function kC(t,e){let n=wL(t);e.validator!==null?t.setValidators(Qk(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=CL(t);e.asyncValidator!==null?t.setAsyncValidators(Qk(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Ag(e._rawValidators,i),Ag(e._rawAsyncValidators,i)}function Ng(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=wL(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=CL(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Ag(e._rawValidators,r),Ag(e._rawAsyncValidators,r),n}function Lle(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&EL(t,e)})}function jle(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&EL(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function EL(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Vle(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Ble(t,e){t==null,kC(t,e)}function $le(t,e){return Ng(t,e)}function Ule(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function qle(t){return Object.getPrototypeOf(t.constructor)===Rg}function Hle(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function zle(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===fn?n=o:qle(o)?r=o:i=o}),i||r||n||null}function Gle(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function nL(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function rL(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Yn=class extends _c{constructor(e=null,n,r){super(NC(n),RC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(rL(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){nL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){nL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){rL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Wle=t=>t instanceof Yn,Kle=(()=>{let e=class e extends Si{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return PC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ci(e)))(o||e)}})(),e.\u0275dir=rn({type:e,features:[er]});let t=e;return t})();var In=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=rn({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),Zle={provide:md,useExisting:Rr(()=>$a),multi:!0},$a=(()=>{let e=class e extends Rg{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ci(e)))(o||e)}})(),e.\u0275dir=rn({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&re("input",function(c){return o.onChange(c.target.value)})("blur",function(){return o.onTouched()})},features:[Lr([Zle]),er]});let t=e;return t})();var IL=new De("");var Yle={provide:Si,useExisting:Rr(()=>hn)},hn=(()=>{let e=class e extends Si{get submitted(){return Po(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=ei(()=>this._submittedReactive()),this._submittedReactive=ge(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ht,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ng(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return eL(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){tL(r.control||null,r,!1),Gle(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this._submittedReactive.set(!0),Hle(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new FC(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new TC(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(tL(i||null,r),Wle(o)&&(eL(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);Ble(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&$le(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kC(this.form,this),this._oldForm&&Ng(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(Le(Ba,10),Le(Og,10),Le(DL,8))},e.\u0275dir=rn({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&re("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Lr([Yle]),er,Li]});let t=e;return t})(),Qle={provide:Si,useExisting:Rr(()=>kg)},kg=(()=>{let e=class e extends Kle{constructor(r,i,o){super(),this.name=null,this._parent=r,this._setValidators(i),this._setAsyncValidators(o)}_checkParentType(){SL(this._parent)}};e.\u0275fac=function(i){return new(i||e)(Le(Si,13),Le(Ba,10),Le(Og,10))},e.\u0275dir=rn({type:e,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[Lr([Qle]),er]});let t=e;return t})(),Jle={provide:Si,useExisting:Rr(()=>Ls)},Ls=(()=>{let e=class e extends Si{constructor(r,i,o){super(),this.name=null,this._parent=r,this._setValidators(i),this._setAsyncValidators(o)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return PC(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){SL(this._parent)}};e.\u0275fac=function(i){return new(i||e)(Le(Si,13),Le(Ba,10),Le(Og,10))},e.\u0275dir=rn({type:e,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[Lr([Jle]),er]});let t=e;return t})();function SL(t){return!(t instanceof kg)&&!(t instanceof hn)&&!(t instanceof Ls)}var Xle={provide:gd,useExisting:Rr(()=>_n)},_n=(()=>{let e=class e extends gd{set isDisabled(r){}constructor(r,i,o,a,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new Ht,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=zle(this,a)}ngOnChanges(r){this._added||this._setUpControl(),Ule(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return PC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(Le(Si,13),Le(Ba,10),Le(Og,10),Le(md,10),Le(IL,8))},e.\u0275dir=rn({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Lr([Xle]),er,Li]});let t=e;return t})(),ede={provide:md,useExisting:Rr(()=>Lg),multi:!0};function FL(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function tde(t){return t.split(":")[0]}var Lg=(()=>{let e=class e extends Rg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=FL(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=tde(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ci(e)))(o||e)}})(),e.\u0275dir=rn({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&re("change",function(c){return o.onChange(c.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Lr([ede]),er]});let t=e;return t})(),jg=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(FL(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(Le(Jr),Le(Ao),Le(Lg,9))},e.\u0275dir=rn({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),nde={provide:md,useExisting:Rr(()=>TL),multi:!0};function iL(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function rde(t){return t.split(":")[0]}var TL=(()=>{let e=class e extends Rg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(a=>this._getOptionId(a));i=(a,c)=>{a._setSelected(o.indexOf(c.toString())>-1)}}else i=(o,a)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],a=i.selectedOptions;if(a!==void 0){let c=a;for(let l=0;l<c.length;l++){let d=c[l],p=this._getOptionValue(d.value);o.push(p)}}else{let c=i.options;for(let l=0;l<c.length;l++){let d=c[l];if(d.selected){let p=this._getOptionValue(d.value);o.push(p)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=rde(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ci(e)))(o||e)}})(),e.\u0275dir=rn({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&re("change",function(c){return o.onChange(c.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Lr([nde]),er]});let t=e;return t})(),Vg=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(iL(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(iL(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(Le(Jr),Le(Ao),Le(TL,9))},e.\u0275dir=rn({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();function ide(t){return typeof t=="number"?t:parseInt(t,10)}function ML(t){return typeof t=="number"?t:parseFloat(t)}var LC=(()=>{let e=class e{constructor(){this._validator=Eg}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Eg,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=rn({type:e,features:[Li]});let t=e;return t})(),ode={provide:Ba,useExisting:Rr(()=>jC),multi:!0},jC=(()=>{let e=class e extends LC{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=r=>ML(r),this.createValidator=r=>cL(r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ci(e)))(o||e)}})(),e.\u0275dir=rn({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&tr("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[Lr([ode]),er]});let t=e;return t})(),sde={provide:Ba,useExisting:Rr(()=>VC),multi:!0},VC=(()=>{let e=class e extends LC{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=r=>ML(r),this.createValidator=r=>uL(r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ci(e)))(o||e)}})(),e.\u0275dir=rn({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&tr("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[Lr([sde]),er]});let t=e;return t})();var ade={provide:Ba,useExisting:Rr(()=>BC),multi:!0},BC=(()=>{let e=class e extends LC{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=r=>ide(r),this.createValidator=r=>lL(r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ci(e)))(o||e)}})(),e.\u0275dir=rn({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&tr("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Lr([ade]),er]});let t=e;return t})();var ude=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=vs({type:e}),e.\u0275inj=ms({});let t=e;return t})(),AC=class extends _c{constructor(e,n,r){super(NC(n),RC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){xL(this,!1,e),e.forEach((r,i)=>{bL(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function oL(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Sn=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let o=this._reduceControls(r),a={};return oL(i)?a=i:i!==null&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new Mg(o,a)}record(r,i=null){let o=this._reduceControls(r);return new MC(o,i)}control(r,i,o){let a={};return this.useNonNullable?(oL(i)?a=i:(a.validators=i,a.asyncValidators=o),new Yn(r,ve(q({},a),{nonNullable:!0}))):new Yn(r,i,o)}array(r,i,o){let a=r.map(c=>this._createControl(c));return new AC(a,i,o)}_reduceControls(r){let i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){if(r instanceof Yn)return r;if(r instanceof _c)return r;if(Array.isArray(r)){let i=r[0],o=r.length>1?r[1]:null,a=r.length>2?r[2]:null;return this.control(i,o,a)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Fn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:IL,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:DL,useValue:r.callSetDisabledState??OC}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=vs({type:e}),e.\u0275inj=ms({imports:[ude]});let t=e;return t})();var AL=(()=>{let e=class e{constructor(){this.stationsService=M(gr),this.cities=ei(()=>Array.from(this.stationsService.stations().values()).map(r=>({name:r.city,latitude:r.latitude,longitude:r.longitude})).sort((r,i)=>r.name.localeCompare(i.name,void 0,{numeric:!0})))}getFirstNMatchingNames(r,i){r=r.toLowerCase();let o=[],a=this.binarySearchFirstMatch(this.cities(),r);if(a===-1)return o;for(;o.length<i&&a<this.cities().length;){let c=this.cities()[a];c.name.toLowerCase().startsWith(r)&&o.push(c.name),a+=1}return o}getCoordinatesByName(r){let i=this.cities().find(o=>o.name===r);return i?[i.latitude,i.longitude]:null}binarySearchFirstMatch(r,i){i=i.toLowerCase();let o=0,a=r.length-1,c=-1;for(;o<=a;){let l=Math.floor((o+a)/2);r[l].name.toLowerCase().startsWith(i)?(c=l,a=l-1):r[l].name.toLowerCase().localeCompare(i,void 0,{numeric:!0})<0?o=l+1:a=l-1}return c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Bg=(()=>{let e=class e{constructor(){this.apiUrl="/api/search",this.httpClient=M(nr),this.stationsService=M(gr),this.carriagesService=M(Rs)}search(r,i,o,a,c){let l=new io().set("fromLatitude",r).set("fromLongitude",i).set("toLatitude",o).set("toLongitude",a);return c&&(l=l.set("time",c)),this.httpClient.get(this.apiUrl,{params:l}).pipe(qe(d=>this.processSearchResponse(d)))}searchTrip(r,i,o){return this.httpClient.get(`${this.apiUrl}/${r}`).pipe(qe(a=>this.processSearchRideResponse(a,i,o)))}processSearchResponse(r){let i=[],o=r.from.stationId,a=r.to.stationId,c=r.from.city,l=r.to.city;return r.routes.forEach(d=>{let p=d.path.indexOf(o),g=d.path.indexOf(a)-1,y=this.stationsService.getStationNameById(d.path[0]),_=this.stationsService.getStationNameById(d.path[d.path.length-1]),C=d.path.slice(p,g+2);d.schedule.forEach(O=>{let j=O.segments.slice(p,g+1),A=this.createTrip();A.rideId=O.rideId,A.fromStationId=o,A.toStationId=a,A.fromStationName=c,A.toStationName=l,A.routeStartStationName=y,A.routeEndStationName=_,A.rideInfo.routeId=d.id,this.fillRideInfo(A,C,j),this.fillTripCarriage(A,j,d.carriages,!0),i.push(A)})}),i}processSearchRideResponse(r,i,o){let a=r.path.indexOf(i),c=r.path.indexOf(o)-1,l=r.path.slice(a,c+2),d=r.schedule.segments.slice(a,c+1),p=this.createTrip();return p.rideId=r.rideId,p.fromStationId=i,p.toStationId=o,p.fromStationName=this.stationsService.getStationNameById(i),p.toStationName=this.stationsService.getStationNameById(o),p.routeStartStationName=this.stationsService.getStationNameById(a),p.routeEndStationName=this.stationsService.getStationNameById(c+1),p.rideInfo.routeId=r.routeId,this.fillRideInfo(p,l,d),this.fillTripCarriage(p,d,r.carriages,!0),p}createTrip(){return{rideId:0,fromStationId:0,toStationId:0,fromStationName:"",toStationName:"",routeStartStationName:"",routeEndStationName:"",departureTime:"",arrivalTime:"",carriageData:[],rideInfo:{routeId:0,elements:[]},carriages:[]}}fillTripCarriage(r,i,o,a){let c={};new Set(o).forEach(y=>{c[y]={freeSeatsCount:0,price:0}});let l=0,d=o.map((y,_)=>{let C=this.carriagesService.getSeatsCount(y),O={number:_,code:y,startSeatNumber:l,seatsCount:C,seatsOccupation:[]};return l+=C,O}),p=new Array(l).fill(0);i.forEach(y=>{Object.keys(y.price).forEach(_=>{c[_].price+=y.price[_]})}),i.forEach(y=>{y.occupiedSeats.forEach(_=>{p[_]=1})});let g=0;d.forEach(y=>{for(let _=0;_<y.seatsCount;_+=1)c[y.code].freeSeatsCount+=1-p[g],g+=1}),r.departureTime=i[0].time[0],r.arrivalTime=i[i.length-1].time[1],r.carriageData=Object.keys(c).map(y=>({code:y,name:this.carriagesService.getCarriageNameByCode(y),freeSeatsCount:c[y].freeSeatsCount,price:c[y].price})),a&&(d.forEach(y=>{for(let _=0;_<y.seatsCount;_+=1)y.seatsOccupation[_]=p[y.startSeatNumber+_]}),r.carriages=d)}fillRideInfo(r,i,o){r.rideInfo.elements=i.map((a,c)=>{let l=["",""],d=0;return c===0?l[1]=o[0].time[0]:c===i.length-1?l[0]=o[c-1].time[1]:(l[0]=o[c-1].time[1],l[1]=o[c].time[0],d=new Date(l[1]).getTime()-new Date(l[0]).getTime()),{time:l,stationName:this.stationsService.getStationNameById(a),stopTimeMs:d}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var NL=(()=>{let e=class e{transform(r,i){return r.filter(o=>i===""||o.departureTime.slice(0,10)===i).sort((o,a)=>{let c=new Date(o.departureTime).getTime(),l=new Date(a.departureTime).getTime();return c-l})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Pi({name:"filterTrips",type:e,pure:!0,standalone:!0});let t=e;return t})();var wc=(()=>{let e=class e{transform(r){if(isNaN(r)||r<0)return"Invalid duration";let i=Math.floor(r),o=Math.floor(i/60),a=Math.floor(o/24),c=o%24,l=i%60;return a>0?`${a}d ${c}h ${l}min`:c>0?`${c}h ${l}min`:`${l}min`}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Pi({name:"formatTime",type:e,pure:!0,standalone:!0});let t=e;return t})();var cde=(t,e)=>e.code;function lde(t,e){if(t&1){let n=It();x(0,"div",15)(1,"div"),S(2),D(),x(3,"div"),S(4),D(),x(5,"div"),S(6),At(7,"currency"),D(),x(8,"button",16),re("click",function(){let i=je(n).$implicit,o=G();return Ve(o.bookTicket(i.code))}),Y(9,"img",17),D()()}if(t&2){let n=e.$implicit;P(2),tt(n.name),P(2),Zt("",n.freeSeatsCount," seats"),P(2),tt(wr(7,3,n.price))}}var RL=(()=>{let e=class e{constructor(){this.showRouteEvent=new Ht,this.travelTime=ge(0),this.router=M(an),this.classCard=!0}ngOnInit(){let r=new Date(this.trip.arrivalTime).getTime()-new Date(this.trip.departureTime).getTime();this.travelTime.set(r/1e3/60)}bookTicket(r){this.router.navigate([`/trip/${this.trip.rideId}`],{queryParams:{from:this.trip.fromStationId,to:this.trip.toStationId},state:{carriageCode:r}})}showRoute(){this.showRouteEvent.emit()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-ride"]],hostVars:2,hostBindings:function(i,o){i&2&&on("card",o.classCard)},inputs:{trip:"trip"},outputs:{showRouteEvent:"showRouteEvent"},standalone:!0,features:[Ke],decls:42,vars:23,consts:[[1,"info"],[1,"schedule"],[1,"time","block"],[1,"travel-time"],[1,"mark"],[1,"circle"],[1,"travel-line"],[1,"mark","last"],[1,"date","block"],[1,"block"],[1,"route"],[1,"ride"],[1,"ride-line"],[3,"click"],[1,"carriage-list"],[1,"carriage"],[1,"button-small",3,"click"],["src","icon-ticket.png","alt","Book ticket"]],template:function(i,o){i&1&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),S(4),At(5,"date"),D(),x(6,"div",3)(7,"div",4),Y(8,"div",5),D(),Y(9,"div",6),x(10,"div"),S(11),At(12,"formatTime"),D(),Y(13,"div",6),x(14,"div",7),Y(15,"div",5),D()(),x(16,"div"),S(17),At(18,"date"),D()(),x(19,"div",8)(20,"div"),S(21),At(22,"date"),D(),x(23,"div"),S(24),At(25,"date"),D()(),x(26,"div",9)(27,"div"),S(28),D(),x(29,"div"),S(30),D()()(),x(31,"div",10)(32,"div",11),S(33," Ride "),x(34,"div",12),S(35),D()(),x(36,"button",13),re("click",function(){return o.showRoute()}),S(37,"Route"),D()()(),Y(38,"hr"),x(39,"div",14),Dt(40,lde,10,5,"div",15,cde),D()),i&2&&(P(4),tt(xn(5,9,o.trip.departureTime,"HH:mm")),P(7),tt(wr(12,12,o.travelTime())),P(6),tt(xn(18,14,o.trip.arrivalTime,"HH:mm")),P(4),tt(xn(22,17,o.trip.departureTime,"MMMM dd")),P(3),tt(xn(25,20,o.trip.arrivalTime,"MMMM dd")),P(4),tt(o.trip.fromStationName),P(2),tt(o.trip.toStationName),P(5),Oo(" ",o.trip.routeStartStationName," -> ",o.trip.routeEndStationName," "),P(5),Et(o.trip.carriageData))},dependencies:[Ca,ju,ro,wc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:8px;padding:16px}hr[_ngcontent-%COMP%]{width:100%}.block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px}.travel-time[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-grow:1;align-items:center;font-size:14px;color:var(--main-color);text-shadow:0 0 1px gray}.travel-line[_ngcontent-%COMP%]{flex-grow:1;height:2px;background-color:var(--main-color)}.info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:flex-start;column-gap:64px;row-gap:8px}.schedule[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;gap:4px;min-width:260px;max-width:400px}.date[_ngcontent-%COMP%]{font-size:14px;color:gray}.route[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:8px}.ride[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.ride-line[_ngcontent-%COMP%]{padding:4px 8px;border-radius:16px;background-color:#dadada}.carriage-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.carriage[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr auto;align-items:center;column-gap:16px}.carriage[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){justify-self:flex-end}.carriage[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){justify-self:center}.mark[_ngcontent-%COMP%]{position:relative}.circle[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;border:2px solid var(--main-color)}.last[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{background-color:var(--main-color)}"],changeDetection:0});let t=e;return t})();var dde=["ta-route-modal",""],fde=["*"];function hde(t,e){t&1&&S(0," first station ")}function pde(t,e){t&1&&S(0," last station ")}function gde(t,e){if(t&1&&(S(0),At(1,"formatTime")),t&2){let n=G().$implicit;Zt(" ",wr(1,1,n.stopTimeMs/1e3/60)," ")}}function mde(t,e){if(t&1&&(x(0,"div",6)(1,"div")(2,"span",7),S(3),At(4,"date"),D(),S(5),At(6,"date"),D(),x(7,"div")(8,"span",7),S(9),At(10,"date"),D(),S(11),At(12,"date"),D()(),x(13,"div",8),Y(14,"div",9),D(),x(15,"div",10),S(16),D(),Y(17,"div"),x(18,"div",11),Se(19,hde,1,0)(20,pde,1,0)(21,gde,2,3),D()),t&2){let n=e.$implicit,r=e.$index,i=e.$index,o=e.$count,a=G(2);P(3),tt(xn(4,10,n.time[0],"MMM dd")),P(2),Zt(" ",xn(6,13,n.time[0],"HH:mm")," "),P(4),tt(xn(10,16,n.time[1],"MMM dd")),P(2),Zt(" ",xn(12,19,n.time[1],"HH:mm")," "),P(2),on("first",i===0)("last",i===o-1),P(3),tt(n.stationName),P(3),Me(r===0?19:r===a.rideInfo.elements.length-1?20:21)}}function vde(t,e){if(t&1&&(x(0,"div",0)(1,"div",1)(2,"h2"),S(3),D(),x(4,"button",2),Y(5,"img",3),D()(),Y(6,"hr"),x(7,"div",4)(8,"div",5),S(9,"Time"),D(),Y(10,"div"),x(11,"div",5),S(12,"Station"),D(),Y(13,"div"),x(14,"div",5),S(15,"Stop"),D(),Dt(16,mde,22,22,null,null,zt),D()()),t&2){let n=G();P(3),Zt("Route ",n.rideInfo.routeId,""),P(13),Et(n.rideInfo.elements)}}var $g=(()=>{let e=class e{constructor(){this.skipSelfContent=!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["","ta-route-modal",""]],inputs:{rideInfo:"rideInfo",skipSelfContent:"skipSelfContent"},standalone:!0,features:[Ke],attrs:dde,ngContentSelectors:fde,decls:2,vars:1,consts:[[1,"dialog"],[1,"header"],["onclick","dialog.close()",1,"button-close"],["src","icon-close.png","alt","Close"],[1,"table"],[1,"table-header"],[1,"time"],[1,"time-day"],[1,"mark"],[1,"circle"],[1,"station"],[1,"stop"]],template:function(i,o){i&1&&(kh(),Se(0,vde,18,1,"div",0),Lh(1)),i&2&&Me(o.skipSelfContent?-1:0)},dependencies:[ro,wc],styles:['hr[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 16px}.table[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 10px auto clamp(0px,-70px + 17.5vw,70px) auto;grid-template-rows:auto;grid-auto-rows:38px;align-items:center;column-gap:clamp(8px,-16px + 6vw,32px);row-gap:8px;padding:0 clamp(0px,-64px + 16vw,64px);overflow-y:auto}.table-header[_ngcontent-%COMP%]{font-size:14px;color:gray;justify-self:center}.time[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;font-size:14px;justify-self:end}.time-day[_ngcontent-%COMP%]{font-size:12px;color:gray}.station[_ngcontent-%COMP%]{justify-self:start}.stop[_ngcontent-%COMP%]{justify-self:end}.mark[_ngcontent-%COMP%]{position:relative}.circle[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;border:2px solid var(--main-color)}.first[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%], .last[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{box-shadow:0 0 0 4px #0003}.last[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{background-color:var(--main-color)}.mark[_ngcontent-%COMP%]:not(.first):before{display:block;position:absolute;top:-36px;left:4px;content:"";width:2px;height:36px;background-color:var(--main-color)}'],changeDetection:0});let t=e;return t})();var yde=["routeDialog"],_de=(t,e)=>e.rideId;function wde(t,e){if(t&1&&(x(0,"option",3),S(1),D()),t&2){let n=e.$implicit;fr("value",n),P(),tt(n)}}function Cde(t,e){if(t&1&&(x(0,"option",3),S(1),D()),t&2){let n=e.$implicit;fr("value",n),P(),tt(n)}}function bde(t,e){t&1&&Y(0,"input",9)}function xde(t,e){if(t&1){let n=It();x(0,"button",15),re("click",function(){let i=je(n).$implicit,o=G();return Ve(o.setFilterTripsDate(i))}),S(1),At(2,"date"),D()}if(t&2){let n=e.$implicit,r=G();on("button-filter-active",r.filterTripsDate()===n),P(),Zt(" ",xn(2,3,n,"MMM-dd ccc")," ")}}function Dde(t,e){if(t&1){let n=It();x(0,"ta-ride",16),re("showRouteEvent",function(){let i=je(n).$implicit,o=G();return Ve(o.showRoute(i.rideInfo))}),D()}if(t&2){let n=e.$implicit;ye("trip",n)}}var OL=(()=>{let e=class e{constructor(){this.routeDialog=null,this.trips=ge([]),this.error=ge(""),this.today=new Date().toISOString().split("T")[0],this.filterDates=ge([]),this.filterTripsDate=ge(""),this.citiesFrom=ge([]),this.citiesTo=ge([]),this.routeModalRideInfo=ge({}),this.formBuilder=M(Sn),this.searchService=M(Bg),this.citiesService=M(AL)}ngOnInit(){this.form=this.formBuilder.nonNullable.group({cityFrom:["",[Ze.required]],cityTo:["",[Ze.required]],departureDate:["",[Ze.required]],departureTime:[""]}),this.cityFrom.valueChanges.pipe(Qs(this.cityFrom.value)).subscribe(r=>{let i=this.citiesService.getFirstNMatchingNames(r,5);this.citiesFrom.set(i)}),this.cityTo.valueChanges.pipe(Qs(this.cityTo.value)).subscribe(r=>{let i=this.citiesService.getFirstNMatchingNames(r,5);this.citiesTo.set(i)})}get cityFrom(){return this.form.get("cityFrom")}get cityTo(){return this.form.get("cityTo")}get departureDate(){return this.form.get("departureDate")}get departureTime(){return this.form.get("departureTime")}swapValues(){let r=this.cityFrom.value,i=this.cityTo.value;this.form.patchValue({cityFrom:i,cityTo:r})}search(){let r=this.citiesService.getCoordinatesByName(this.cityFrom.value),i=this.citiesService.getCoordinatesByName(this.cityTo.value);if(!r||!i)return;let[o,a]=r,[c,l]=i,d=new Date(this.departureDate.value);if(this.departureTime.value){let[p,g]=this.departureTime.value.split(":").map(y=>Number.parseInt(y,10));d.setHours(p,g,0,0)}this.searchService.search(o,a,c,l,d.getTime()).subscribe({next:p=>{this.filterTripsDate.set(""),this.trips.set(p);let g=Array.from(new Set(p.map(y=>y.departureTime.slice(0,10)))).sort();this.filterDates.set(g)}})}setFilterTripsDate(r){r===this.filterTripsDate()?this.filterTripsDate.set(""):this.filterTripsDate.set(r)}showRoute(r){let i=document.getElementById("dialog");this.routeModalRideInfo.set(r),i.showModal()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-home-page"]],viewQuery:function(i,o){if(i&1&&Ru(yde,7),i&2){let a;ga(a=ma())&&(o.routeDialog=a.first)}},standalone:!0,features:[Ke],decls:22,vars:8,consts:[[1,"search-form",3,"ngSubmit","formGroup"],["type","text","list","citiesFrom","formControlName","cityFrom"],["id","citiesFrom"],[3,"value"],["type","button",1,"button-swap",3,"click"],["src","icon-swap.png","alt","Swap cities"],["type","text","list","citiesTo","formControlName","cityTo"],["id","citiesTo"],["type","date","formControlName","departureDate",3,"min"],["type","time","formControlName","departureTime"],["type","submit",3,"disabled"],[1,"filter"],[1,"button-filter",3,"button-filter-active"],[3,"trip"],["ta-route-modal","","id","dialog",3,"rideInfo"],[1,"button-filter",3,"click"],[3,"showRouteEvent","trip"]],template:function(i,o){i&1&&(x(0,"form",0),re("ngSubmit",function(){return o.search()}),Y(1,"input",1),x(2,"datalist",2),Dt(3,wde,2,2,"option",3,zt),D(),x(5,"button",4),re("click",function(){return o.swapValues()}),Y(6,"img",5),D(),Y(7,"input",6),x(8,"datalist",7),Dt(9,Cde,2,2,"option",3,zt),D(),Y(11,"input",8),Se(12,bde,1,0,"input",9),x(13,"button",10),S(14,"Search"),D()(),x(15,"div",11),Dt(16,xde,3,6,"button",12,cS),D(),Dt(18,Dde,1,1,"ta-ride",13,_de),At(20,"filterTrips"),Y(21,"dialog",14)),i&2&&(ye("formGroup",o.form),P(3),Et(o.citiesFrom()),P(6),Et(o.citiesTo()),P(2),ye("min",o.today),P(),Me(o.departureDate.value?12:-1),P(),ye("disabled",o.form.invalid),P(3),Et(o.filterDates()),P(2),Et(xn(20,5,o.trips(),o.filterTripsDate())),P(3),ye("rideInfo",o.routeModalRideInfo()))},dependencies:[Ca,ro,Fn,In,jg,Vg,fn,Dn,En,hn,_n,RL,NL,$g],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:8px;width:100%;padding:0 16px}.hidden[_ngcontent-%COMP%]{display:none}.trips[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.search-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:8px}.button-swap[_ngcontent-%COMP%]{margin:0 -4px}.filter[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}"],changeDetection:0});let t=e;return t})();function PL(){return t=>{let e=t.get("password")?.value,n=t.get("repeatPassword")?.value;return e!==n?{passwordsMismatch:!0}:null}}function js(){let t=/^[\w\d_]+@[\w\d_]+\.\w{2,7}$/;return e=>t.test(e.value)?null:{invalidEmail:!0}}function Ede(t,e){t&1&&S(0," Email is required ")}function Ide(t,e){t&1&&S(0," Incorrect email ")}function Sde(t,e){t&1&&S(0," Account with this email already exists ")}function Fde(t,e){if(t&1&&Se(0,Ede,1,0)(1,Ide,1,0)(2,Sde,1,0),t&2){let n,r=G();Me(!((n=r.signupForm.get("email"))==null||n.errors==null)&&n.errors.required?0:!((n=r.signupForm.get("email"))==null||n.errors==null)&&n.errors.invalidEmail?1:!((n=r.signupForm.get("email"))==null||n.errors==null)&&n.errors.emailExists?2:-1)}}function Tde(t,e){t&1&&S(0," Password is required ")}function Mde(t,e){t&1&&S(0," Password must be at least 8 characters ")}function Ade(t,e){t&1&&S(0," Invalid password ")}function Nde(t,e){if(t&1&&Se(0,Tde,1,0)(1,Mde,1,0)(2,Ade,1,0),t&2){let n,r=G();Me(!((n=r.signupForm.get("password"))==null||n.errors==null)&&n.errors.required?0:!((n=r.signupForm.get("password"))==null||n.errors==null)&&n.errors.minlength?1:!((n=r.signupForm.get("password"))==null||n.errors==null)&&n.errors.invalidPassword?2:-1)}}function Rde(t,e){t&1&&S(0," Passwords do not match ")}var kL=(()=>{let e=class e{constructor(r,i,o){this.fb=r,this.authService=i,this.router=o,this.errorMessage=null,this.isSubmitting=!1,this.formSubmitted=!1,this.signupForm=this.fb.group({email:["",[Ze.required,js()]],password:["",[Ze.required,Ze.minLength(8)]],repeatPassword:["",[Ze.required]]},{validators:[PL()]})}onSubmit(){if(this.formSubmitted=!0,!this.signupForm.valid)return;this.isSubmitting=!0;let{email:r,password:i}=this.signupForm.value;this.authService.signUp(r,i).subscribe({next:()=>{this.isSubmitting=!1,this.router.navigate(["/signin"])},error:o=>{o.error.reason?this.handleErrorResponse(o.error):(this.errorMessage="An unexpected error occurred",this.isSubmitting=!1)}})}goToSignIn(){this.router.navigate(["/signin"])}handleErrorResponse(r){switch(r.reason){case"invalidEmail":this.signupForm.get("email")?.setErrors({invalidEmail:!0});break;case"invalidPassword":this.signupForm.get("password")?.setErrors({invalidPassword:!0});break;case"invalidUniqueKey":this.signupForm.get("email")?.setErrors({emailExists:!0});break;case"invalidFields":this.signupForm.setErrors({invalidFields:!0});break;default:break}this.errorMessage=r.message,this.isSubmitting=!1}};e.\u0275fac=function(i){return new(i||e)(Le(Sn),Le(Vn),Le(an))},e.\u0275cmp=We({type:e,selectors:[["ta-signup-page"]],standalone:!0,features:[Ke],decls:23,vars:5,consts:[[1,"form",3,"ngSubmit","formGroup"],["for","email"],["id","email","formControlName","email","type","email"],[1,"error"],["for","password"],["id","password","formControlName","password","type","password"],["for","repeatPassword"],["id","repeatPassword","formControlName","repeatPassword","type","password"],[1,"buttons"],["type","submit",3,"disabled"],["type","button",3,"click"]],template:function(i,o){if(i&1&&(x(0,"form",0),re("ngSubmit",function(){return o.onSubmit()}),x(1,"h2"),S(2,"Sign Up"),D(),x(3,"label",1),S(4,"Email"),D(),Y(5,"input",2),x(6,"div",3),Se(7,Fde,3,1),D(),x(8,"label",4),S(9,"Password"),D(),Y(10,"input",5),x(11,"div",3),Se(12,Nde,3,1),D(),x(13,"label",6),S(14,"Repeat Password"),D(),Y(15,"input",7),x(16,"div",3),Se(17,Rde,1,0),D(),x(18,"div",8)(19,"button",9),S(20," Register "),D(),x(21,"button",10),re("click",function(){return o.goToSignIn()}),S(22,"Sign In"),D()()()),i&2){let a;ye("formGroup",o.signupForm),P(7),Me(o.formSubmitted?7:-1),P(5),Me(o.formSubmitted?12:-1),P(5),Me((a=o.signupForm.get("repeatPassword"))!=null&&a.touched&&(o.signupForm.errors!=null&&o.signupForm.errors.passwordsMismatch)?17:-1),P(2),ye("disabled",o.signupForm.invalid||o.isSubmitting)}},dependencies:[Fn,In,fn,Dn,En,hn,_n],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:4px}"],changeDetection:0});let t=e;return t})();function Ug(){return t=>t.value.trim()?null:{invalidPassword:!0}}function Ode(t,e){t&1&&S(0," Incorrect email or password ")}function Pde(t,e){t&1&&S(0," Email is required ")}function kde(t,e){t&1&&S(0," Incorrect email ")}function Lde(t,e){if(t&1&&Se(0,Ode,1,0)(1,Pde,1,0)(2,kde,1,0),t&2){let n,r=G();Me(!(r.signinForm==null||r.signinForm.errors==null)&&r.signinForm.errors.userNotFound?0:!(r.signinForm==null||(n=r.signinForm.get("email"))==null||n.errors==null)&&n.errors.required?1:!(r.signinForm==null||(n=r.signinForm.get("email"))==null||n.errors==null)&&n.errors.invalidEmail?2:-1)}}function jde(t,e){t&1&&S(0," Incorrect email or password ")}function Vde(t,e){t&1&&S(0," Password is required ")}function Bde(t,e){if(t&1&&Se(0,jde,1,0)(1,Vde,1,0),t&2){let n,r=G();Me(!(r.signinForm==null||r.signinForm.errors==null)&&r.signinForm.errors.userNotFound?0:!(r.signinForm==null||(n=r.signinForm.get("password"))==null||n.errors==null)&&n.errors.required?1:-1)}}var LL=(()=>{let e=class e{constructor(){this.signinForm=null,this.errorMessage=null,this.isSubmitting=!1,this.formSubmitted=!1,this.authService=M(Vn),this.formBuilder=M(Sn),this.router=M(an)}ngOnInit(){this.signinForm=this.formBuilder.group({email:["",[Ze.required,js()]],password:["",[Ze.required,Ug()]]})}onSubmit(){if(this.formSubmitted=!0,!this.signinForm?.valid)return;this.isSubmitting=!0;let{email:r,password:i}=this.signinForm.value;this.authService.signIn(r,i).subscribe({next:()=>{this.isSubmitting=!1,this.router.navigate(["/"])},error:o=>{o.error.reason?this.handleErrorResponse(o.error):(this.isSubmitting=!1,this.errorMessage="An unexpected error occurred")}})}goToSignUp(){this.router.navigate(["/signup"])}handleErrorResponse(r){switch(r.reason){case"userNotFound":this.signinForm?.setErrors({userNotFound:!0});break;case"invalidEmail":this.signinForm?.setErrors({invalidEmail:!0});break;case"invalidPassword":this.signinForm?.setErrors({invalidPassword:!0});break;case"invalidFields":this.signinForm?.setErrors({invalidFields:!0});break;case"alreadyLoggedIn":this.signinForm?.setErrors({alreadyLoggedIn:!0});break;default:break}this.errorMessage=r.message,this.isSubmitting=!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-signin-page"]],standalone:!0,features:[Ke],decls:18,vars:4,consts:[[1,"form",3,"ngSubmit","formGroup"],["for","email"],["id","email","formControlName","email","type","email"],[1,"error"],["for","password"],["id","password","formControlName","password","type","password"],[1,"buttons"],["ta-button","","type","submit",3,"disabled"],["type","button",3,"click"]],template:function(i,o){i&1&&(x(0,"form",0),re("ngSubmit",function(){return o.onSubmit()}),x(1,"h2"),S(2,"Sign In"),D(),x(3,"label",1),S(4,"Email"),D(),Y(5,"input",2),x(6,"div",3),Se(7,Lde,3,1),D(),x(8,"label",4),S(9,"Password"),D(),Y(10,"input",5),x(11,"div",3),Se(12,Bde,2,1),D(),x(13,"div",6)(14,"button",7),S(15," Sign In "),D(),x(16,"button",8),re("click",function(){return o.goToSignUp()}),S(17,"Sign Up"),D()()()),i&2&&(ye("formGroup",o.signinForm),P(7),Me(o.formSubmitted?7:-1),P(5),Me(o.formSubmitted?12:-1),P(2),ye("disabled",(o.signinForm==null?null:o.signinForm.invalid)||o.isSubmitting))},dependencies:[Fn,In,fn,Dn,En,hn,_n],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:4px}"],changeDetection:0});let t=e;return t})();var $de=["passwordDialog"];function Ude(t,e){if(t&1&&(x(0,"button",6),Y(1,"img",20),D()),t&2){let n=G();ye("disabled",(n.nameInput==null?null:n.nameInput.invalid)||n.isNameWaitingResponse())}}function qde(t,e){if(t&1){let n=It();x(0,"button",21),re("click",function(){je(n);let i=G();return Ve(i.editName())}),Y(1,"img",22),D()}}function Hde(t,e){t&1&&S(0," Name is required ")}function zde(t,e){if(t&1&&(x(0,"button",6),Y(1,"img",20),D()),t&2){let n=G();ye("disabled",(n.emailInput==null?null:n.emailInput.invalid)||n.isEmailWaitingResponse())}}function Gde(t,e){if(t&1){let n=It();x(0,"button",21),re("click",function(){je(n);let i=G();return Ve(i.editEmail())}),Y(1,"img",22),D()}}function Wde(t,e){t&1&&S(0," Email already exists ")}function Kde(t,e){t&1&&S(0," Email is required ")}function Zde(t,e){t&1&&S(0," Incorrect email ")}function Yde(t,e){if(t&1&&Se(0,Kde,1,0)(1,Zde,1,0),t&2){let n=G();Me(!(n.emailInput==null||n.emailInput.errors==null)&&n.emailInput.errors.required?0:!(n.emailInput==null||n.emailInput.errors==null)&&n.emailInput.errors.invalidEmail?1:-1)}}function Qde(t,e){t&1&&S(0," Invalid password ")}function Jde(t,e){t&1&&S(0," Password is required ")}function Xde(t,e){t&1&&S(0," Password must be at least 8 characters ")}function efe(t,e){if(t&1&&Se(0,Jde,1,0)(1,Xde,1,0),t&2){let n=G();Me(!(n.passwordInput==null||n.passwordInput.errors==null)&&n.passwordInput.errors.required?0:!(n.passwordInput==null||n.passwordInput.errors==null)&&n.passwordInput.errors.minlength?1:-1)}}var jL=(()=>{let e=class e{constructor(){this.passwordDialog=null,this.isNameEditing=ge(!1),this.isNameWaitingResponse=ge(!1),this.isEmailEditing=ge(!1),this.isEmailWaitingResponse=ge(!1),this.isPasswordWaitingResponse=ge(!1),this.router=M(an),this.authService=M(Vn),this.profileService=M(Os),this.formBuilder=M(Sn),ko(()=>{this.nameInput&&this.nameInput.setValue(this.name())}),ko(()=>{this.emailInput&&this.emailInput.setValue(this.email())})}ngOnInit(){this.name=this.profileService.name,this.email=this.profileService.email,this.nameForm=this.formBuilder.group({name:["",[Ze.required]]}),this.emailForm=this.formBuilder.group({email:["",[Ze.required,js()]]}),this.passwordForm=this.formBuilder.nonNullable.group({password:["",[Ze.required,Ze.minLength(8)]]})}get nameInput(){return this.nameForm.get("name")}get emailInput(){return this.emailForm.get("email")}get passwordInput(){return this.passwordForm.get("password")}editName(){this.isNameEditing.set(!0)}editEmail(){this.isEmailEditing.set(!0)}updateName(){this.isNameWaitingResponse.set(!0),this.profileService.setName(this.nameForm.value.name).pipe(vi(()=>{this.isNameWaitingResponse.set(!1)})).subscribe({next:()=>{this.isNameEditing.set(!1)},error:r=>{this.nameForm.setErrors(r)}})}updateEmail(){this.isEmailWaitingResponse.set(!0),this.profileService.setEmail(this.emailForm.value.email).pipe(vi(()=>{this.isEmailWaitingResponse.set(!1)})).subscribe({next:()=>{this.isEmailEditing.set(!1)},error:r=>{this.emailInput?.setErrors(r)}})}showPasswordDialog(){this.passwordDialog?.nativeElement.showModal()}updatePassword(){this.isPasswordWaitingResponse.set(!0),this.profileService.setPassword(this.passwordForm.value.password).pipe(vi(()=>{this.isPasswordWaitingResponse.set(!1)})).subscribe({next:()=>{this.passwordDialog?.nativeElement.close()},error:r=>{this.passwordInput?.setErrors(r)}})}logout(){this.authService.signOut().subscribe({next:()=>{this.router.navigate(["/"])}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-profile-page"]],viewQuery:function(i,o){if(i&1&&Ru($de,5),i&2){let a;ga(a=ma())&&(o.passwordDialog=a.first)}},standalone:!0,features:[Ke],decls:44,vars:11,consts:[["passwordDialog",""],[1,"profile-card","card"],[1,"form",3,"ngSubmit","formGroup"],["for","name"],[1,"form-block"],["id","name","formControlName","name"],["type","submit",1,"button-small",3,"disabled"],["type","button",1,"button-small"],[1,"error"],["for","email"],["id","email","formControlName","email"],[1,"buttons"],[3,"click"],["id","dialog"],[1,"dialog"],["onClick","dialog.close()",1,"button-close"],["src","icon-close.png","alt","Close"],["for","password"],["id","password","formControlName","password","type","password"],["type","submit",3,"disabled"],["src","icon-save.png","alt","Save"],["type","button",1,"button-small",3,"click"],["src","icon-edit.png","alt","Edit"]],template:function(i,o){if(i&1){let a=It();x(0,"div",1)(1,"h2"),S(2,"Profile"),D(),x(3,"form",2),re("ngSubmit",function(){return je(a),Ve(o.updateName())}),x(4,"label",3),S(5,"Name"),D(),x(6,"div",4),Y(7,"input",5),Se(8,Ude,2,1,"button",6)(9,qde,2,0,"button",7),D(),x(10,"div",8),Se(11,Hde,1,0),D()(),x(12,"form",2),re("ngSubmit",function(){return je(a),Ve(o.updateEmail())}),x(13,"label",9),S(14,"Email"),D(),x(15,"div",4),Y(16,"input",10),Se(17,zde,2,1,"button",6)(18,Gde,2,0,"button",7),D(),x(19,"div",8),Se(20,Wde,1,0)(21,Yde,2,1),D()(),x(22,"div",11)(23,"button",12),re("click",function(){return je(a),Ve(o.showPasswordDialog())}),S(24,"Change Password"),D(),x(25,"button",12),re("click",function(){return je(a),Ve(o.logout())}),S(26,"Logout"),D()()(),x(27,"dialog",13,0)(29,"div",14)(30,"div",11)(31,"h2"),S(32,"Change Password"),D(),x(33,"button",15),Y(34,"img",16),D()(),x(35,"form",2),re("ngSubmit",function(){return je(a),Ve(o.updatePassword())}),x(36,"label",17),S(37,"New Password"),D(),Y(38,"input",18),x(39,"div",8),Se(40,Qde,1,0)(41,efe,2,1),D(),x(42,"button",19),S(43," Save "),D()()()()}i&2&&(P(3),ye("formGroup",o.nameForm),P(4),tr("readonly",!o.isNameEditing()||null),P(),Me(o.isNameEditing()?8:9),P(3),Me(o.nameInput!=null&&o.nameInput.touched&&(!(o.nameInput==null||o.nameInput.errors==null)&&o.nameInput.errors.required)?11:-1),P(),ye("formGroup",o.emailForm),P(4),tr("readonly",!o.isEmailEditing()||null),P(),Me(o.isEmailEditing()?17:18),P(3),Me(!(o.emailInput==null||o.emailInput.errors==null)&&o.emailInput.errors.emailAlreadyExists?20:o.emailInput!=null&&o.emailInput.touched?21:-1),P(15),ye("formGroup",o.passwordForm),P(5),Me(!(o.passwordInput==null||o.passwordInput.errors==null)&&o.passwordInput.errors.invalidPassword?40:o.passwordInput!=null&&o.passwordInput.touched?41:-1),P(2),ye("disabled",o.isPasswordWaitingResponse()))},dependencies:[Fn,In,fn,Dn,En,hn,_n],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;align-self:center;gap:32px;width:100%;max-width:400px;padding:0 16px}.profile-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;align-self:center;gap:16px;padding:24px 32px;width:100%}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;width:100%}.form-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.buttons[_ngcontent-%COMP%], .button-close[_ngcontent-%COMP%]{align-self:flex-end}"],changeDetection:0});let t=e;return t})();var tfe=["confirmDialog"];function nfe(t,e){if(t&1){let n=It();x(0,"button",4),re("click",function(){je(n);let i=G().$implicit,o=G();return Ve(o.showConfirmDialog(i.id))}),S(1,"Cancel"),D()}}function rfe(t,e){if(t&1&&(x(0,"tr")(1,"td"),S(2),D(),x(3,"td"),S(4),At(5,"date"),D(),x(6,"td"),S(7),D(),x(8,"td"),S(9),At(10,"date"),D(),x(11,"td"),S(12),At(13,"formatTime"),D(),x(14,"td"),S(15,"--"),D(),x(16,"td"),S(17,"--"),D(),x(18,"td"),S(19),D(),x(20,"td"),S(21,"--"),D(),x(22,"td"),Se(23,nfe,2,0,"button"),D()()),t&2){let n=e.$implicit,r=e.$index,i=G();P(2),tt(i.stationNames()[r].startStationName),P(2),tt(xn(5,7,i.tripTimes()[r].startTripTime,"MMMM dd hh:mm")),P(3),tt(i.stationNames()[r].startStationName),P(2),tt(xn(10,10,i.tripTimes()[r].endTripTime,"MMMM dd hh:mm")),P(3),tt(wr(13,13,i.tripDurations()[r])),P(7),tt(n.seatId),P(4),Me(n.status==="active"?23:-1)}}var VL=(()=>{let e=class e{constructor(){this.confirmDialog=null,this.showOrderId=ge(0),this.orderService=M(mc)}ngOnInit(){this.orders=this.orderService.orders,this.users=this.orderService.users,this.stationNames=this.orderService.stationNames,this.tripTimes=this.orderService.tripTimes,this.tripDurations=this.orderService.tripDurations}showConfirmDialog(r){this.confirmDialog?.nativeElement.showModal(),this.showOrderId.set(r)}hiddenConfirmDialog(){this.confirmDialog?.nativeElement.close()}cancelOrder(){this.orderService.cancelOrder(this.showOrderId()).subscribe({complete:()=>{this.hiddenConfirmDialog()}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-orders-page"]],viewQuery:function(i,o){if(i&1&&Ru(tfe,5),i&2){let a;ga(a=ma())&&(o.confirmDialog=a.first)}},standalone:!0,features:[Lr([]),Ke],decls:33,vars:0,consts:[["confirmDialog",""],["border","1"],["id","dialog",1,"dialog"],[1,"dialog__buttons"],[3,"click"]],template:function(i,o){if(i&1){let a=It();x(0,"table",1)(1,"tr")(2,"th"),S(3,"Start station name"),D(),x(4,"th"),S(5,"Start trip time"),D(),x(6,"th"),S(7,"End station name"),D(),x(8,"th"),S(9,"End station time"),D(),x(10,"th"),S(11,"Trip duration"),D(),x(12,"th"),S(13,"Carriage type"),D(),x(14,"th"),S(15,"Car number"),D(),x(16,"th"),S(17,"Seat number"),D(),x(18,"th"),S(19,"Price"),D(),x(20,"th"),S(21,"Cancel"),D()(),Dt(22,rfe,24,15,"tr",null,zt),D(),x(24,"dialog",2,0)(26,"h3"),S(27,"Are you sure cancel order?"),D(),x(28,"div",3)(29,"button",4),re("click",function(){return je(a),Ve(o.cancelOrder())}),S(30,"Ok"),D(),x(31,"button",4),re("click",function(){return je(a),Ve(o.hiddenConfirmDialog())}),S(32,"Cancel"),D()()()}i&2&&(P(22),Et(o.orders()))},dependencies:[Ca,ro,wc],styles:["table[_ngcontent-%COMP%]{margin-top:40px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.dialog[_ngcontent-%COMP%]{padding:20px;border-radius:12px}.dialog[_ngcontent-%COMP%]   .dialog__buttons[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:20px;gap:20px}"],changeDetection:0});let t=e;return t})();var ife=["*"],qg=(()=>{let e=class e{constructor(){this.link=""}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-header-link"]],inputs:{link:"link"},standalone:!0,features:[Ke],ngContentSelectors:ife,decls:2,vars:1,consts:[[3,"routerLink"]],template:function(i,o){i&1&&(kh(),x(0,"a",0),Lh(1),D()),i&2&&fr("routerLink",o.link)},dependencies:[bg],styles:['[_nghost-%COMP%]{padding:0 clamp(4px,-16px + 5vw,16px);border-radius:16px;transition:background-color .3s ease-in-out}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}a[_ngcontent-%COMP%]:after{content:"";display:block;margin:0 auto;width:0%;height:2px;background-color:#000;opacity:0;transition:width .3s ease-in-out,opacity .3s ease-in-out}a[_ngcontent-%COMP%]:hover:after{width:100%;opacity:1}a[_ngcontent-%COMP%]:active{color:#4255ff}a[_ngcontent-%COMP%]:active:after{background-color:#4255ff}.header-link-current-disabled[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover:after{opacity:0}'],changeDetection:0});let t=e;return t})();var Cc=(()=>{let e=class e{constructor(){this.router=M(an),this.currentPage=ge(""),this.router.events.subscribe(r=>{r instanceof Ii&&this.currentPage.set(r.urlAfterRedirects.split("/")[2])})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-admin-subheader"]],standalone:!0,features:[Ke],decls:6,vars:9,consts:[[3,"link"]],template:function(i,o){i&1&&(x(0,"ta-header-link",0),S(1,"Stations"),D(),x(2,"ta-header-link",0),S(3,"Carriages"),D(),x(4,"ta-header-link",0),S(5,"Routes"),D()),i&2&&(on("header-link-current-disabled",o.currentPage()==="stations"),ye("link","/admin/stations"),P(2),on("header-link-current-disabled",o.currentPage()==="carriages"),ye("link","/admin/carriages"),P(2),on("header-link-current-disabled",o.currentPage()==="routes"),ye("link","/admin/routes"))},dependencies:[qg],styles:["[_nghost-%COMP%]{display:flex;font-size:clamp(16px,0px + 4vw,24px);padding:0px clamp(16px,-16px + 8vw,32px) 10px}"],changeDetection:0});let t=e;return t})();function ofe(t,e){t&1&&S(0," Cannot delete station with active rides ")}function sfe(t,e){if(t&1&&(x(0,"div",7),S(1),D()),t&2){let n=e.$implicit,r=G();P(),Zt(" ",r.stationService.getStationNameById(n.id)," ")}}var BL=(()=>{let e=class e{constructor(){this.stationService=M(gr),this.errorStationId=this.stationService.errorStationId}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-station"]],inputs:{station:"station",errorStationId:"errorStationId"},standalone:!0,features:[Ke],decls:16,vars:10,consts:[[1,"header"],[1,"city"],[1,"coords"],[1,"error"],[1,"button-small",3,"click"],["src","icon-delete.png","alt","Delete"],[1,"connected"],[1,"connected-city"]],template:function(i,o){i&1&&(x(0,"div",0)(1,"div",1),S(2),D(),x(3,"div",2),S(4),At(5,"number"),At(6,"number"),D(),x(7,"div",3),Se(8,ofe,1,0),D(),x(9,"button",4),re("click",function(){return o.stationService.deleteStation(o.station.id).subscribe()}),Y(10,"img",5),D()(),x(11,"div",6)(12,"div"),S(13,"Connected-to:"),D(),Dt(14,sfe,2,1,"div",7,zt),D()),i&2&&(P(2),tt(o.station.city),P(2),Oo(" (",xn(5,4,o.station.latitude,"1.4-4"),", ",xn(6,7,o.station.longitude,"1.4-4"),") "),P(4),Me(o.station.id===o.errorStationId()?8:-1),P(6),Et(o.station.connectedTo))},dependencies:[US],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:8px;padding:16px;width:100%}.header[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr auto auto;align-items:center;gap:16px}.city[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.connected[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:8px}.connected-city[_ngcontent-%COMP%]{border-radius:14px;background-color:#d3d3d3;padding:2px 6px}"],changeDetection:0});let t=e;return t})();function $L(){return t=>{let e=t.controls.map(n=>n.value);return new Set(e).size===e.length?null:{unique:!0}}}var afe=(t,e)=>e[1].id;function ufe(t,e){if(t&1&&(x(0,"option",16),S(1),D()),t&2){let n=e.$implicit;fr("value",n[1].id),P(),tt(n[1].city)}}function cfe(t,e){if(t&1&&(x(0,"select",11),Dt(1,ufe,2,2,"option",16,afe),D()),t&2){let n=e.$index,r=G(2);fr("formControlName",n),P(),Et(r.stations())}}function lfe(t,e){if(t&1){let n=It();x(0,"form",2),re("ngSubmit",function(){je(n);let i=G();return Ve(i.onSubmit())}),x(1,"label",3),S(2,"City Name"),D(),Y(3,"input",4),x(4,"label",5),S(5,"Latitude"),D(),Y(6,"input",6),x(7,"label",7),S(8,"Longitude"),D(),Y(9,"input",8),x(10,"label",9),S(11,"Connected to:"),D(),x(12,"div",10),Dt(13,cfe,3,1,"select",11,zt),D(),x(15,"div",12)(16,"button",13),re("click",function(){je(n);let i=G();return Ve(i.addStationRelation())}),S(17," + "),D(),x(18,"button",13),re("click",function(){je(n);let i=G();return Ve(i.removeStationRelation())}),S(19," - "),D()(),x(20,"div",12)(21,"button",14),S(22,"Save"),D(),x(23,"button",15),re("click",function(){je(n);let i=G();return Ve(i.formVisible.set(!1))}),S(24,"Cancel"),D()()()}if(t&2){let n=G();ye("formGroup",n.formStation),P(13),Et(n.stationRelation.controls),P(8),ye("disabled",n.formStation.invalid)}}function dfe(t,e){if(t&1){let n=It();x(0,"button",17),re("click",function(){je(n);let i=G();return Ve(i.addStation())}),S(1,"Add station"),D()}}function ffe(t,e){if(t&1&&Y(0,"ta-station",1),t&2){let n=e.$implicit;ye("station",n[1])}}var UL=(()=>{let e=class e{constructor(){this.formVisible=ge(!1),this.stationsService=M(gr),this.formBuilder=M(Sn),this.stations=this.stationsService.stations,this.formStation=this.formBuilder.nonNullable.group({city:["",[Ze.required]],longitude:[0,[Ze.required,Ze.min(-180),Ze.max(180)]],latitude:[0,[Ze.required,Ze.min(-90),Ze.max(90)]],relations:this.formBuilder.array([new Yn(0,[Ze.min(1)]),new Yn(0,[Ze.min(1)]),new Yn(0,[Ze.min(1)])],$L())})}get stationRelation(){return this.formStation.get("relations")}addStation(){this.formVisible.set(!0),this.stationsService.errorStationId.set(-1)}addStationRelation(){this.stationRelation.push(new Yn(0))}removeStationRelation(){this.stationRelation.length>3&&this.stationRelation.removeAt(-1)}onSubmit(){let r=this.formStation.value;r.relations=r.relations.map(i=>parseInt(i,10)),this.stationsService.createStation(r).subscribe({next:()=>{this.stationRelation.reset(),this.formVisible.set(!1)}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-stations-page"]],standalone:!0,features:[Ke],decls:5,vars:1,consts:[[3,"formGroup"],[1,"card",3,"station"],[3,"ngSubmit","formGroup"],["for","city"],["type","text","id","city","formControlName","city"],["for","latitude"],["type","number","id","latitude","formControlName","latitude"],["for","longitude"],["type","number","id","longitude","formControlName","longitude"],["for","relations"],["formArrayName","relations",1,"relations"],[3,"formControlName"],[1,"buttons"],["type","button",1,"button-small",3,"click"],["type","submit",3,"disabled"],["type","button",3,"click"],[3,"value"],[3,"click"]],template:function(i,o){i&1&&(Y(0,"ta-admin-subheader"),Se(1,lfe,25,2,"form",0)(2,dfe,2,0,"button"),Dt(3,ffe,1,1,"ta-station",1,zt)),i&2&&(P(),Me(o.formVisible()?1:2),P(2),Et(o.stations()))},dependencies:[Fn,In,jg,Vg,fn,$a,Lg,Dn,En,hn,_n,Ls,Cc,BL],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:16px;padding:0 16px;width:1024px}form[_ngcontent-%COMP%], .relations[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}"],changeDetection:0});let t=e;return t})();function hfe(t,e){if(t&1){let n=It();x(0,"button",1),re("click",function(){let i=je(n).$index,o=G();return Ve(o.selectSeat(i+1))}),S(1),D()}if(t&2){let n=e.$index,r=G();on("margin",n%(r.carriage.leftSeats+r.carriage.rightSeats)===r.carriage.leftSeats-1)("seat-selected",n+1===r.activeSeatIdx&&(r.carriageInstance==null?null:r.carriageInstance.number)===r.activeCarriageIdx-1),ye("disabled",(r.carriageInstance==null||r.carriageInstance.seatsOccupation==null?null:r.carriageInstance.seatsOccupation[n+1])===1),P(),Zt(" ",n+1," ")}}var Hg=(()=>{let e=class e{constructor(){this.carriageInstance=null,this.activeSeatIdx=0,this.activeCarriageIdx=0,this.selectedSeat=new Ht,this.seats=[],this.seatsInRow=0}ngOnChanges(r){if(r.carriage||r.carriageInstance){if(this.carriage.leftSeats+this.carriage.rightSeats>7||this.carriage.leftSeats+this.carriage.rightSeats<2||this.carriage.leftSeats<1||this.carriage.rightSeats<1||this.carriage.rows<8||this.carriage.rows>20){this.seats=[];return}let i=this.carriageInstance?.startSeatNumber||0,o=(this.carriage.leftSeats+this.carriage.rightSeats)*this.carriage.rows;this.seats=new Array(o).fill(0).map((a,c)=>c+i),this.seatsInRow=this.carriage.leftSeats+this.carriage.rightSeats}}selectSeat(r){this.selectedSeat.emit([r,(this.carriageInstance?.number||0)+1])}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-carriage"]],hostVars:2,hostBindings:function(i,o){i&2&&Ro("--seats-in-row",o.seatsInRow)},inputs:{carriage:"carriage",carriageInstance:"carriageInstance",activeSeatIdx:"activeSeatIdx",activeCarriageIdx:"activeCarriageIdx"},outputs:{selectedSeat:"selectedSeat"},standalone:!0,features:[Li,Ke],decls:2,vars:0,consts:[[1,"seat",3,"margin","seat-selected","disabled"],[1,"seat",3,"click","disabled"]],template:function(i,o){i&1&&Dt(0,hfe,2,6,"button",0,zt),i&2&&Et(o.seats)},styles:["[_nghost-%COMP%]{--seat-size: 32px;display:flex;flex-direction:column-reverse;flex-wrap:wrap;align-content:flex-start;gap:2px;height:calc((var(--seat-size) + 2px) * var(--seats-in-row) - 2px + 12px)}.seat[_ngcontent-%COMP%]{width:var(--seat-size);height:var(--seat-size);border-color:#d3d3d3;box-shadow:0 0 0 1px #0000004d;transition:background-color .2s ease-in-out,border-color .2s ease-in-out}.seat-selected[_ngcontent-%COMP%]{background-color:#ef8e10}.seat[_ngcontent-%COMP%]:disabled{background-color:gray;cursor:default;pointer-events:none}.margin[_ngcontent-%COMP%]{margin-top:12px}"],changeDetection:0});let t=e;return t})();function pfe(t,e){t&1&&(x(0,"h2"),S(1,"Create New Carriage"),D())}function gfe(t,e){t&1&&(x(0,"h2"),S(1,"Edit Carriage"),D(),x(2,"label",14),S(3,"Code"),D(),Y(4,"input",15))}function mfe(t,e){if(t&1){let n=It();x(0,"div",0)(1,"form",1),re("ngSubmit",function(){je(n);let i=G();return Ve(i.setCarriage())}),Se(2,pfe,2,0,"h2")(3,gfe,5,0),x(4,"label",2),S(5,"Name"),D(),Y(6,"input",3),x(7,"label",4),S(8,"Left Seats"),D(),Y(9,"input",5),x(10,"label",6),S(11,"Right Seats"),D(),Y(12,"input",7),x(13,"label",8),S(14,"Rows"),D(),Y(15,"input",9),x(16,"div",10)(17,"button",11),S(18,"Save"),D(),x(19,"button",12),re("click",function(){je(n);let i=G();return Ve(i.formType.set("none"))}),S(20," Cancel "),D()()(),Y(21,"ta-carriage",13),D()}if(t&2){let n=G();P(),ye("formGroup",n.carriageForm),P(),Me(n.formType()==="create"?2:n.formType()==="edit"?3:-1),P(15),ye("disabled",n.carriageForm.invalid),P(4),Ro("pointer-events","none"),ye("carriage",n.carriageForm.value)}}function vfe(t,e){if(t&1){let n=It();x(0,"button",16),re("click",function(){je(n);let i=G();return Ve(i.createCarriage())}),S(1,"Create Carriage"),D()}}function yfe(t,e){if(t&1){let n=It();x(0,"div",0)(1,"div")(2,"h2"),S(3),D(),Y(4,"ta-carriage",13),D(),x(5,"div",10)(6,"button",17),re("click",function(){let i=je(n).$implicit,o=G();return Ve(o.editCarriage(i))}),Y(7,"img",18),D(),x(8,"button",17),re("click",function(){let i=je(n).$implicit,o=G();return Ve(o.deleteCarriage(i))}),Y(9,"img",19),D()()()}if(t&2){let n=e.$implicit;P(3),tt(n.name),P(),Ro("pointer-events","none"),ye("carriage",n)}}var qL=(()=>{let e=class e{constructor(){this.isWaitingResponse=ge(!1),this.maxSeatsInRow=6,this.carriageService=M(Rs),this.formBuilder=M(Sn),this.carriageTypes=this.carriageService.carriageTypes,this.formType=ge("none"),this.carriageForm=this.formBuilder.nonNullable.group({code:[""],name:["",[Ze.required,Ze.minLength(3),Ze.maxLength(20)]],rows:[15,[Ze.required,Ze.min(12),Ze.max(20)]],leftSeats:[2,[Ze.required,Ze.min(1),Ze.max(5)]],rightSeats:[2,[Ze.required,Ze.min(1),Ze.max(5)]]}),this.leftSeatsInput.valueChanges.subscribe(()=>{this.leftSeatsInput.value>5||this.leftSeatsInput.value<1||this.leftSeatsInput.value+this.rightSeatsInput.value>this.maxSeatsInRow&&this.rightSeatsInput.setValue(this.maxSeatsInRow-this.leftSeatsInput.value)}),this.rightSeatsInput.valueChanges.subscribe(()=>{this.rightSeatsInput.value>5||this.rightSeatsInput.value<1||this.leftSeatsInput.value+this.rightSeatsInput.value>this.maxSeatsInRow&&this.leftSeatsInput.setValue(this.maxSeatsInRow-this.rightSeatsInput.value)})}get codeInput(){return this.carriageForm.get("code")}get leftSeatsInput(){return this.carriageForm.get("leftSeats")}get rightSeatsInput(){return this.carriageForm.get("rightSeats")}createCarriage(){this.carriageForm.reset(),this.formType.set("create")}setCarriage(){this.isWaitingResponse.set(!0),this.formType()==="create"?this.carriageService.createCarriage(this.carriageForm.value).subscribe(()=>{this.isWaitingResponse.set(!1),this.formType.set("none")}):this.formType()==="edit"&&this.carriageService.updateCarriage(this.carriageForm.value).subscribe(()=>{this.isWaitingResponse.set(!1),this.formType.set("none")})}editCarriage(r){this.formType.set("edit"),this.carriageForm.patchValue(r)}deleteCarriage(r){this.isWaitingResponse.set(!0),this.carriageService.deleteCarriage(r.code).subscribe(()=>{this.isWaitingResponse.set(!1)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-carriages-page"]],standalone:!0,features:[Ke],decls:5,vars:1,consts:[[1,"carriage-card","card"],[1,"form",3,"ngSubmit","formGroup"],["for","name"],["id","name","formControlName","name","maxlength","20","autocomplete","off"],["for","leftSeats"],["id","leftSeats","type","number","formControlName","leftSeats","min","1","max","5"],["for","rightSeats"],["id","rightSeats","type","number","formControlName","rightSeats","min","1","max","5"],["for","rows"],["id","rows","type","number","formControlName","rows","min","12","max","20"],[1,"buttons"],["type","submit",3,"disabled"],["type","button",3,"click"],[3,"carriage"],["for","code"],["id","code","formControlName","code","readonly",""],[3,"click"],[1,"button-small",3,"click"],["src","icon-edit.png","alt","Edit"],["src","icon-delete.png","alt","Delete"]],template:function(i,o){i&1&&(Y(0,"ta-admin-subheader"),Se(1,mfe,22,6,"div",0)(2,vfe,2,0,"button"),Dt(3,yfe,10,4,"div",0,zt)),i&2&&(P(),Me(o.formType()!=="none"?1:2),P(2),Et(o.carriageTypes()))},dependencies:[Cc,Hg,Fn,In,fn,$a,Dn,En,BC,VC,jC,hn,_n],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:16px;padding:0 16px}h2[_ngcontent-%COMP%]{padding:0 16px 16px}.carriage-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:16px;width:100%}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}"],changeDetection:0});let t=e;return t})();var HL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-route"]],inputs:{route:"route"},standalone:!0,features:[Ke],decls:8,vars:2,template:function(i,o){i&1&&(x(0,"p"),S(1,"Cities:"),D(),x(2,"p"),S(3),D(),x(4,"p"),S(5,"Carriage Types:"),D(),x(6,"p"),S(7),D()),i&2&&(P(3),tt(o.route.path.join(" - ")),P(4),tt(o.route.carriages.join(" - ")))},changeDetection:0});let t=e;return t})();var zL=(()=>{let e=class e{constructor(){this.routes=ge([]),this.routesUrl="/api/route",this.httpClient=M(nr),this.stationService=M(gr)}loadRoutes(){this.httpClient.get(this.routesUrl).pipe(dt(r=>{let i=r.map(o=>ve(q({},o),{path:[...o.path.map(a=>this.stationService.getStationNameById(a))]}));this.routes.set(i)}),mi(1)).subscribe()}createRoute(){this.httpClient.post(this.routesUrl,{}).subscribe({next:()=>this.loadRoutes()})}updateRoute(r){let i=ve(q({},r),{path:r.path.map(o=>this.stationService.getStationIdByName(o))});this.httpClient.put(`${this.routesUrl}/${i.id}`,i).subscribe({next:()=>this.loadRoutes()})}deleteRoute(r){this.httpClient.delete(`${this.routesUrl}/${r}`).subscribe({next:()=>this.loadRoutes()})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _fe=(t,e)=>e.id;function wfe(t,e){if(t&1&&Y(0,"input",5),t&2){let n=e.$index;ye("formControlName",n)}}function Cfe(t,e){if(t&1&&Y(0,"input",5),t&2){let n=e.$index;ye("formControlName",n)}}function bfe(t,e){if(t&1){let n=It();x(0,"form",3),re("ngSubmit",function(){let i=je(n),o=G();return Ve(o.onSubmit(i.id))}),x(1,"div",4),Dt(2,wfe,1,1,"input",5,zt),D(),x(4,"div",6),Dt(5,Cfe,1,1,"input",5,zt),D(),x(7,"button"),S(8,"Update"),D()()}if(t&2){let n=e,r=G();ye("formGroup",r.routeForm),P(2),Et(n.carriages),P(3),Et(n.path)}}function xfe(t,e){if(t&1){let n=It();x(0,"div",2)(1,"div")(2,"h2"),S(3),D(),x(4,"div",7)(5,"button",0),re("click",function(){let i=je(n).$implicit,o=G();return Ve(o.updateRoute(i))}),Y(6,"img",8),S(7," Update "),D(),x(8,"button",0),re("click",function(){let i=je(n).$implicit,o=G();return Ve(o.routeToRidesPage(i.id))}),Y(9,"img",8),S(10," Assign Ride "),D(),x(11,"button",9),re("click",function(){let i=je(n).$implicit,o=G();return Ve(o.deleteRoute(i.id))}),Y(12,"img",10),D()(),Y(13,"ta-route",11),D()()}if(t&2){let n=e.$implicit;P(3),tt(n.id),P(10),Ro("pointer-events","none"),ye("route",n)}}var GL=(()=>{let e=class e{constructor(){this.currentRoute=ge(null),this.routesService=M(zL),this.router=M(an),this.formBuilder=M(Sn),this.routesService.loadRoutes(),this.routes=this.routesService.routes,this.routeForm=this.formBuilder.nonNullable.group({path:this.formBuilder.array([]),carriages:this.formBuilder.array([])})}createRoute(){console.log("hello world")}get path(){return this.routeForm.get("path")}get carriages(){return this.routeForm.get("carriages")}updateRoute(r){this.currentRoute.set(r);let i=this.routeForm.get("path"),o=this.routeForm.get("carriages");i.clear(),o.clear(),r.path.forEach(a=>i.push(new Yn(a))),r.carriages.forEach(a=>o.push(new Yn(a)))}deleteRoute(r){this.routesService.deleteRoute(r)}routeToRidesPage(r){this.router.navigate([`/admin/routes/${r}`])}onSubmit(r){this.currentRoute.set(null),this.routesService.updateRoute(ve(q({},this.routeForm.value),{id:r}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-routes-page"]],standalone:!0,features:[Ke],decls:6,vars:1,consts:[[3,"click"],[3,"formGroup"],[1,"route-card","card"],[3,"ngSubmit","formGroup"],["formArrayName","carriages"],[3,"formControlName"],["formArrayName","path"],[1,"buttons"],["src","icon-edit.png","alt","Edit"],[1,"button-small",3,"click"],["src","icon-delete.png","alt","Delete"],[3,"route"]],template:function(i,o){if(i&1&&(Y(0,"ta-admin-subheader"),x(1,"button",0),re("click",function(){return o.createRoute()}),S(2,"Create Route"),D(),Se(3,bfe,9,1,"form",1),Dt(4,xfe,14,4,"div",2,_fe)),i&2){let a;P(3),Me((a=o.currentRoute())?3:-1,a),P(),Et(o.routes())}},dependencies:[Cc,HL,Fn,In,fn,Dn,En,hn,_n,Ls],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:16px;padding:0 16px}.route-card[_ngcontent-%COMP%]{padding:16px}"],changeDetection:0});let t=e;return t})();var $C=()=>{let t=M(Vn),e=M(an);return t.isAuthenticated()||e.createUrlTree(["/"])};var UC=()=>{let t=M(Vn),e=M(an);return!t.isAuthenticated()||e.createUrlTree(["/"])};var vd=()=>{let t=M(Os),e=M(an);return t.role()==="manager"||e.createUrlTree(["/"])};var qC=function(t){return t.ACTIVE="active",t.COMPLETED="completed",t.REJECTED="rejected",t.CANCELED="canceled",t}(qC||{});var WL=(()=>{let e=class e{transform(r,i){return r.filter(o=>i===""||o.code===i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Pi({name:"filterCarriageType",type:e,pure:!0,standalone:!0});let t=e;return t})();function Dfe(t,e){if(t&1){let n=It();x(0,"button",10),re("click",function(){let i=je(n).$implicit,o=G();return Ve(o.selectCarriageType(i.code))}),x(1,"div"),S(2),D(),x(3,"div",11),S(4),At(5,"currency"),D()()}if(t&2){let n=e.$implicit,r=G();on("button-filter-active",r.activeCarriageType()===n.code)("active",r.activeCarriageType()===n.code),P(2),Oo("",n.name,": ",n.freeSeatsCount,""),P(2),Zt(" ",wr(5,7,n.price)," ")}}function Efe(t,e){if(t&1){let n=It();x(0,"div",6)(1,"h2"),S(2),D(),x(3,"ta-carriage",12),re("selectedSeat",function(i){je(n);let o=G();return Ve(o.selectSeat(i))}),D()()}if(t&2){let n=e.$implicit,r=G();P(2),Zt("Car ",n.number+1,""),P(),ye("carriage",r.getCarriageByCode(n.code))("carriageInstance",n)("activeSeatIdx",r.activeSeat())("activeCarriageIdx",r.activeCar())}}function Ife(t,e){if(t&1){let n=It();x(0,"div",7)(1,"div",13)(2,"div"),S(3,"You already have a reserved seat for this trip"),D()(),Y(4,"hr"),x(5,"button",3),re("click",function(){je(n);let i=G();return Ve(i.cancelOrder())}),S(6,"Cancel Order"),D()()}}function Sfe(t,e){if(t&1){let n=It();x(0,"div",7)(1,"div",13)(2,"div"),S(3),D(),x(4,"div"),S(5),At(6,"currency"),D(),x(7,"button",14),re("click",function(){je(n);let i=G();return Ve(i.freeSeat())}),Y(8,"img",15),D()(),Y(9,"hr"),x(10,"button",3),re("click",function(){je(n);let i=G();return Ve(i.bookTicket())}),S(11,"Book ticket"),D()()}if(t&2){let n=G();P(3),Oo("Car ",n.activeCar(),", Seat ",n.activeSeat(),""),P(2),Zt(" ",wr(6,3,n.trip().carriageData[n.activeCarriageTypeIdx()].price)," ")}}function Ffe(t,e){t&1&&S(0," Incorrect email or password ")}function Tfe(t,e){t&1&&S(0," Email is required ")}function Mfe(t,e){t&1&&S(0," Incorrect email ")}function Afe(t,e){if(t&1&&Se(0,Ffe,1,0)(1,Tfe,1,0)(2,Mfe,1,0),t&2){let n,r=G(2);Me(!(r.signinForm==null||r.signinForm.errors==null)&&r.signinForm.errors.userNotFound?0:!(r.signinForm==null||(n=r.signinForm.get("email"))==null||n.errors==null)&&n.errors.required?1:!(r.signinForm==null||(n=r.signinForm.get("email"))==null||n.errors==null)&&n.errors.invalidEmail?2:-1)}}function Nfe(t,e){t&1&&S(0," Incorrect email or password ")}function Rfe(t,e){t&1&&S(0," Password is required ")}function Ofe(t,e){if(t&1&&Se(0,Nfe,1,0)(1,Rfe,1,0),t&2){let n,r=G(2);Me(!(r.signinForm==null||r.signinForm.errors==null)&&r.signinForm.errors.userNotFound?0:!(r.signinForm==null||(n=r.signinForm.get("password"))==null||n.errors==null)&&n.errors.required?1:-1)}}function Pfe(t,e){if(t&1){let n=It();x(0,"div",9)(1,"form",16),re("ngSubmit",function(){je(n);let i=G();return Ve(i.onSubmit())}),x(2,"h2"),S(3,"Sign In"),D(),x(4,"label",17),S(5,"Email"),D(),Y(6,"input",18),x(7,"div",19),Se(8,Afe,3,1),D(),x(9,"label",20),S(10,"Password"),D(),Y(11,"input",21),x(12,"div",19),Se(13,Ofe,2,1),D(),x(14,"div",22)(15,"button",23),S(16," Sign In "),D(),x(17,"button",24),re("click",function(){je(n);let i=G();return Ve(i.goToSignUp())}),S(18,"Sign Up"),D()()()()}if(t&2){let n=G();P(),ye("formGroup",n.signinForm),P(7),Me(n.formSubmitted?8:-1),P(5),Me(n.formSubmitted?13:-1),P(2),ye("disabled",(n.signinForm==null?null:n.signinForm.invalid)||n.isSubmitting)}}var KL=(()=>{let e=class e{constructor(){this.signinForm=null,this.errorMessage=null,this.isSubmitting=!1,this.formSubmitted=!1,this.signInModal=ge(!1),this.activeSeat=ge(0),this.activeCar=ge(0),this.trip=ge({}),this.activeCarriageType=ge(""),this.activeCarriageTypeIdx=ei(()=>this.trip().carriageData.findIndex(r=>r.code===this.activeCarriageType())),this.activatedRoute=M(Hi),this.location=M(wa),this.router=M(an),this.carriagesService=M(Rs),this.orderService=M(mc),this.authService=M(Vn),this.formBuilder=M(Sn)}ngOnInit(){this.signinForm=this.formBuilder.group({email:["",[Ze.required,js()]],password:["",[Ze.required,Ug()]]}),this.activatedRoute.data.subscribe(r=>{this.trip.set(r.trip)}),history.state.carriageCode?this.selectCarriageType(history.state.carriageCode):this.selectCarriageType(this.trip().carriageData[0].code),this.routeModalRideInfo=ei(()=>this.trip().rideInfo),this.carriageTypes=this.carriagesService.carriageTypes,this.activeOrderIdx=ei(()=>this.orderService.ordersList().find(r=>r.rideId===this.trip().rideId&&r.status===qC.ACTIVE)?.id||0)}goBack(){history.state.carriageCode?this.location.back():this.router.navigate(["/"],{replaceUrl:!0})}showRoute(){let r=document.getElementById("dialog");this.signInModal.set(!1),r.showModal()}getCarriageByCode(r){return this.carriageTypes().find(i=>i.code===r)||null}freeSeat(){this.activeSeat.set(0),this.activeCar.set(0)}selectSeat(r){let[i,o]=r;this.activeSeat.set(i),this.activeCar.set(o)}bookTicket(){if(this.authService.isAuthenticated()){let r=this.activeSeat()+this.trip().carriages[this.activeCar()].startSeatNumber;this.orderService.postOrder(this.trip().rideId,r,this.trip().fromStationId,this.trip().toStationId).subscribe({next:()=>{this.trip.update(i=>{let o=q({},i),a=o.carriageData.findIndex(c=>c.code===this.activeCarriageType());return o.carriageData[a].freeSeatsCount-=1,o.carriages[this.activeCar()-1].seatsOccupation[this.activeSeat()]=1,o}),this.activeCar.set(0),this.activeSeat.set(0)}})}else{let r=document.getElementById("dialog");this.signInModal.set(!0),r.showModal()}}cancelOrder(){this.orderService.cancelOrder(this.activeOrderIdx()).subscribe({next:()=>{this.trip.update(r=>r)}})}selectCarriageType(r){this.activeCarriageType.set(r)}onSubmit(){if(this.formSubmitted=!0,!this.signinForm?.valid)return;this.isSubmitting=!0;let{email:r,password:i}=this.signinForm.value;this.authService.signIn(r,i).subscribe({next:()=>{this.isSubmitting=!1;let o=document.getElementById("dialog");this.signInModal.set(!1),o.close()},error:o=>{o.error.reason?this.handleErrorResponse(o.error):(this.isSubmitting=!1,this.errorMessage="An unexpected error occurred")}})}goToSignUp(){this.router.navigate(["/signup"])}handleErrorResponse(r){switch(r.reason){case"userNotFound":this.signinForm?.setErrors({userNotFound:!0});break;case"invalidEmail":this.signinForm?.setErrors({invalidEmail:!0});break;case"invalidPassword":this.signinForm?.setErrors({invalidPassword:!0});break;case"invalidFields":this.signinForm?.setErrors({invalidFields:!0});break;case"alreadyLoggedIn":this.signinForm?.setErrors({alreadyLoggedIn:!0});break;default:break}this.errorMessage=r.message,this.isSubmitting=!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-trip-page"]],standalone:!0,features:[Ke],decls:22,vars:14,consts:[[1,"trip-header"],[1,"button-small",3,"click"],["src","icon-back.png","alt","Back"],[3,"click"],[1,"filter-list"],[1,"button-filter-large",3,"button-filter-active","active"],[1,"carriage-card","card"],[1,"ticket-card","card"],["ta-route-modal","","id","dialog",3,"skipSelfContent","rideInfo"],[1,"dialog"],[1,"button-filter-large",3,"click"],[1,"price"],[3,"selectedSeat","carriage","carriageInstance","activeSeatIdx","activeCarriageIdx"],[1,"ticket-header"],[1,"button-close",3,"click"],["src","icon-close.png","alt","Close"],[1,"form",3,"ngSubmit","formGroup"],["for","email"],["id","email","formControlName","email","type","email"],[1,"error"],["for","password"],["id","password","formControlName","password","type","password"],[1,"buttons"],["ta-button","","type","submit",3,"disabled"],["type","button",3,"click"]],template:function(i,o){i&1&&(x(0,"div",0)(1,"button",1),re("click",function(){return o.goBack()}),Y(2,"img",2),D(),x(3,"button",3),re("click",function(){return o.showRoute()}),S(4,"Route"),D(),x(5,"div"),S(6),D(),x(7,"div"),S(8),D(),x(9,"div"),S(10),At(11,"date"),D()(),x(12,"div",4),Dt(13,Dfe,6,9,"button",5,zt),D(),Dt(15,Efe,4,5,"div",6,zt),At(17,"filterCarriageType"),Se(18,Ife,7,0,"div",7)(19,Sfe,12,5,"div",7),x(20,"dialog",8),Se(21,Pfe,19,4,"div",9),D()),i&2&&(P(6),Zt("Ride: ",o.trip().rideId,""),P(2),Oo("",o.trip().fromStationName," - ",o.trip().toStationName,""),P(2),tt(xn(11,8,o.trip().departureTime,"MMMM dd, HH:mm")),P(3),Et(o.trip().carriageData),P(2),Et(xn(17,11,o.trip().carriages,o.activeCarriageType())),P(3),Me(o.activeOrderIdx()!==0?18:o.activeSeat()!==0?19:-1),P(2),ye("skipSelfContent",o.signInModal())("rideInfo",o.routeModalRideInfo()),P(),Me(o.signInModal()?21:-1))},dependencies:[Fn,In,fn,Dn,En,hn,_n,$g,Hg,WL,ju,ro],styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;gap:8px;width:1024px;padding:0 16px}hr[_ngcontent-%COMP%]{width:100%}.trip-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:0 16px}.carriage-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;padding:16px;width:712px}.ticket-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;position:sticky;bottom:16px;align-self:flex-end;width:268px;height:128px;padding:16px;margin-top:-128px}.ticket-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr auto;justify-items:end;align-items:flex-end;gap:8px;width:100%}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:4px}.dialog[_ngcontent-%COMP%]{padding:32px}.filter-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.price[_ngcontent-%COMP%]{font-size:12px}"],changeDetection:0});let t=e;return t})();var ZL=t=>{let e=M(Bg),n=Number.parseInt(t.params.rideId,10),r=Number.parseInt(t.queryParams.from,10),i=Number.parseInt(t.queryParams.to,10);return e.searchTrip(n,r,i)};var YL=(()=>{let e=class e{constructor(){this.apiRoute="/api/route",this.httpClient=M(nr),this.stationsService=M(gr),this.errorService=M(lo)}loadRouteById(r){return this.httpClient.get(`${this.apiRoute}/${r}`).pipe(qe(i=>ve(q({},i),{path:i.path.map(o=>this.stationsService.getStationNameById(o))})),qt(i=>vn(()=>this.errorService.handleError("GET","/api/route/:id",i))))}addNewRide(r,i){return this.httpClient.post(`${this.apiRoute}/${r}/ride`,{segments:i}).pipe(qt(o=>vn(()=>this.errorService.handleError("GET","/api/route/:id",o))))}updateRide(r,i,o){return this.httpClient.put(`${this.apiRoute}/${o}/ride/${i}`,{segments:r}).pipe(qt(a=>vn(()=>this.errorService.handleError("GET","/api/route/:id",a))))}deleteRide(r,i){return this.httpClient.delete(`${this.apiRoute}/${r}/ride/${i}`).pipe(qt(o=>vn(()=>this.errorService.handleError("GET","/api/route/:id",o))))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kfe(t,e){if(t&1&&(x(0,"label",2),S(1),D(),Y(2,"input",3),At(3,"currency")),t&2){let n=e.$implicit,r=G();fr("for",n.key),P(),tt(n.key),P(),fr("id",n.key),fr("formControlName",n.key),ye("type",r.readonly()===""?"string":"number")("value",r.readonly()===""?wr(3,7,n.value):n.value),tr("readonly",r.readonly())}}var QL=(()=>{let e=class e{constructor(){this.updatedPrice=new Ht,this.readonly=ge(""),this.fb=M(Sn)}ngOnInit(){let r={};for(let i in this.price)Object.prototype.hasOwnProperty.call(this.price,i)&&(r[i]=new Yn(this.price[i]));this.formGroup=this.fb.group(r)}editPrice(){this.readonly.update(r=>r===""?null:"")}submitPrice(){if(this.formGroup.valid){let r=this.formGroup.getRawValue(),i={};Object.entries(r).forEach(([o,a])=>{i[o]=parseInt(a,10)}),this.updatedPrice.emit({idx:this.idx,formValues:i})}this.editPrice()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-ride-price-input"]],inputs:{price:"price",idx:"idx"},outputs:{updatedPrice:"updatedPrice"},standalone:!0,features:[Ke],decls:6,vars:4,consts:[[3,"ngSubmit","formGroup"],["type","button",3,"click"],[3,"for"],[3,"id","type","formControlName","value"]],template:function(i,o){i&1&&(x(0,"form",0),re("ngSubmit",function(){return o.submitPrice()}),Dt(1,kfe,4,9,null,null,zt),At(3,"keyvalue"),x(4,"button",1),re("click",function(){return o.readonly()===""?o.editPrice():o.submitPrice()}),S(5),D()()),i&2&&(ye("formGroup",o.formGroup),P(),Et(wr(3,2,o.price)),P(4),Zt(" ",o.readonly()===""?"change":"submit"," "))},dependencies:[Xh,Fn,In,fn,Dn,En,hn,_n,ju],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"],changeDetection:0});let t=e;return t})();function Lfe(t,e){if(t&1&&(x(0,"label",3),S(1,"Departure: "),D(),Y(2,"input",4)),t&2){let n=G();P(2),tr("readonly",n.readonly())}}function jfe(t,e){if(t&1&&(x(0,"label",5),S(1,"Arrival: "),D(),Y(2,"input",6)),t&2){let n=G();P(2),tr("readonly",n.readonly())}}function Vfe(t,e){if(t&1&&(x(0,"div",1)(1,"label",5),S(2,"Arrival: "),D(),Y(3,"input",6),x(4,"label",3),S(5,"Departure: "),D(),Y(6,"input",4),D()),t&2){let n=G();P(3),tr("readonly",n.readonly()),P(3),tr("readonly",n.readonly())}}var JL=(()=>{let e=class e{constructor(){this.updatedTime=new Ht,this.readonly=ge(""),this.fb=M(Sn)}ngOnInit(){this.formGroup=this.fb.group({arrival:[{value:""}],departure:[{value:""}]}),this.idx===0?this.formGroup.patchValue({arrival:null,departure:this.ride.segments[0].time[0].slice(0,16)}):this.idx===this.ride.segments.length?this.formGroup.patchValue({arrival:this.ride.segments[this.idx-1].time[1].slice(0,16),departure:null}):this.formGroup.patchValue({arrival:this.ride.segments[this.idx-1].time[1].slice(0,16),departure:this.ride.segments[this.idx].time[0].slice(0,16)})}editTime(){this.readonly.update(r=>r===""?null:"")}submitTime(){if(this.formGroup.valid){let r={arrival:this.parseDate(this.formGroup.getRawValue().arrival),departure:this.parseDate(this.formGroup.getRawValue().departure)};this.updatedTime.emit({idx:this.idx,formValues:r})}this.editTime()}parseDate(r){return new Date(r).toISOString()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-ride-time-input"]],inputs:{idx:"idx",ride:"ride"},outputs:{updatedTime:"updatedTime"},standalone:!0,features:[Ke],decls:6,vars:3,consts:[[3,"ngSubmit","formGroup"],[1,"flexColumn"],["type","button",3,"click"],["for","departure"],["id","departure","type","datetime-local","formControlName","departure","value","ride.segments[0].time[0]"],["for","arrival"],["id","arrival","type","datetime-local","formControlName","arrival","value","ride.segments[idx - 1].time[1]"]],template:function(i,o){i&1&&(x(0,"form",0),re("ngSubmit",function(){return o.submitTime()}),Se(1,Lfe,3,1)(2,jfe,3,1)(3,Vfe,7,2,"div",1),x(4,"button",2),re("click",function(){return o.readonly()===""?o.editTime():o.submitTime()}),S(5),D()()),i&2&&(ye("formGroup",o.formGroup),P(),Me(o.idx===0?1:o.idx===o.ride.segments.length?2:3),P(4),Zt(" ",o.readonly()===""?"change":"submit"," "))},dependencies:[Fn,In,fn,Dn,En,hn,_n],changeDetection:0});let t=e;return t})();var Bfe=()=>[".."];function $fe(t,e){t&1&&(x(0,"label",11),S(1,"Departure: "),D(),Y(2,"input",12))}function Ufe(t,e){t&1&&(x(0,"label",13),S(1,"Arrival: "),D(),Y(2,"input",14))}function qfe(t,e){t&1&&(x(0,"label",13),S(1,"Arrival: "),D(),Y(2,"input",14),x(3,"label",11),S(4,"Departure: "),D(),Y(5,"input",12))}function Hfe(t,e){if(t&1&&(x(0,"label",15),S(1),D(),Y(2,"input",16)),t&2){let n=e.$implicit,r=G(2).$index;fr("for",n.key),P(),tt(n.key),P(),Ey("id","",r,"",n.key,""),fr("formControlName",n.key)}}function zfe(t,e){if(t&1&&(Dt(0,Hfe,3,6,null,null,zt),At(2,"keyvalue")),t&2){let n=G(3);Et(wr(2,0,n.schedule[0].segments[0].price))}}function Gfe(t,e){if(t&1&&(x(0,"div",7)(1,"p"),S(2),D(),x(3,"div",9),Se(4,$fe,3,0)(5,Ufe,3,0)(6,qfe,6,0),D(),x(7,"div",10),Se(8,zfe,3,2),D()()),t&2){let n=e.$implicit,r=e.$index,i=G(2);ye("formGroupName",r),P(2),tt(n),P(2),Me(r===0?4:r===i.path.length-1?5:6),P(4),Me(r<i.path.length-1?8:-1)}}function Wfe(t,e){if(t&1){let n=It();x(0,"form",5),re("ngSubmit",function(){je(n);let i=G(2);return Ve(i.addNewRide())}),x(1,"div",6),Dt(2,Gfe,9,4,"div",7,zt),D(),x(4,"button",8),S(5,"Submit"),D()()}if(t&2){let n=G(),r=G();ye("formGroup",r.formGroup),P(2),Et(n.path)}}function Kfe(t,e){if(t&1){let n=It();x(0,"ta-ride-price-input",20),re("updatedPrice",function(i){je(n);let o=G(2).$implicit,a=G(),c=G();return Ve(c.updatedPrice(i,o.rideId,a.id))}),D()}if(t&2){let n=G().$index,r=G().$implicit;ye("idx",n)("price",r.segments[n].price)}}function Zfe(t,e){t&1&&Y(0,"div")}function Yfe(t,e){if(t&1){let n=It();x(0,"div",17)(1,"p"),S(2),D(),x(3,"ta-ride-time-input",18),re("updatedTime",function(i){je(n);let o=G().$implicit,a=G(),c=G();return Ve(c.updatedTime(i,o.rideId,a.id))}),D(),Se(4,Kfe,1,2,"ta-ride-price-input",19)(5,Zfe,1,0,"div"),D()}if(t&2){let n=e.$implicit,r=e.$index,i=G().$implicit;P(2),tt(n),P(),ye("idx",r)("ride",i),P(),Me(r<i.segments.length?4:5)}}function Qfe(t,e){if(t&1){let n=It();x(0,"div",4)(1,"h3"),S(2),D(),x(3,"button",1),re("click",function(){let i=je(n).$implicit,o=G(),a=G();return Ve(a.deleteRide(i.rideId,o.id))}),S(4,"Delete Ride"),D(),Dt(5,Yfe,6,4,"div",17,zt),D()}if(t&2){let n=e.$implicit,r=G();P(2),Zt("Ride: ",n.rideId,""),P(3),Et(r.path)}}function Jfe(t,e){if(t&1&&(Se(0,Wfe,6,1,"form",3),x(1,"section",2),Dt(2,Qfe,7,1,"div",4,zt),D()),t&2){let n=G();Me(n.isNewRoute()?0:-1),P(2),Et(e.schedule)}}var XL=(()=>{let e=class e{constructor(){this.routeResponse=ge(null),this.isNewRoute=ge(!1),this.route=M(Hi),this.ridesService=M(YL),this.fb=M(Sn)}ngOnInit(){let r=this.route.snapshot.url.at(-1)?.path;if(this.formGroup=this.fb.group({segments:this.fb.array([])}),r){let i=parseInt(r,10);isNaN(i)||this.ridesService.loadRouteById(i).subscribe({next:o=>{this.routeResponse.set(o),this.initializeForm(o)},error:o=>{console.log(o)}})}}addNewRide(){let r=this.routeResponse(),i=this.formGroup.value.segments,o=[];for(let a=0;a<i.length-1;a++){let c={time:[this.parseDate(i[a].departure),this.parseDate(i[a+1].arrival)],price:i[a].price};o.push(c)}r&&this.ridesService.addNewRide(r.id,o).subscribe(a=>{this.routeResponse.set(ve(q({},r),{schedule:[...r.schedule,{rideId:a,segments:o}]}))})}toggleNewRouteForm(){this.isNewRoute.update(r=>!r)}updatedPrice(r,i,o){let c=this.routeResponse()?.schedule.filter(l=>l.rideId===i)[0]?.segments?.map((l,d)=>d===r.idx?ve(q({},l),{price:r.formValues}):l);c&&this.ridesService.updateRide(c,i,o).subscribe({next:()=>this.ridesService.loadRouteById(o).subscribe({next:l=>{this.routeResponse.set(l)}})})}updatedTime(r,i,o){let a=this.routeResponse()?.schedule.filter(c=>c.rideId===i)[0]?.segments;if(a){let c=a.map((l,d)=>r.formValues.arrival&&d===r.idx-1?ve(q({},l),{time:[l.time[0],r.formValues.arrival??l.time[1]]}):d===r.idx?ve(q({},l),{time:[r.formValues.departure??l.time[0],l.time[1]]}):l);c&&this.ridesService.updateRide(c,i,o).subscribe({next:()=>this.ridesService.loadRouteById(o).subscribe({next:l=>{this.routeResponse.set(l)}})})}}deleteRide(r,i){this.ridesService.deleteRide(i,r).subscribe({next:()=>this.ridesService.loadRouteById(i).subscribe({next:o=>{this.routeResponse.set(o)}})})}get segments(){return this.formGroup.get("segments")}initializeForm(r){r.path.forEach((i,o)=>{let a=this.fb.group({departure:new Yn(""),arrival:new Yn(""),price:this.fb.group({})});if(o<r.path.length-1)for(let c of Object.keys(r.schedule[0].segments[0].price))a.get("price").addControl(c,new Yn(""));this.segments.push(a)})}parseDate(r){return new Date(r).toISOString()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-rides-page"]],standalone:!0,features:[Ke],decls:8,vars:4,consts:[[3,"routerLink"],[3,"click"],[1,"container"],[1,"createRide","card",3,"formGroup"],[1,"card"],[1,"createRide","card",3,"ngSubmit","formGroup"],["formArrayName","segments"],[1,"ride",3,"formGroupName"],["type","submit"],[1,"flexColumn"],["formGroupName","price",1,"flexColumn"],["for","departure"],["id","departure","formControlName","departure","type","datetime-local"],["for","arrival"],["id","arrival","formControlName","arrival","type","datetime-local"],[3,"for"],["type","number",3,"id","formControlName"],[1,"ride"],[3,"updatedTime","idx","ride"],[3,"idx","price"],[3,"updatedPrice","idx","price"]],template:function(i,o){if(i&1&&(x(0,"div")(1,"button",0),S(2,"<-"),D(),x(3,"h2"),S(4),D(),x(5,"button",1),re("click",function(){return o.toggleNewRouteForm()}),S(6,"Create Route"),D()(),Se(7,Jfe,4,1,"section",2)),i&2){let a,c;P(),ye("routerLink",fS(3,Bfe)),P(3),Zt("Route: ",(a=o.routeResponse())==null?null:a.id,""),P(3),Me((c=o.routeResponse())?7:-1,c)}},dependencies:[Fn,In,fn,$a,Dn,En,hn,_n,kg,Ls,Xh,QL,JL,bg],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.card[_ngcontent-%COMP%]{border:1px solid black;border-radius:30px;padding:15px}.ride[_ngcontent-%COMP%]{display:grid;gap:30px;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(2,auto);grid-auto-rows:38px;align-items:center}.createRide[_ngcontent-%COMP%]{margin:30px 0}.flexColumn[_ngcontent-%COMP%]{display:flex;flex-direction:column}input[readonly][_ngcontent-%COMP%]{border:none}input[readonly][_ngcontent-%COMP%]:focus{outline:none}"],changeDetection:0});let t=e;return t})();var ej=[{path:"",component:OL},{path:"signup",component:kL,canActivate:[UC]},{path:"signin",component:LL,canActivate:[UC]},{path:"profile",component:jL,canActivate:[$C]},{path:"trip/:rideId",component:KL,resolve:{trip:ZL}},{path:"orders",component:VL,canActivate:[$C]},{path:"admin/stations",component:UL,canActivate:[vd]},{path:"admin/carriages",component:qL,canActivate:[vd]},{path:"admin/routes",component:GL,canActivate:[vd]},{path:"admin/routes/:rideId",component:XL,canActivate:[vd]},{path:"**",component:Yk}];var tj=(()=>{let e=class e{constructor(){this.storedHome=null,this.future=null,this.past=null}shouldDetach(r){return r.routeConfig?.path===""&&this.future?.routeConfig?.path==="trip/:rideId"}store(r,i){r.routeConfig?.path===""&&this.future?.routeConfig?.path==="trip/:rideId"?this.storedHome=i:this.storedHome=null}shouldAttach(r){return!!(this.storedHome&&this.past?.routeConfig?.path==="trip/:rideId"&&r.routeConfig?.path==="")}retrieve(r){return r.routeConfig?.path===""&&this.storedHome?this.storedHome:null}shouldReuseRoute(r,i){return this.future=r,this.past=i,r.routeConfig===i.routeConfig}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let t=e;return t})();function Xfe(t,e,n){return()=>qc([t.loadCarriages(),e.loadStations(),n.loadOrders()])}var nj={providers:[_S(),Kk(ej),nF(rF([Zk])),{provide:Vh,useFactory:Xfe,deps:[Rs,gr,mc],multi:!0},{provide:IC,useClass:tj}]};function ehe(t,e){t&1&&S(0," Orders ")}function the(t,e){t&1&&S(0," My Orders ")}function nhe(t,e){if(t&1&&(x(0,"ta-header-link",1),S(1,"Profile"),D(),x(2,"ta-header-link",1),Se(3,ehe,1,0)(4,the,1,0),D()),t&2){let n=G();on("header-link-current-disabled",n.currentPage()==="profile"),ye("link","/profile"),P(2),on("header-link-current-disabled",n.currentPage()==="orders"),ye("link","/orders"),P(),Me(n.isManager()?3:4)}}function rhe(t,e){if(t&1&&(x(0,"ta-header-link",1),S(1,"Sign In"),D(),x(2,"ta-header-link",1),S(3,"Sign Up"),D()),t&2){let n=G();on("header-link-current-disabled",n.currentPage()==="signin"),ye("link","/signin"),P(2),on("header-link-current-disabled",n.currentPage()==="signup"),ye("link","/signup")}}function ihe(t,e){if(t&1&&(x(0,"ta-header-link",1),S(1,"Admin"),D()),t&2){let n=G();on("header-link-current-disabled",n.currentPage()==="admin"),ye("link","/admin/stations")}}var rj=(()=>{let e=class e{constructor(){this.router=M(an),this.authService=M(Vn),this.profileService=M(Os),this.isAuthenticated=this.authService.isAuthenticated,this.isManager=ei(()=>this.profileService.role()==="manager"),this.currentPage=ge(""),this.router.events.subscribe(r=>{if(r instanceof Ii){let i=r.urlAfterRedirects.split("/")[1];(i===""||i==="trip")&&(i="home"),this.currentPage.set(i)}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-header"]],standalone:!0,features:[Ke],decls:7,vars:5,consts:[[1,"block"],[3,"link"],[3,"link","header-link-current-disabled"]],template:function(i,o){i&1&&(x(0,"div",0)(1,"ta-header-link",1),S(2,"Home"),D(),Se(3,nhe,5,7),D(),x(4,"div",0),Se(5,rhe,4,6)(6,ihe,2,3,"ta-header-link",2),D()),i&2&&(P(),on("header-link-current-disabled",o.currentPage()==="home"),ye("link","/"),P(2),Me(o.isAuthenticated()?3:-1),P(2),Me(o.isAuthenticated()?o.isManager()?6:-1:5))},dependencies:[qg],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between;font-size:clamp(20px,4px + 4vw,28px);padding:clamp(4px,-16px + 5vw,16px)}.block[_ngcontent-%COMP%]{display:flex}"],changeDetection:0});let t=e;return t})();var ij=(()=>{let e=class e{constructor(){this.pressedDownElement=null,document.addEventListener("mousedown",r=>{this.closeDialogOnOuterPressedDown(r)}),document.addEventListener("click",r=>{this.closeDialogOnOuterClick(r)})}closeDialogOnOuterPressedDown(r){this.pressedDownElement=r.target}closeDialogOnOuterClick(r){let i=document.getElementById("dialog");r.target===i&&this.pressedDownElement===r.target&&i?.close(),this.pressedDownElement=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=We({type:e,selectors:[["ta-root"]],standalone:!0,features:[Ke],decls:2,vars:0,template:function(i,o){i&1&&Y(0,"ta-header")(1,"router-outlet")},dependencies:[wC,rj],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;max-width:1024px;margin:0 auto}"]});let t=e;return t})();fk().then(()=>dF(ij,nj));
